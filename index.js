/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["sceyt-chat"]=t():e["sceyt-chat"]=t()}(this,(()=>(()=>{var __webpack_modules__={169:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=null;"undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof MozWebSocket?r=MozWebSocket:void 0!==n.g?r=n.g.WebSocket||n.g.MozWebSocket:"undefined"!=typeof window?r=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket);const o=r},251:function(e,t,n){var r,o;r=function(e){"use strict";var t,n,r={template:"[%t] %l:",levelFormatter:function(e){return e.toUpperCase()},nameFormatter:function(e){return e||"root"},timestampFormatter:function(e){return e.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},o={},i={reg:function(e){if(!e||!e.getLogger)throw new TypeError("Argument is not a root logger");t=e},apply:function(e,n){if(!e||!e.setLevel)throw new TypeError("Argument is not a logger");var i=e.methodFactory,s=e.name||"",a=o[s]||o[""]||r;return o[s]||(e.methodFactory=function(e,t,n){var r=i(e,t,n),a=o[n]||o[""],l=-1!==a.template.indexOf("%t"),c=-1!==a.template.indexOf("%l"),u=-1!==a.template.indexOf("%n");return function(){for(var t="",i=arguments.length,d=Array(i),p=0;p<i;p++)d[p]=arguments[p];if(s||!o[n]){var h=a.timestampFormatter(new Date),f=a.levelFormatter(e),g=a.nameFormatter(n);a.format?t+=a.format(f,g,h):(t+=a.template,l&&(t=t.replace(/%t/,h)),c&&(t=t.replace(/%l/,f)),u&&(t=t.replace(/%n/,g))),d.length&&"string"==typeof d[0]?d[0]=t+" "+d[0]:d.unshift(t)}r.apply(void 0,d)}}),(n=n||{}).template&&(n.format=void 0),o[s]=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(t in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],t)&&(e[t]=arguments[n][t]);return e}({},a,n),e.setLevel(e.getLevel()),t||e.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),e}};return e&&(n=e.prefix,i.noConflict=function(){return e.prefix===i&&(e.prefix=n),i}),i},void 0===(o=r.call(t,n,t,e))||(e.exports=o)},291:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedChannelListQueryBuilder=void 0;var a=n(4799),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limit=function(e){return t.count=e,t},t.build=function(){return i(t,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.BlockedChannelListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},t}return o(t,e),t}(a.QueryBuilder);t.BlockedChannelListQueryBuilder=l},361:(e,t,n)=>{"use strict";var r=t,o=n(3262),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var n=0,r={};for(t|=0;n<e.length;)r[i[n+t]]=e[n++];return r}r.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),r.long=s([0,0,0,1,1],7),r.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},420:(e,t,n)=>{"use strict";e.exports=function(e){var t=o.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var r=0;r<e.fieldsArray.length;++r){var l=e._fieldsArray[r].resolve(),c="m"+o.safeProp(l.name);if(l.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,l.name),l.map)t("if(!util.isObject(%s))",c)("return%j",i(l,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),a(t,l,"k[i]"),s(t,l,r,c+"[k[i]]")("}");else if(l.repeated)t("if(!Array.isArray(%s))",c)("return%j",i(l,"array"))("for(var i=0;i<%s.length;++i){",c),s(t,l,r,c+"[i]")("}");else{if(l.partOf){var u=o.safeProp(l.partOf.name);1===n[l.partOf.name]&&t("if(p%s===1)",u)("return%j",l.partOf.name+": multiple values"),n[l.partOf.name]=1,t("p%s=1",u)}s(t,l,r,c)}l.optional&&t("}")}return t("return null")};var r=n(5643),o=n(3262);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,n,o){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",o)("default:")("return%j",i(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(t,"buffer"))}return e}function a(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",i(t,"boolean key"))}return e}},431:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListSearchQuery=void 0;var i=n(2814),s=function(){function e(e){var t=this;this.loading=!1,this.hasNext=!0,this.loadNext=function(){return r(t,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return this.loading?[3,2]:this.hasNext?(this.loading=!0,e=i.InternalChannelHandler.getInstance(),t={channelId:this.channelId,count:this.count,nextToken:this.nextToken,fields:this.fields},[4,e.searchMessages(t)]):[3,2];case 1:return n=r.sent(),this.loading=!1,this.hasNext=n.messages.length===this.count,this.nextToken=n.nextToken,[2,{messages:n.messages,hasNext:this.hasNext}];case 2:return[2]}}))}))},this.channelId=e.channelId,this.fields=e.fields,this.count=e.count,this.loading=!1,this.hasNext=!0}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchFields",{get:function(){return this.fields},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchChannelId",{get:function(){return this.channelId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchNextToken",{get:function(){return this.nextToken||""},enumerable:!1,configurable:!0}),e}();t.MessageListSearchQuery=s},463:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenChannelListQueryBuilder=void 0;var a=n(4799),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limit=function(e){return t.count=e,t},t.build=function(){return i(t,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.HiddenChannelListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},t}return o(t,e),t}(a.QueryBuilder);t.HiddenChannelListQueryBuilder=l},526:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageMarkerListQueryBuilder=void 0;var a=n(4799),l=function(e){function t(t,n,r){var o=e.call(this)||this;return o.limit=function(e){return o.count=e,o},o.reverse=function(e){o.reverseData=e},o.build=function(){return i(o,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.MessageMarkerListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},o.channelId=t,o.messageId=n,o.markers=r,o.reverseData=!1,o}return o(t,e),t}(a.QueryBuilder);t.MessageMarkerListQueryBuilder=l},527:e=>{"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o=/^ *[*/]+ */,i=/^\s*\*?\/*/,s=/\n/g,a=/\s/,l=/\\(.?)/g,c={0:"\0",r:"\r",n:"\n",t:"\t"};function u(e){return e.replace(l,(function(e,t){switch(t){case"\\":case"":return t;default:return c[t]||""}}))}function d(e,l){e=e.toString();var c=0,d=e.length,p=1,h=null,f=null,g=0,y=!1,m=!1,b=[],v=null;function O(e){return Error("illegal "+e+" (line "+p+")")}function w(t){return e.charAt(t)}function S(t,n,r){h=e.charAt(t++),g=p,y=!1,m=r;var a,c=t-(l?2:3);do{if(--c<0||"\n"===(a=e.charAt(c))){y=!0;break}}while(" "===a||"\t"===a);for(var u=e.substring(t,n).split(s),d=0;d<u.length;++d)u[d]=u[d].replace(l?i:o,"").trim();f=u.join("\n").trim()}function _(t){var n=E(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function E(e){for(var t=e;t<d&&"\n"!==w(t);)t++;return t}function I(){if(b.length>0)return b.shift();if(v)return function(){var t="'"===v?r:n;t.lastIndex=c-1;var o=t.exec(e);if(!o)throw O("string");return c=t.lastIndex,P(v),v=null,u(o[1])}();var o,i,s,h,f,g=0===c;do{if(c===d)return null;for(o=!1;a.test(s=w(c));)if("\n"===s&&(g=!0,++p),++c===d)return null;if("/"===w(c)){if(++c===d)throw O("comment");if("/"===w(c))if(l){if(h=c,f=!1,_(c)){f=!0;do{if((c=E(c))===d)break;c++}while(_(c))}else c=Math.min(d,E(c)+1);f&&S(h,c,g),p++,o=!0}else{for(f="/"===w(h=c+1);"\n"!==w(++c);)if(c===d)return null;++c,f&&S(h,c-1,g),++p,o=!0}else{if("*"!==(s=w(c)))return"/";h=c+1,f=l||"*"===w(h);do{if("\n"===s&&++p,++c===d)throw O("comment");i=s,s=w(c)}while("*"!==i||"/"!==s);++c,f&&S(h,c-2,g),o=!0}}}while(o);var y=c;if(t.lastIndex=0,!t.test(w(y++)))for(;y<d&&!t.test(w(y));)++y;var m=e.substring(c,c=y);return'"'!==m&&"'"!==m||(v=m),m}function P(e){b.push(e)}function k(){if(!b.length){var e=I();if(null===e)return null;P(e)}return b[0]}return Object.defineProperty({next:I,peek:k,push:P,skip:function(e,t){var n=k();if(n===e)return I(),!0;if(!t)throw O("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?g===p-1&&(l||"*"===h||y)&&(t=m?f:null):(g<e&&k(),g!==e||y||!l&&"/"!==h||(t=m?null:f)),t}},"line",{get:function(){return p}})}d.unescape=u},744:(e,t,n)=>{"use strict";var r=t,o=n(5643),i=n(3262);function s(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",r);for(var i=t.resolvedType.values,s=Object.keys(i),a=0;a<s.length;++a)t.repeated&&i[s[a]]===t.typeDefault&&e("default:"),e("case%j:",s[a])("case %i:",i[s[a]])("m%s=%j",r,i[s[a]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,l)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function a(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var a=t[r].resolve(),l=i.safeProp(a.name);a.map?(n("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),s(n,a,r,l+"[ks[i]]")("}")("}")):a.repeated?(n("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),s(n,a,r,l+"[i]")("}")("}")):(a.resolvedType instanceof o||n("if(d%s!=null){",l),s(n,a,r,l),a.resolvedType instanceof o||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var n=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],s=[],l=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?r:t[c].map?s:l).push(t[c]);if(r.length){for(n("if(o.arrays||o.defaults){"),c=0;c<r.length;++c)n("d%s=[]",i.safeProp(r[c].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),c=0;c<s.length;++c)n("d%s={}",i.safeProp(s[c].name));n("}")}if(l.length){for(n("if(o.defaults){"),c=0;c<l.length;++c){var u=l[c],d=i.safeProp(u.name);if(u.resolvedType instanceof o)n("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var p="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",d,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else n("d%s=%j",d,u.typeDefault)}n("}")}var h=!1;for(c=0;c<t.length;++c){u=t[c];var f=e._fieldsArray.indexOf(u);d=i.safeProp(u.name),u.map?(h||(h=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),a(n,u,f,d+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),a(n,u,f,d+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name),a(n,u,f,d),u.partOf&&n("if(o.oneofs)")("d%s=%j",i.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},818:(e,t,n)=>{"use strict";e.exports=i;var r=n(3449);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(3610);function i(){r.call(this)}function s(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},i._configure()},842:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Member=void 0;var i=function(e){function t(t){var n=e.call(this,t.user)||this;return n.role=t.role,n}return o(t,e),t}(n(4799).User);t.Member=i},984:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageMarkerListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNext=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,3]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),t={channelId:this.channelId,messageId:this.messageId,markers:this.markers,start:this.start,count:this.count},this.loading=!0,[4,e.messageMarkersQuery(t)]):[3,2];case 1:return n=o.sent(),this.loading=!1,r=n.messages[0],s=r.markers[r.markers.length-1].time,a=s/i.BIT22+i.EPOCH,this.start=a,l=new Map,n.users.forEach((function(e){l.set(e.id,new i.User(e))})),[2,{markers:r.markers.map((function(e){return new i.MessageMarker({msgId:r.msgId,user:l.get(e.userId),name:e.name,createAt:a})})),hasNext:this.hasNext}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 3:return[2]}}))}))},this.channelId=e.channelId,this.messageId=e.messageId,this.markers=e.markers,this.count=e.count,this.reverseData=e.reverseData}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this.reverseData},set:function(e){this.reverseData=e},enumerable:!1,configurable:!0}),e}();t.MessageMarkerListQuery=s},987:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedMemberListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.index=0,this.loadNextPage=function(){return r(t,void 0,void 0,(function(){var e,t,n,r;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasNext?[4,(e=i.InternalChannelHandler.getInstance()).getBlockedMembers(this)]:[3,2];case 1:return t=o.sent(),n=t.members.list,r=t.count,this.index+=n.length,this.hasNext=r-this.index>0,[2,{members:e.createMembersList(n),hasNext:this.hasNext}];case 2:return[2,{members:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.channelId=e.channelId,this.count=e.count,this.hasNext=e.hasNext}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),e}();t.BlockedMemberListQuery=s},1e3:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MemberListQueryBuilder=void 0;var a=n(4799),l=function(e){function t(t){var n=e.call(this)||this;return n.limit=function(e){return n.count=e,n},n.privileged=function(){return n.type=a.MembersType[a.MembersType.PRIVILEGED],n},n.all=function(){return n.type=a.MembersType[a.MembersType.ALL],n},n.byAscendingOrder=function(){return n.order=a.MembersOrder[a.MembersOrder.ASC],n},n.byDescendingOrder=function(){return n.order=a.MembersOrder[a.MembersOrder.DESC],n},n.byAffiliationOrder=function(){return n.order=a.MembersOrder[a.MembersOrder.AFFILATION],n},n.orderKeyByUsername=function(){return n.key=a.MembersOrderKey[a.MembersOrderKey.USERNAME],n},n.orderKeyByFirstname=function(){return n.key=a.MembersOrderKey[a.MembersOrderKey.FIRSTNAME],n},n.orderKeyByLastname=function(){return n.key=a.MembersOrderKey[a.MembersOrderKey.LASTNAME],n},n.build=function(){return i(n,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.MemberListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},n.channelId=t,n.type=a.MembersType[a.MembersType.ALL],n.order=a.MembersOrder[a.MembersOrder.DESC],n.key=a.MembersOrderKey[a.MembersOrderKey.FIRSTNAME],n.i=0,n}return o(t,e),t}(a.QueryBuilder);t.MemberListQueryBuilder=l},1050:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryBuilder=void 0;t.QueryBuilder=function(){this.count=10}},1080:(e,t,n)=>{"use strict";e.exports=function(e){for(var t,n=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(i.compareFieldsById),l=0;l<a.length;++l){var c=a[l].resolve(),u=e._fieldsArray.indexOf(c),d=c.resolvedType instanceof r?"int32":c.type,p=o.basic[d];t="m"+i.safeProp(c.name),c.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|o.mapKey[c.keyType],c.keyType),void 0===p?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,d,t),n("}")("}")):c.repeated?(n("if(%s!=null&&%s.length){",t,t),c.packed&&void 0!==o.packed[d]?n("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===p?s(n,c,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(c.id<<3|p)>>>0,d,t)),n("}")):(c.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,c.name),void 0===p?s(n,c,u,t):n("w.uint32(%i).%s(%s)",(c.id<<3|p)>>>0,d,t))}return n("return w")};var r=n(5643),o=n(361),i=n(3262);function s(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},1252:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingClient=void 0;var s=i(n(3065)),a=n(4799),l=function(){function e(e,t){var n=this;this.onMessageActionReceived=new a.LiteEvent,this.onMessageStatusReceived=new a.LiteEvent,this.onChannelActionReceived=new a.LiteEvent,this.onChannelQueryReceived=new a.LiteEvent,this.onMessageReceived=new a.LiteEvent,this.onMessageUnreadCountsReceived=new a.LiteEvent,this.onSignalReceived=new a.LiteEvent,this.onChannelEventsReceived=new a.LiteEvent,this.messagingQueue={},this.send=function(e,t,i,l){return r(n,void 0,void 0,(function(){var n,r;return o(this,(function(o){if(n=Date.now(),this.authHandler.authState!==a.AuthState.AUTHENTICATED)s.default.error("Connection is required to send message"),this.socketClient.close(),i&&(r={message:a.clientErrors.CONNECTION_REQUIRED.message,code:a.clientErrors.CONNECTION_REQUIRED.code},i(!0,r));else{i&&(this.messagingQueue[e]={whitingBMPType:l,callback:i,sendingTime:n});try{this.socketClient.sendMessage(t)}catch(e){i&&(r={message:a.clientErrors.UNKNOWN_ERROR.message,code:a.clientErrors.UNKNOWN_ERROR.code},i(!0,r)),s.default.error("Error in sending message",e)}}return[2]}))}))},this.handleMessage=function(e,t,i){return r(n,void 0,void 0,(function(){var n,r,s,l,c,u,d,p,h,f,g,y,m,b,v;return o(this,(function(o){switch(o.label){case 0:return n=Date.now(),e!==a.BMP.Pong?[3,1]:(this.socketClient.handlePong(),[3,4]);case 1:return Object.values(a.BMP).includes(e)?(r=t.id,s=t.tid,l=t.cid,c=t.requestId,e===a.BMP.Message&&(r=t.message.id,s=t.message.cid),u=s||l||r||c,d=this.messagingQueue[u]&&this.messagingQueue[u].callback,p=this.messagingQueue[u]&&this.messagingQueue[u].whitingBMPType,(h=e===a.BMP.Error)&&!t.id&&t.additionalData&&t.additionalData.length?[4,a.PB.decode(t.additionalData)]:[3,3]):[3,4];case 2:f=o.sent(),v=f.decodedMessage,g=v.tid||v.message&&v.message.cid||v.id||v.message.id,this.messagingQueue[g]&&((0,this.messagingQueue[g].callback)(h,t),delete this.messagingQueue[g]),o.label=3;case 3:if(d){if(e===a.BMP.MessageMarkerStatus&&p!==a.BMP.MessageMarkerStatus)return[2];delete this.messagingQueue[u],d(h,t)}else e===a.BMP.ChannelAction?(y=t.type,this.onChannelActionReceived.trigger({isError:h,decodedMessage:t,receivedEventType:y})):e===a.BMP.ChannelQuery?(y=t.type,this.onChannelQueryReceived.trigger({isError:h,decodedMessage:t,receivedEventType:y})):e===a.BMP.Message?this.onMessageReceived.trigger(t):e===a.BMP.MessageAction?this.onMessageActionReceived.trigger(t):e===a.BMP.MessageMarkerStatus?this.onMessageStatusReceived.trigger(t):e===a.BMP.ChannelEvent?this.onChannelEventsReceived.trigger(t):e===a.BMP.SystemMessage?this.onMessageUnreadCountsReceived.trigger(t):e===a.BMP.Signal?this.onSignalReceived.trigger(t):h&&console.warn("handleMessage() unhandled error, decodedMessage is",t,"case of event ",e);o.label=4;case 4:for(m in this.messagingQueue)n-this.messagingQueue[m].sendingTime>=i&&(b=this.messagingQueue[m].callback,v={message:a.clientErrors.REQUEST_TIMEOUT.message,code:a.clientErrors.REQUEST_TIMEOUT.code},b(!0,v),delete this.messagingQueue[m]);return[2]}}))}))},this.createMessageId=function(){return(0,a.createUUID)()},this.socketClient=e,this.authHandler=t}return Object.defineProperty(e.prototype,"channelActionReceived",{get:function(){return this.onChannelActionReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"channelQueryReceived",{get:function(){return this.onChannelQueryReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageActionReceived",{get:function(){return this.onMessageActionReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signalReceived",{get:function(){return this.onSignalReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageStatusReceived",{get:function(){return this.onMessageStatusReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageReceived",{get:function(){return this.onMessageReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageUnreadCountsReceived",{get:function(){return this.onMessageUnreadCountsReceived.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"channelEventsReceived",{get:function(){return this.onChannelEventsReceived.expose()},enumerable:!1,configurable:!0}),e}();t.MessagingClient=l},1344:(e,t,n)=>{"use strict";e.exports=c;var r=n(7209);((c.prototype=Object.create(r.prototype)).constructor=c).className="Field";var o,i=n(5643),s=n(361),a=n(3262),l=/^required|optional|repeated$/;function c(e,t,n,o,i,c,u){if(a.isObject(o)?(u=i,c=o,o=i=void 0):a.isObject(i)&&(u=c,c=i,i=void 0),r.call(this,e,c),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==o&&!l.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!a.isString(i))throw TypeError("extend must be a string");"proto3_optional"===o&&(o="optional"),this.rule=o&&"optional"!==o?o:void 0,this.type=n,this.id=t,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},c.d=function(e,t,n,r){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(o,i){a.decorateType(o.constructor).add(new c(i,e,t,n,{default:r}))}},c._configure=function(e){o=e}},1376:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerTotal=void 0;t.MarkerTotal=function(e){this.name=e.name,this.count=e.count}},1446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var r=n(4799);t.Marker=function(e){this.name=e.name,this.createdAt=new Date(Number(e.createdAt)),this.messageId=e.messageId.toString(),this.user=e.user&&new r.User(e.user)}},1447:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],s=0;t<n;)(r=e[t++])<128?i[s++]=r:r>191&&r<224?i[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(r>>10),i[s++]=56320+(1023&r)):i[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},n.write=function(e,t,n){for(var r,o,i=n,s=0;s<e.length;++s)(r=e.charCodeAt(s))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&o),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}},1457:(e,t,n)=>{"use strict";e.exports=s;var r=n(7209);((s.prototype=Object.create(r.prototype)).constructor=s).className="OneOf";var o=n(1344),i=n(3262);function s(e,t,n,o){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}a(this)},s.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},s.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){i.decorateType(t.constructor).add(new s(n,e)),Object.defineProperty(t,n,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},1509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiteEvent=void 0;t.LiteEvent=function(){var e=this;this.handlers=[],this.on=function(t){e.handlers.push(t)},this.off=function(t){e.handlers=e.handlers.filter((function(e){return e!==t}))},this.trigger=function(t){e.handlers.slice(0).forEach((function(e){return e(t)}))},this.expose=function(){return e}}},1559:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;var s=n(4799),a=function(){function e(e){var t,n,r=this;this.delete=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).delete(t)]}))}))},this.hide=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).hide(t)]}))}))},this.unhide=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).unhide(t)]}))}))},this.deleteAllMessages=function(e,t){return o(r,void 0,void 0,(function(){var n,r;return i(this,(function(o){return n=this.id,r=t||s.InternalChannelHandler.getInstance(),e?[2,r.deleteAllMessages(n)]:[2,r.clearHistory(n)]}))}))},this.sendMessage=function(e,t){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.id,[2,(t||s.InternalChannelHandler.getInstance()).sendMessageHandler(n,e)]}))}))},this.reSendMessage=function(e,t){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.id,[2,(t||s.InternalChannelHandler.getInstance()).sendMessageHandler(n,e)]}))}))},this.createMessageBuilder=function(e){var t=e||s.InternalChannelHandler.getInstance();return new s.MessageBuilder(t.user,r.id)},this.createAttachmentBuilder=function(e,t){return new s.AttachmentBuilder(e,t)},this.deleteMessageById=function(e,t,n){var o=r.id;return(n||s.InternalChannelHandler.getInstance()).deleteMessage(o,e,t)},this.deleteMessage=function(e,t,n){var o=r.id;return(n||s.InternalChannelHandler.getInstance()).deleteMessage(o,e.id,t)},this.editMessage=function(e,t){var n=r.id;return(t||s.InternalChannelHandler.getInstance()).editMessage(n,e)},this.startTyping=function(){var e=r.id;s.InternalChannelHandler.getInstance().startTyping(e)},this.stopTyping=function(){var e=r.id;s.InternalChannelHandler.getInstance().stopTyping(e)},this.startRecording=function(){var e=r.id;s.InternalChannelHandler.getInstance().startRecording(e)},this.stopRecording=function(){var e=r.id;s.InternalChannelHandler.getInstance().stopRecording(e)},this.sendEvent=function(e,t){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.id,[2,(t||s.InternalChannelHandler.getInstance()).sendEvent(n,e)]}))}))},this.markMessagesAsReceived=function(e,t){var n=r.id;return(t||s.InternalChannelHandler.getInstance()).markMessageAsDelivered(n,e)},this.markMessagesAsDisplayed=function(e,t){var n=r.id;return(t||s.InternalChannelHandler.getInstance()).markMessageAsRead(n,e)},this.markAsRead=function(){var e=r.id;return s.InternalChannelHandler.getInstance().markChannelAs(e,!0)},this.markAsUnRead=function(){var e=r.id;return s.InternalChannelHandler.getInstance().markChannelAs(e)},this.mute=function(e){var t=r.id;return s.InternalChannelHandler.getInstance().muteChannel(t,e)},this.unmute=function(){var e=r.id;return s.InternalChannelHandler.getInstance().unmuteChannel(e)},this.freeze=function(e){var t=r.id;return s.InternalChannelHandler.getInstance().freezeChannel(t,e)},this.unfreeze=function(){var e=r.id;return s.InternalChannelHandler.getInstance().unfreezeChannel(e)},this.addReaction=function(e,t,n,o,i,a){var l=r.id;return n<=0&&(n=1),(a||s.InternalChannelHandler.getInstance()).addReactionToMessage(l,e,t,n,o,i)},this.deleteReaction=function(e,t,n){var o=r.id;return(n||s.InternalChannelHandler.getInstance()).deleteReactionFromMessage(o,e,t)},this.createThread=function(e,t){var n=r.id;return(t||s.InternalChannelHandler.getInstance()).createThread(n,e)},this.getMessagesById=function(e,t){var n=r.id;return(t||s.InternalChannelHandler.getInstance()).loadMessagesById(n,e)},this.setMessageRetentionPeriod=function(e,t){var n=r.id;return e<0&&(e=0),(t||s.InternalChannelHandler.getInstance()).setMessageRetentionPeriod(n,e)},this.addMembers=function(e,t){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.id,[2,(t||s.InternalChannelHandler.getInstance()).addMembers(n,e,!0)]}))}))},this.kickMembers=function(e,t){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.id,[2,(t||s.InternalChannelHandler.getInstance()).kickMembers(n,e)]}))}))},this.blockMembers=function(e,t){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.id,[2,(t||s.InternalChannelHandler.getInstance()).blockMembers(n,e)]}))}))},this.unBlockMembers=function(e){return void 0===e&&(e=[]),o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,s.InternalChannelHandler.getInstance().unBlockMembers(t,e)]}))}))},this.block=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).block(t)]}))}))},this.pin=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).pinChannel(t)]}))}))},this.unpin=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).unpinChannel(t)]}))}))},this.changeOwner=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,s.InternalChannelHandler.getInstance().changeOwner(t,e)]}))}))},this.changeMembersRole=function(e,t){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.id,[2,(t||s.InternalChannelHandler.getInstance()).changeMemberRole(n,e)]}))}))},this.unblock=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).unblock(t)]}))}))},this.leave=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).leave(t)]}))}))},this.createMemberBuilder=function(e){return new s.MemberBuilder(e)},this.join=function(e){return o(r,void 0,void 0,(function(){var t;return i(this,(function(n){return t=this.id,[2,(e||s.InternalChannelHandler.getInstance()).join(t)]}))}))},this.update=function(e,t){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.id,[2,(t||s.InternalChannelHandler.getInstance()).update(n,e)]}))}))},this.id=e.id,this.parentChannelId=e.parentId,this.newMessageCount=e.conv&&e.conv.unread||0,this.newMentionCount=e.conv&&e.conv.unreadMentions?null===(t=e.conv)||void 0===t?void 0:t.unreadMentions.toNumber():0,this.newReactedMessageCount=e.conv&&e.conv.unreadReactions?e.conv.unreadReactions.toNumber():0,this.createdAt=new Date(Number(e.createdAt)),this.updatedAt=e.updatedAt?new Date(Number(e.updatedAt)):null,this.createdBy=e.createdBy&&new s.User(e.createdBy),this.messagesClearedAt=e.messagesClearedAt?new Date(Number(e.messagesClearedAt)):null,this.type=e.type,e.conv&&e.conv.msg?this.lastMessage=s.InternalChannelHandler.getInstance().createMessageInstance(null===(n=e.conv)||void 0===n?void 0:n.msg):this.lastMessage=null,this.messages=e.messages?e.messages.map((function(e){return s.InternalChannelHandler.getInstance().createMessageInstance(e)})):[],this.memberCount=e.membersTotalCount||e.members.length,this.lastDisplayedMessageId=e.conv&&e.conv.localDspld.toString(),this.lastReceivedMessageId=e.conv&&e.conv.localRcvd.toString(),this.unread=e.conv&&e.conv.channelUnread,this.muted=e.muted;var a=e.muteTill&&e.muteTill.toNumber();this.mutedTill=a?new Date(Date.now()+a):null,this.frozen=e.frozen;var l=e.frozenTill&&e.frozenTill.toNumber();this.frozenTill=l?new Date(l):null;var c=e.pinnedAt&&e.pinnedAt.toNumber();this.pinnedAt=c?new Date(c):null,this.newReactions=e.userMessageReactions?e.userMessageReactions.map((function(e){return new s.Reaction(e)})):[],this.userRole=e.role||null,this.subject=e.subject||"",this.hidden=e.hidden,this.archived=e.archived,e.autoDeletePeriod&&e.autoDeletePeriod.toNumber()>0&&(this.messageRetentionPeriod=e.autoDeletePeriod.toNumber()),this.metadata=e.metadata||"",this.avatarUrl=e.avatar||"",this.uri=e.uri||"",this.members=e.members.length?e.members:[],this.typeOverride=e.typeOverride?{discoverable:e.typeOverride.discoverable||{value:!1},allowJoin:e.typeOverride.allowJoin||{value:!1},distinct:e.typeOverride.distinct||{value:!1},defaultMembershipRole:e.typeOverride.defaultMembershipRole||"participant",roleOverrides:e.typeOverride.roleOverrides||{}}:void 0}return e.create=function(e,t){return o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,(t||s.InternalChannelHandler.getInstance()).createChannel(r({},e))]}))}))},e}();t.Channel=a},1675:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var o=n(4799);t.Message=function(e){var t=this;this.transient=!1,this.silent=!1,this.userReactions=[],this.userMarkers=[],this.bodyAttributes=[],this.repliedInThread=!1,this.displayCount=1,this.mentionUserIds=function(){return t.requestedMentionUserIds};var n=o.InternalChannelHandler.getInstance();this.user=e.message.from,this.channelId=e.message.channelId,this.body=e.message.text,this.metadata=e.message.metadata,this.incoming=e.message.isIncoming||!1,this.createdAt=e.message.date,this.updatedAt=e.message.updatedAt,this.bodyAttributes=e.message.bodyAttributes||[],e.message.autoDeleteAt&&e.message.autoDeleteAt.toNumber()&&(this.autoDeleteAt=new Date(e.message.autoDeleteAt.toNumber())),this.displayCount=e.message.assignedReadCount,e.message.userMarkers&&e.message.userMarkers.length&&(this.userMarkers=e.message.userMarkers.map((function(e){return new o.Marker({name:e.name,messageId:e.messageId,createdAt:e.time,user:e.user})}))),e.message.tid&&(this.tid=e.message.tid.toString()),this.id=e.message.id?e.message.id.toString():"",this.type=e.message.type,this.deliveryStatus=e.message.status?o.MessageDeliveryStatus[e.message.status]:"pending",this.state=e.message.chStatus?o.MessageUpdateStatus[e.message.chStatus]:"unmodified",this.transient=e.message.transient,this.silent=e.message.silent,e.message.reaction&&e.message.reaction.countList.length&&(this.userReactions=e.message.reaction.selfObjs.map((function(t){var n,i;return new o.Reaction(r(r({},t),{messageId:(null===(n=e.message.reaction)||void 0===n?void 0:n.messageId)?null===(i=e.message.reaction)||void 0===i?void 0:i.messageId.toString():""}))})),this.reactionTotals=e.message.reaction.countList.map((function(e){return new o.ReactionTotal({key:e.key,count:Number(e.count),score:Number(e.score)})}))),e.message.markers&&(this.markerTotals=Object.keys(e.message.markers).map((function(t){return new o.MarkerTotal({name:t,count:Number(e.message.markers[t])})}))),this.attachments=e.message.attachments,this.requestedMentionUserIds=e.message.requestedMentionUserIds||null,this.mentionedUsers=e.message.mentions||[],e.replyInThread&&(this.repliedInThread=e.replyInThread),e.parent&&(this.parentMessage=n.createMessageInstance({message:e.parent}),this.repliedInThread=e.replyInThread),this.parentMessageId=e.message.parentMessageId,e.message.replyCount&&(this.replyCount=e.message.replyCount),e.message.forwardingDetails&&(this.forwardingDetails={user:e.message.forwardingDetails.user,messageId:e.message.forwardingDetails.messageId.toString(),channelId:e.message.forwardingDetails.channelId&&e.message.forwardingDetails.channelId.toString(),hops:e.message.forwardingDetails.hops})}},1727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reaction=void 0;var r=n(4799);t.Reaction=function(e){this.id=e.id.toString(),this.key=e.key,this.score=e.score,this.reason=e.reason,this.createdAt=new Date(Number(e.createdAt)),this.updatedAt=new Date(Number(e.updatedAt)),this.messageId=e.messageId.toString(),this.user=new r.User(e.user)}},1853:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacyListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.nextToken=null,this.loading=!1,this.loadNextPage=function(){return r(t,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return e=i.InternalUserHandler.getInstance(),this.loading?[3,2]:this.hasNext?(this.loading=!0,t={count:this.limit,nextToken:this.nextToken,exceptionType:this.exceptionType,privacyField:this.privacyField},[4,e.getPrivacySettings(t)]):[3,2];case 1:return n=r.sent(),this.loading=!1,this.nextToken=n.nextToken,this.hasNext=!!n.nextToken,[2,{users:n.list,hasNext:this.hasNext}];case 2:return[2]}}))}))},this.count=e.count,this.type=e.type,this.parameter=e.privacyField}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exceptionType",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"privacyField",{get:function(){return this.parameter},enumerable:!1,configurable:!0}),e}();t.PrivacyListQuery=s},1928:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},2012:(e,t,n)=>{"use strict";var r=n(9516),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},2239:(e,t,n)=>{"use strict";e.exports=o;var r=n(3610);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},2273:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attachment=void 0;t.Attachment=function(e){this.id=e.id,e.tid&&(this.tid=e.tid),this.messageId=e.messageId||"",this.size=e.fileSize||"0",this.name=e.name||"",this.type=e.type,this.metadata=e.metadata||"",this.url=e.url||"",this.createdAt=e.createdAt||null,this.upload=e.upload||!1,e.user&&(this.user=e.user)}},2274:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionQuery=void 0;var a=n(4799),l=function(e){function t(t){var n=e.call(this)||this;return n.index=0,n.limit=function(e){return n.count=e,n},n.loadNext=function(e){return i(n,void 0,void 0,(function(){var t,n,r,o;return s(this,(function(i){switch(i.label){case 0:return this.hasNext?[4,(e||a.InternalChannelHandler.getInstance()).getReactions(this)]:[3,2];case 1:return t=i.sent(),n=t.reactions,r=t.nextToken,o=t.hasNext,this.hasNext=o||!1,this.nextToken=r,[2,{reactions:n,hasNext:o}];case 2:return[2,{reactions:[],hasNext:!1}]}}))}))},n.loadNextReactionId=function(e,t){return i(n,void 0,void 0,(function(){var n,r,o,i;return s(this,(function(s){switch(s.label){case 0:return this.hasNext?[4,(t||a.InternalChannelHandler.getInstance()).getReactions(this,e)]:[3,2];case 1:return n=s.sent(),r=n.reactions,o=n.nextToken,i=n.hasNext,this.hasNext=i||!1,this.nextToken=o,[2,{reactions:r,hasNext:i}];case 2:return[2,{reactions:[],hasNext:!1}]}}))}))},n.messageId=t.msgId,n.count=t.count,n.reactionKey=t.key,n}return o(t,e),t}(n(5948).Query);t.ReactionQuery=l},2505:(e,t,n)=>{e.exports=n(8015)},2549:(e,t,n)=>{"use strict";e.exports=n(9100)},2551:(e,t,n)=>{"use strict";e.exports=o;var r=n(3610);function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},2576:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SceytChat=void 0;var s=i(n(3065)),a=n(4799),l=n(5712),c=function(){function e(e,t,n,i){void 0===i&&(i=a.REQUEST_TIMEOUT);var l=this;this._accessToken="",this.channelListeners={},this.connectionListeners={},this._enableAutoSendMessageStatusDelivered=!1,this._setting={muted:!1,muteExpireDate:null,uploadSizeLimit:1e8},this.setUser=function(e){var t,n,r,o;l._user.id=e.id,l._user.firstName=(null===(t=e.profile)||void 0===t?void 0:t.firstName)||"",l._user.lastName=(null===(n=e.profile)||void 0===n?void 0:n.lastName)||"",l._user.avatarUrl=(null===(r=e.profile)||void 0===r?void 0:r.avatar)||"",l._user.metadata=(null===(o=e.profile)||void 0===o?void 0:o.metadataMap)||{},l._user.username=e.username||"",e.presence&&(l._user.presence={status:e.presence.status,state:a.PresenceStatus[e.presence.state],lastActiveAt:e.presence.lastActiveAt?new Date(Number(e.presence.lastActiveAt)):null})},this.addChannelListener=function(e,t){l.channelListeners[e]=t},this.removeChannelListener=function(e){delete l.channelListeners[e]},this.addConnectionListener=function(e,t){l.connectionListeners[e]=t},this.removeConnectionListener=function(e){delete l.connectionListeners[e]},this.connect=function(e){return r(l,void 0,void 0,(function(){var t=this;return o(this,(function(n){return s.default.info("Connect is called,  client id:",this.clientId),this.disconnect(),this.authHandler.clearAuthListeners(),this.authHandler.authSuccess.off(this.handleAuthSuccess),this.authHandler.authFailed.off(this.handleAuthFailed),[2,new Promise((function(n,r){try{var o=t.authHandler.getAuthState;s.default.info("Connect: clientAuthState - ",o);var i=function(e){t.authHandler.authFailed.off(i),t.authHandler.authSuccess.off(l),t._connectionState=a.CLIENT_STATE.DISCONNECTED,t.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onConnectionStateChanged,a.CONNECTION_STATE.DISCONNECTED,e.message),r(e)},l=function(e){s.default.info("Connection state: ","CONNECTED"),s.default.info("connect success user data .... .. : ",e),t.setUser(e.user),t._connectionState=a.CLIENT_STATE.CONNECTED,t.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onConnectionStateChanged,a.CONNECTION_STATE.CONNECTED),t.authHandler.authFailed.off(i),t.authHandler.authSuccess.off(l),e.settings&&e.settings.muted&&(t.settings={muted:e.settings.muted,muteExpireDate:new Date(Date.now()+e.settings.muteTill),uploadSizeLimit:e.settings.uploadSizeLimit?e.settings.uploadSizeLimit:1e8}),n()};t.authHandler.authFailed.on(i),t.authHandler.authSuccess.on(l),t.auth(e)}catch(e){s.default.error("Error in connect: ",e.message,e.code),r(new a.SceytChatError(e.message,e.code))}}))]}))}))},this.disconnect=function(){l.closeSocket("DISCONNECT"),l.authHandler.setAuthStateIsDisconnected(),s.default.info("Disconnect client now")},this.setLogLevel=function(e){s.default.setLevel(e)},this.setPresence=function(e,t){return l.internalUserHandler.updateUserPresence(e,t)},this.getTotalUnreads=function(){return l.internalChannelHandler.getTotalUnreads()},this.socketClientOnOpen=function(){l.authHandler.authViaSocket()},this.socketClientOnMessage=function(e){return r(l,void 0,void 0,(function(){var t,n,r,i,l;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=e.data,[4,a.PB.decode(t)];case 1:switch(n=o.sent(),r=n.bmpType,i=n.decodedMessage,r){case a.BMP.Auth:this.authHandler.handleAuthError(i);break;case a.BMP.AuthResult:this.authHandler.handleAuthOk(i);break;default:this.messagingClient.handleMessage(r,i,this._requestTimeout)}return[3,3];case 2:return l=o.sent(),s.default.error(l,"error in socketClientOnMessage",e.data),[3,3];case 3:return[2]}}))}))},this.socketClientOnClose=function(e){var t=l.authHandler.getAuthState;s.default.info("Socket on close, code: ",e.code,"client id:",l.clientId),(4004===e.code&&t===a.AuthState.AUTHENTICATED||t!==a.AuthState.NOT_AUTHENTICATED)&&(l.authHandler.setAuthStateIsDisconnected(),l.connectionState!==a.CLIENT_STATE.DISCONNECTED&&l.clientDisconnected("")),l.socketClient.removeHandlers(),t===a.AuthState.AUTHENTICATING&&l.authHandler.onAuthFailed.trigger(new a.SceytChatError(a.clientErrors.REQUEST_TIMEOUT.message,a.clientErrors.REQUEST_TIMEOUT.code)),t!==a.AuthState.AUTHENTICATING&&4004!==e.code&&"offline"!==l.networkConnectStatus?l._reconnect():(l.authHandler.setAuthStateIsDisconnected(),l._connectionState!==a.CLIENT_STATE.DISCONNECTED&&l.clientDisconnected(""))},this.socketClientOnError=function(e){l.authHandler.getAuthState===a.AuthState.AUTHENTICATING&&l.authHandler.onAuthFailed.trigger(new a.SceytChatError(a.clientErrors.SERVICE_UNAVAILABLE.message,a.clientErrors.SERVICE_UNAVAILABLE.code)),s.default.error("WebSocket error : ",e)},this.handleTokenWillExpire=function(e){s.default.warn("Token will expire in: ",e),l.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onTokenWillExpire,e)},this.handleSignalReceived=function(e){s.default.info("Signal message received: ",e),l.internalChannelHandler.triggerChannelHandlerEvent("onSignal",e)},this.clientDisconnected=function(e){if(l.authHandler.setAuthStateIsDisconnected(),l._connectionState!==a.CLIENT_STATE.DISCONNECTED&&(s.default.info("ConnectionStatus: Disconnected"),l._connectionState=a.CLIENT_STATE.DISCONNECTED,l.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onConnectionStateChanged,a.CONNECTION_STATE.DISCONNECTED,e)),Object.values(l.messagingClient.messagingQueue).length)for(var t in l.messagingClient.messagingQueue)(0,l.messagingClient.messagingQueue[t].callback)(!0,{message:a.clientErrors.NETWORK_CONNECTION_ERROR.message,code:a.clientErrors.NETWORK_CONNECTION_ERROR.code}),delete l.messagingClient.messagingQueue[t]},this.handleTokenExpired=function(){s.default.info("Expired token"),l.closeSocket("EXPIRED_TOKEN"),l._accessToken="",l._shouldReconnect=!1,l.authHandler.setAuthStateIsDisconnected(),l.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onTokenExpired),l._connectionState!==a.CLIENT_STATE.DISCONNECTED&&(l._connectionState=a.CLIENT_STATE.DISCONNECTED,l.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onConnectionStateChanged,a.CONNECTION_STATE.DISCONNECTED))},this.clearReconnectInterval=function(){clearInterval(l.reconnectInterval),l.authHandler.authSuccess.off(l.handleAuthSuccess),l.authHandler.authFailed.off(l.handleAuthFailed)},this.handleAuthSuccess=function(){l.authHandler.setAuthState(a.AuthState.AUTHENTICATED),l.clearReconnectInterval(),l.consecutiveFailures=0,s.default.info("ConnectionStatus: Connected"),l._connectionState=a.CLIENT_STATE.CONNECTED,l.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onConnectionStateChanged,a.CONNECTION_STATE.CONNECTED)},this.handleAuthFailed=function(e){s.default.info("ConnectionStatus: DISCONNECTED"),l._connectionState=a.CLIENT_STATE.DISCONNECTED,l.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onConnectionStateChanged,a.CONNECTION_STATE.DISCONNECTED,e.message)},this.auth=function(e){return r(l,void 0,void 0,(function(){return o(this,(function(t){return this.accessToken=e,this.authHandler.jwt=e,this.socketConnect(),[2]}))}))},this.socketConnect=function(){l._shouldReconnect||(l._shouldReconnect=!0),l.socketClient.host=l.authHandler.host,l.socketClient.connect({open:l.socketClientOnOpen,close:l.socketClientOnClose,message:l.socketClientOnMessage,error:l.socketClientOnError})},this.updateToken=function(e){return r(l,void 0,void 0,(function(){var t=this;return o(this,(function(n){return[2,new Promise((function(n,r){s.default.info("Update token");try{var o=function(e){t.authHandler.authFailed.off(o),t.authHandler.authSuccess.off(i),r(e)},i=function(){t.authHandler.authFailed.off(o),t.authHandler.authSuccess.off(i),n("success")};t._shouldReconnect||(t._shouldReconnect=!0),t.socketClient.stopDisconnectTimeout(!0),t.authHandler.refreshToken(e),t.authHandler.authFailed.on(o),t.authHandler.authSuccess.on(i)}catch(e){r(new a.SceytChatError(e.message,e.code))}}))]}))}))},this.closeSocket=function(e){s.default.info("Called closeSocket: ","client id : ",l.clientId,"reason: ",e),l.socketClient.close(e)},this.triggerConnectionHandlerEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.keys(l.connectionListeners).map((function(n){var r;(r=l.connectionListeners[n])[e].apply(r,t)}))},this.uploadFile=function(e){return new Promise((function(t,n){if(e.data.size>l._setting.uploadSizeLimit)throw new a.SceytChatError(a.clientErrors.TOO_LARGE_MESSAGE.message,a.clientErrors.TOO_LARGE_MESSAGE.code);var r=new FormData;r.append("files",e.data),l.authHandler.httpClient.uploadFile(r,l.authHandler.jwt,e.progress).then((function(e){t(e.data.url)})).catch((function(e){n(new a.SceytChatError(e.response))}))}))},this.channelReport=function(e,t,n,r){var o={channel_id:t,report:e,description:n,messages:r};return new Promise((function(e,t){l.authHandler.httpClient.channelReport(o,l.authHandler.jwt).then((function(t){e(t.data)})).catch((function(e){t(new a.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.messageReport=function(e,t,n,r){var o={channel_id:t,messages:n,report:e,description:r};return new Promise((function(e,t){l.authHandler.httpClient.messageReport(o,l.authHandler.jwt).then((function(t){e(t.data)})).catch((function(e){t(new a.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.userReport=function(e,t,n,r){var o={user_id:t,messages:n,report:e,description:r};return new Promise((function(e,t){l.authHandler.httpClient.userReport(o,l.authHandler.jwt).then((function(t){e(t.data)})).catch((function(e){t(new a.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.mute=function(e){return r(l,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return t={mute_till:e,mute:!0},[4,this.authHandler.httpClient.mute(t,this._accessToken)];case 1:return n=r.sent().data,this._setting.muted=!0,this._setting.muteExpireDate=n.mute_till?new Date(Date.now()+n.mute_till):null,[2,this.settings]}}))}))},this.unmute=function(){return r(l,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e={mute_till:0,mute:!1},[4,this.authHandler.httpClient.mute(e,this._accessToken)];case 1:return t.sent(),this._setting.muted=!1,this._setting.muteExpireDate=null,[2,this.settings]}}))}))},this.updateSettings=function(e){return r(l,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return t={},e.mute&&(t.muted=e.mute.muted,t.muted_till=e.mute.duration),e.uploadSizeLimit&&(t.upload_size_limit=e.uploadSizeLimit),e.presence&&(e.presence.status&&(t.presence_status=e.presence.status),e.presence.state&&(t.presence_state=e.presence.state)),e.privacySettings&&e.privacySettings.forEach((function(e){e.lastActiveAt&&(t.privacy_last_active_at=e.lastActiveAt),e.presenceState&&(t.privacy_presence_state=e.presenceState),e.presenceStatus&&(t.privacy_presence_status=e.presenceStatus),e.profilePhoto&&(t.privacy_profile_photo=e.profilePhoto),e.addToChannels&&(t.privacy_add_to_channels=e.addToChannels),e.forwardMessages&&(t.privacy_forward_messages=e.forwardMessages),e.readReceipts&&(t.privacy_read_receipts=e.readReceipts)})),[4,this.authHandler.httpClient.setSettings(t,this._accessToken)];case 1:return n=r.sent().data,s.default.info("updateSettings: ",n),[2]}}))}))},this.getAllContacts=function(){return new Promise((function(e,t){l.authHandler.httpClient.getContacts(l.authHandler.jwt).then((function(t){return r(l,void 0,void 0,(function(){var n,r,i,s=this;return o(this,(function(o){switch(o.label){case 0:return n=new Uint8Array(t.data),[4,a.PB.decodeContacts(n)];case 1:return(r=o.sent()).contacts&&r.contacts.length>0&&(i=r.contacts.map((function(e){return s.createContactInstance(e)})),e(i)),e([]),[2]}}))}))})).catch((function(e){t(new a.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.addContactDiscoveries=function(e){return new Promise((function(t,n){l.authHandler.httpClient.addContactDiscoveries(e,l.authHandler.jwt).then((function(e){return r(l,void 0,void 0,(function(){var n,r,i,s=this;return o(this,(function(o){switch(o.label){case 0:return n=new Uint8Array(e.data),[4,a.PB.decodeDiscoveries(n)];case 1:return(r=o.sent()).contacts&&r.contacts.length>0&&(i=r.contacts.map((function(e){return s.createContactInstance(e)})),t(i)),t([]),[2]}}))}))})).catch((function(e){n(new a.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.deleteAllContactDiscoveries=function(){return new Promise((function(e,t){l.authHandler.httpClient.deleteAllContactDiscoveries(l.authHandler.jwt).then((function(){e("")})).catch((function(e){t(new a.SceytChatError(e.response?e.response.data.message:e,e.response?e.response.data.code:null))}))}))},this.createContactInstance=function(e){return new a.Contact(e)},this.getRoles=function(){return r(l,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.internalChannelHandler.getRoles()];case 1:return[2,e.sent().roles.map((function(e){return new a.Role(e)}))]}}))}))},this.getUsers=function(e){return l.internalUserHandler.getUsers(e)},this.getChannel=function(e){return l.internalChannelHandler.getAndCreateChannelById(e)},this.setProfile=function(e){return l.internalUserHandler.updateUser(e)},this.blockUsers=function(e){return l.internalUserHandler.blockUsers(e)},this.unblockUsers=function(e){return l.internalUserHandler.unblockUsers(e)},this.sendDirectMessage=function(e,t){return l.internalChannelHandler.sendDirectMessage(e,t)},this.sendSignal=function(e){return l.internalUserHandler.sendSignal(e)},this.updatePrivacySettingsExclusions=function(e,t){return l.internalUserHandler.updatePrivacySettingsExclusions(e,t)},this.updatePrivacySettingsInclusions=function(e,t){return l.internalUserHandler.updatePrivacySettingsInclusions(e,t)},this.deletePrivacySettingsExclusions=function(e,t){return l.internalUserHandler.deletePrivacySettingsExclusions(e,t)},this.deletePrivacySettingsInclusions=function(e,t){return l.internalUserHandler.deletePrivacySettingsInclusions(e,t)},this.resetPrivacySettingsInclusions=function(e){return l.internalUserHandler.resetPrivacySettingsInclusions(e)},this.resetPrivacySettingsExclusions=function(e){return l.internalUserHandler.resetPrivacySettingsExclusions(e)},this._retryInterval=function(){var e=Math.min(500+2e3*l.consecutiveFailures,25e3),t=Math.min(Math.max(250,2e3*(l.consecutiveFailures-1)),25e3);return Math.floor(Math.random()*(e-t)+t)},this.onlineStatusChanged=function(e){s.default.info("Network connection: ",e.type),"offline"===e.type?(l.authHandler.setAuthStateIsDisconnected(),l.socketClient.connectionState===a.SOCKET_STATE.CLOSED&&l._connectionState===a.CLIENT_STATE.DISCONNECTED||l.closeSocket("NO_NETWORK")):"online"===e.type&&l._shouldReconnect&&l._reconnect(10),l.networkConnectStatus=e.type},this._listenForConnectionChanges=function(){"undefined"!=typeof window&&null!=window&&null!=window.addEventListener&&(window.addEventListener("offline",l.onlineStatusChanged),window.addEventListener("online",l.onlineStatusChanged))},s.default.info("Client is created with id: ",n),this._apiUrl=e,this.consecutiveFailures=0,this.networkConnectStatus="",this._connectionState=a.CLIENT_STATE.DISCONNECTED,this._appId=t,this._clientId=n,this._user=new a.User,this.socketClient=new a.SocketClient,this.authHandler=new a.AuthHandler(e,t,n,i,this.socketClient),this.messagingClient=new a.MessagingClient(this.socketClient,this.authHandler),this.internalChannelHandler=new a.InternalChannelHandler(this.authHandler,this.messagingClient,this.channelListeners,this._user),this.internalUserHandler=new a.InternalUserHandler(this.authHandler,this.messagingClient,this._user),this.socketClient.tokenWillExpire.on(this.handleTokenWillExpire),this.messagingClient.signalReceived.on(this.handleSignalReceived),this.socketClient.onClientDisconnected.on(this.clientDisconnected),this.authHandler.tokenExpired.on(this.handleTokenExpired),this.socketClient.tokenExpired.on(this.handleTokenExpired),this._listenForConnectionChanges(),this._requestTimeout=i,this._shouldReconnect=!0,s.default.setLevel("silent")}return Object.defineProperty(e.prototype,"ConnectionListener",{get:function(){return a.ConnectionListener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ChannelListener",{get:function(){return a.ChannelListener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apiUrl",{get:function(){return this._apiUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestTimeout",{get:function(){return this._requestTimeout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return this._appId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientId",{get:function(){return this._clientId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this._user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this._setting},set:function(e){this._setting.muted=e.muted,this._setting.muteExpireDate=e.muteExpireDate,this._setting.uploadSizeLimit=e.uploadSizeLimit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authState",{get:function(){return a.AuthState[this.authHandler.getAuthState]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){var e=a.CLIENT_STATE[this._connectionState];return a.CONNECTION_STATE[e]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"accessToken",{get:function(){return this._accessToken},set:function(e){this._accessToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableAutoSendMessageStatusDelivered",{get:function(){return this._enableAutoSendMessageStatusDelivered},set:function(e){this._enableAutoSendMessageStatusDelivered=e,this.internalChannelHandler.autoSendMessageStatusDelivered=e},enumerable:!1,configurable:!0}),e.prototype._reconnect=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return e||(e=this._retryInterval()),[4,(0,a.sleep)(e)];case 1:return n.sent(),this.clearReconnectInterval(),this.authHandler.authSuccess.on(this.handleAuthSuccess),this.authHandler.authFailed.on(this.handleAuthFailed),t=this.socketClient.expDate-Date.now(),s.default.info("ConnectionStatus: Reconnecting","client id:",this.clientId),this._connectionState=a.CLIENT_STATE.RECONNECTING,this.triggerConnectionHandlerEvent(a.CONNECTION_EVENT_TYPES.onConnectionStateChanged,a.CONNECTION_STATE.RECONNECTING),t<=0?this.handleTokenExpired():this.socketClient.reconnect(),clearTimeout(this.socketClient.pingTimeout),this.consecutiveFailures+=1,[2]}}))}))},Object.defineProperty(e.prototype,"Channel",{get:function(){return a.Channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ChannelListQueryBuilder",{get:function(){return a.ChannelListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MemberListQueryBuilder",{get:function(){return a.MemberListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockedMemberListQueryBuilder",{get:function(){return a.BlockedMemberListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MessageListQueryBuilder",{get:function(){return a.MessageListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AttachmentListQueryBuilder",{get:function(){return a.AttachmentListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MessageLinkOGQueryBuilder",{get:function(){return a.MessageLinkOGQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MessageListByTypeQueryBuilder",{get:function(){return a.MessageListByTypeQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MessageMarkerListQueryBuilder",{get:function(){return a.MessageMarkerListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ReactionListQueryBuilder",{get:function(){return a.ReactionListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MentionsListQueryBuilder",{get:function(){return l.MentionsListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"UserListQueryBuilder",{get:function(){return a.UserListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockedUserListQueryBuilder",{get:function(){return a.BlockedUserListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockedChannelListQuery",{get:function(){return a.BlockedChannelListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HiddenChannelListQueryBuilder",{get:function(){return a.HiddenChannelListQueryBuilder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PrivacySettingsQueryBuilder",{get:function(){return a.PrivacySettingsQueryBuilder},enumerable:!1,configurable:!0}),e}();t.SceytChat=c},2656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemberBuilder=void 0;var r=n(842);t.MemberBuilder=function(e){var t=this;this.setRole=function(e){return t.role=e||"participant",t},this.create=function(){return new r.Member({role:t.role,user:{id:t.id}})},this.id=e,this.role="participant"}},2685:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenChannelListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.index=0,this.loadNextPage=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasNext?(t=e||i.InternalChannelHandler.getInstance(),this.loading=!0,[4,t.getHiddenChannels(this)]):[3,2];case 1:return n=o.sent(),this.loading=!1,r=n.channels.list,s=n.count,a=t.createChannels(r),this.index+=r.length,this.hasNext=s-this.index>0,[2,{hiddenChannels:a,hasNext:this.hasNext}];case 2:return[2,{hiddenChannels:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.count=e.count}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},enumerable:!1,configurable:!0}),e}();t.HiddenChannelListQuery=s},2712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BodyAttribute=void 0;t.BodyAttribute=function(e){this.type=e.type,this.metadata=e.metadata,this.offset=e.offset||0,this.length=e.length}},2814:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannelHandler=void 0;var l=a(n(3065)),c=a(n(5017)),u=n(4799),d=function(){function e(t,n,a,d){var p=this;this.channelListeners={},this.channelsMap={},this.messagesMap={},this.autoSendMessageStatusDelivered=!1,this.totalUnreadChannelCount=0,this.totalUnreadMessageCount=0,this.createChannel=function(e){return new Promise((function(t,n){var o=r({},e);o.avatarUrl&&(o.avatar=o.avatarUrl,delete o.avatarUrl),o.metadata&&(o.metadata=JSON.stringify(o.metadata));var i=o.members;i&&i.length&&(i=p.formatMembers(o.members));var s=p.messagingClient.createMessageId(),a=u.PB.create(u.BMP.ChannelQuery,{id:s,channels:{list:[r(r({},o),{members:i})]},type:u.ChannelQueryType.CREATE});p.messagingClient.send(s,a,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.channel,i=p.createChannelInstance(o);t(i)}))}))},this.createThread=function(e,t){return new Promise((function(n,r){var o=p.getChannelFullId(e),i=p.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:i,threadQuery:{parentChannelId:o,parentMessageId:t},type:u.ChannelQueryType.CREATE_THREAD});p.messagingClient.send(i,s,(function(e,t){if(e)return r(new u.SceytChatError(t.message,t.code,t.type,t.traceId));var o=t.channels,i=p.createChannelInstance(o.list[0]);n(i)}))}))},this.delete=function(e){var t=p.getChannelFullId(e);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,channels:{list:[{id:t}]},type:u.ChannelQueryType.DELETE});p.messagingClient.send(o,i,(function(t,o){if(t)return r(new u.SceytChatError(o.message,o.code,o.type,o.traceId));p.removeChannelReference(e),n()}))}))},this.clearHistory=function(e){var t=p.getChannelFullId(e);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,to:t,type:u.ChannelQueryType.DELETE_MESSAGES_FOR_ME});p.messagingClient.send(o,i,(function(t,o){if(t)return r(new u.SceytChatError(o.message,o.code,o.type,o.traceId));p.updateChannelProperties(e,o.channel),p.updateChannelLastMessage(e,null),n()}))}))},this.deleteAllMessages=function(e){var t=p.getChannelFullId(e);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,to:t,type:u.ChannelQueryType.DELETE_MESSAGES_FOR_EVERYONE});p.messagingClient.send(o,i,(function(t,o){if(t)return r(new u.SceytChatError(o.message,o.code,o.type,o.traceId));p.updateChannelProperties(e,o.channel),p.updateChannelLastMessage(e,null),n()}))}))},this.getRoles=function(){return new Promise((function(e,t){var n=p.messagingClient.createMessageId(),r=u.PB.create(u.BMP.ChannelQuery,{id:n,type:u.ChannelQueryType.GET_ROLES});p.messagingClient.send(n,r,(function(n,r){if(n)return t(new u.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.roles;e(o)}))}))},this.getChannels=function(e){return new Promise((function(t,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelSearchQuery,{id:r,channelType:e.ctype,fields:e.fields,count:e.count,nextToken:e.nextToken||"",sort:u.ChannelSearchQuerySortOptions[e.sort],reqParams:{1:{iVal:e.memberCount||10},3:{iVal:2}}});p.messagingClient.send(r,o,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));t(r)}))}))},this.getMembers=function(e){var t=p.getChannelFullId(e.channelId);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,index:e.index,count:e.count,type:u.ChannelQueryType.MEMBERS,nextToken:e.nextToken||"",members:{channelId:t,type:u.MembersType[e.type],order:u.MembersOrder[e.order],key:u.MembersOrderKey[e.key]}});p.messagingClient.send(o,i,(function(e,t){if(e)return r(new u.SceytChatError(t.message,t.code,t.type,t.traceId));n(t)}))}))},this.getBlockedMembers=function(e){var t=p.getChannelFullId(e.channelId);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,type:u.ChannelQueryType.GET_BLOCKED_MEMBER_LIST,to:t,count:e.count,index:e.index});p.messagingClient.send(o,i,(function(e,t){if(e)return r(new u.SceytChatError(t.message,t.code,t.type,t.traceId));n(t)}))}))},this.getBlockedChannels=function(e){return new Promise((function(t,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:r,type:u.ChannelQueryType.GET_BLOCK_LIST,count:e.count,index:e.index});p.messagingClient.send(r,o,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));t(r)}))}))},this.getHiddenChannels=function(e){return new Promise((function(t,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:r,type:u.ChannelQueryType.GET_HIDDEN_CHANNELS,count:e.count,index:e.index});p.messagingClient.send(r,o,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));t(r)}))}))},this.addMembers=function(e,t,n){var r=p.getChannelFullId(e);return new Promise((function(o,i){var s=p.messagingClient.createMessageId(),a=p.formatMembers(t),l=u.PB.create(u.BMP.ChannelQuery,{id:s,channels:{list:[{id:r,members:a}]},type:u.ChannelQueryType.ADD_MEMBER,accessPriorHistory:n});p.messagingClient.send(s,l,(function(t,n){if(t)return i(new u.SceytChatError(n.message,n.code,n.type,n.traceId));if(n.channel){var r=n.channel,s=r.members,a=r.updatedAt,l=r.membersTotalCount,c=p.addMembersToChannelInstance(e,s,a,l).addedMembers;o(c)}else o([])}))}))},this.kickMembers=function(e,t){void 0===t&&(t=[]);var n=p.getChannelFullId(e);return new Promise((function(r,o){var i=p.messagingClient.createMessageId(),s=p.formatMembers(t),a=u.PB.create(u.BMP.ChannelQuery,{id:i,type:u.ChannelQueryType.KICK_MEMBER,members:{channelId:n,list:s}});p.messagingClient.send(i,a,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code,n.type,n.traceId));if(n.channel){var i=n.channel,s=i.members,a=i.updatedAt,l=i.membersTotalCount,c=p.removeMembersFromChannelInstance(e,s,a,l).removedMembers;r(c)}else r([])}))}))},this.blockMembers=function(e,t){void 0===t&&(t=[]);var n=p.getChannelFullId(e);return new Promise((function(r,o){var i=p.messagingClient.createMessageId(),s=p.formatMembers(t),a=u.PB.create(u.BMP.ChannelQuery,{id:i,type:u.ChannelQueryType.BLOCK_MEMBER,to:n,members:{list:s}});p.messagingClient.send(i,a,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code,n.type,n.traceId));if(n.channel){var i=n.channel,s=i.members,a=i.updatedAt,l=i.membersTotalCount,c=p.removeMembersFromChannelInstance(e,s,a,l).removedMembers;r(c)}else r([])}))}))},this.unBlockMembers=function(e,t){void 0===t&&(t=[]);var n=p.getChannelFullId(e);return new Promise((function(r,o){var i=p.messagingClient.createMessageId(),s=p.formatMembers(t),a=u.PB.create(u.BMP.ChannelQuery,{id:i,type:u.ChannelQueryType.UNBLOCK_MEMBER,to:n,members:{list:s}});p.messagingClient.send(i,a,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var i=n.channel,s=i.members,a=i.updatedAt,l=i.membersTotalCount,c=p.removeMembersFromChannelInstance(e,s,a,l).removedMembers;r(c)}))}))},this.join=function(e){var t=p.getChannelFullId(e);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,to:t,type:u.ChannelQueryType.JOIN});p.messagingClient.send(o,i,(function(t,o){if(t)return r(new u.SceytChatError(o.message,o.code,o.type,o.traceId));var i=o.channel,s=i.members,a=i.updatedAt,l=i.membersTotalCount,c=p.addMembersToChannelInstance(e,s,a,l),d=c.addedMembers,h=c.instance;p.channelsMap[e].instance.userRole=d[0].role,n(h)}))}))},this.changeOwner=function(e,t){var n=p.getChannelFullId(e),r=p.formatMembers([t]);return new Promise((function(e,t){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,to:n,members:{list:r},type:u.ChannelQueryType.CHANGE_OWNER});p.messagingClient.send(o,i,(function(n,r){if(n)return t(new u.SceytChatError(r.message,r.code,r.type,r.traceId));if(r.channel){var o=p.createMembersList(r.channel.members);e(o)}else e([])}))}))},this.changeMemberRole=function(e,t){var n=p.getChannelFullId(e),r=p.formatMembers(t);return new Promise((function(e,t){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,to:n,members:{list:r},type:u.ChannelQueryType.CHANGE_ROLE});p.messagingClient.send(o,i,(function(n,r){if(n)return t(new u.SceytChatError(r.message,r.code,r.type,r.traceId));if(r.channel){var o=p.createMembersList(r.channel.members);e(o)}else e([])}))}))},this.hide=function(e){var t=p.getChannelFullId(e);return new Promise((function(e,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{list:[{id:t}]},type:u.ChannelQueryType.HIDE_CHANNELS});p.messagingClient.send(r,o,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));e()}))}))},this.unhide=function(e){var t=p.getChannelFullId(e);return new Promise((function(e,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{list:[{id:t}]},type:u.ChannelQueryType.UNHIDE_CHANNELS});p.messagingClient.send(r,o,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));e()}))}))},this.leave=function(e){return new Promise((function(t,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:r,to:e,type:u.ChannelQueryType.LEAVE});p.messagingClient.send(r,o,(function(r,o){if(r)return n(new u.SceytChatError(o.message,o.code,o.type,o.traceId));var i=o.channel,s=i.members,a=i.updatedAt,l=i.membersTotalCount;p.removeMembersFromChannelInstance(e,s,a,l),t()}))}))},this.block=function(e){var t=p.getChannelFullId(e);return new Promise((function(e,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{list:[{id:t}]},type:u.ChannelQueryType.BLOCK});p.messagingClient.send(r,o,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));e()}))}))},this.pinChannel=function(e){var t=p.getChannelFullId(e);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,channels:{list:[{id:t}]},type:u.ChannelQueryType.PIN_CHANNELS});p.messagingClient.send(o,i,(function(t,o){if(t)return r(new u.SceytChatError(o.message,o.code,o.type,o.traceId));var i=p.updateChannelProperties(e,o.channels.list[0]);n(i)}))}))},this.unpinChannel=function(e){var t=p.getChannelFullId(e);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,channels:{list:[{id:t}]},type:u.ChannelQueryType.UNPIN_CHANNELS});p.messagingClient.send(o,i,(function(t,o){if(t)return r(new u.SceytChatError(o.message,o.code,o.type,o.traceId));var i=p.updateChannelProperties(e,o.channels.list[0]);n(i)}))}))},this.unblock=function(e){var t=p.getChannelFullId(e);return new Promise((function(e,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{list:[{id:t}]},type:u.ChannelQueryType.UNBLOCK});p.messagingClient.send(r,o,(function(t,r){if(t)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));e()}))}))},this.update=function(e,t){var n,o=p.getChannelFullId(e),i=p.channelsMap[e].instance;return(null==t?void 0:t.typeOverride)?t.typeOverride=r(r(r({},i.typeOverride),t.typeOverride),{roleOverrides:r(r({},(null===(n=null==i?void 0:i.typeOverride)||void 0===n?void 0:n.roleOverrides)?i.typeOverride.roleOverrides:{}),t.typeOverride.roleOverrides?t.typeOverride.roleOverrides:{})}):t.typeOverride=new u.Channel(i).typeOverride,new Promise((function(n,s){var a,l=p.messagingClient.createMessageId();(a=r(r({},t),{avatar:t.avatarUrl})).avatarUrl&&delete a.avatarUrl;var c=u.PB.create(u.BMP.ChannelQuery,{id:l,channels:{list:[r(r({id:o},a),{type:i.type})]},type:u.ChannelQueryType.UPDATE});p.messagingClient.send(l,c,(function(t,r){if(t)return s(new u.SceytChatError(r.message,r.code,r.type,r.traceId));var o=p.updateChannelProperties(e,r.channel);n(o)}))}))},this.deleteMessage=function(e,t,n){return new Promise((function(r,o){var i=p.getChannelFullId(e),s=p.messagingClient.createMessageId(),a=u.PB.create(u.BMP.MessageQuery,{id:s,channelId:i,event:u.MessageEventType.Update,messages:{list:[{message:{id:t,chStatus:n?u.MessageUpdateStatus.deleteForMe:u.MessageUpdateStatus.deleted}}]}});p.messagingClient.send(s,a,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var i=n.messages[0],s=p.createMessageInstance(i);p.isChannelLastMessage(e,s.id)&&p.updateChannelLastMessage(e,s),r(s)}))}))},this.editMessage=function(e,t){var n=p.getChannelFullId(e),o=t.attachments.map((function(e){return{name:e.name,type:e.type,meta:e.metadata,size:e.size,data:e.url,upload:e.upload}})),i=p.formatMembers(t.mentionedUsers.map((function(e){return e.id})));return new Promise((function(s,a){var l=p.messagingClient.createMessageId(),c=u.PB.create(u.BMP.MessageQuery,{id:l,channelId:n,event:u.MessageEventType.Update,messages:{list:[{message:r(r({},t),{text:t.body,mentions:i,attachments:o,chStatus:u.MessageUpdateStatus.edited,forwardingDetails:{messageId:t.forwardingDetails&&t.forwardingDetails.messageId},createdAt:0,updatedAt:0})}]}});p.messagingClient.send(l,c,(function(t,n){if(t)return a(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var r=n.messages[0],o=p.createMessageInstance(r);p.isChannelLastMessage(e,o.id)&&p.updateChannelLastMessage(e,o),s(o)}))}))},this.addReactionToMessage=function(e,t,n,o,i,s){var a=p.getChannelFullId(e);return new Promise((function(l,c){var d=p.messagingClient.createMessageId(),h=u.PB.create(u.BMP.MessageQuery,{id:d,channelId:a,event:u.MessageEventType.Add_reaction,messages:{list:[{message:{id:t,reaction:{isUnique:s,selfObjs:[{key:n,score:o,reason:i}]}}}]}});p.messagingClient.send(d,h,(function(t,n){if(t)return c(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var o=n.messages.list[0],i=p.createMessageInstance(o),s=new u.Reaction(r(r({},o.message.reaction.reactionObjs[0]),{messageId:i.id}));p.isChannelLastMessage(e,i.id)&&p.updateChannelLastMessage(e,i),l({message:i,reaction:s})}))}))},this.deleteReactionFromMessage=function(e,t,n){var r=p.getChannelFullId(e);return new Promise((function(o,i){var s=p.messagingClient.createMessageId(),a=u.PB.create(u.BMP.MessageQuery,{id:s,channelId:r,event:u.MessageEventType.Delete_reaction,messages:{list:[{message:{id:t,reaction:{selfObjs:[{key:n,score:0}]}}}]}});p.messagingClient.send(s,a,(function(t,n){if(t)return i(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var r=n.messages.list[0],s=p.createMessageInstance(r),a=new u.Reaction(r.message.reaction.reactionObjs[0]);p.isChannelLastMessage(e,s.id)&&p.updateChannelLastMessage(e,s),o({message:s,reaction:a})}))}))},this.isChannelLastMessage=function(e,t){var n;return p.channelsMap[e]&&p.channelsMap[e].instance.lastMessage&&(null===(n=p.channelsMap[e].instance.lastMessage)||void 0===n?void 0:n.id)===t},this.uploadAttachment=function(e,t){var n=0,r=!1,o=[];return new Promise((function(i,s){t.forEach((function(a){if(!a.upload)return o.push(a),n++,a.length===n?i(o):null;if(a.url.size>1e8){if(r=!0,a.completion(a,new u.SceytChatError(u.clientErrors.TOO_LARGE_MESSAGE.message,u.clientErrors.TOO_LARGE_MESSAGE.code)),n++,t.length===n)throw new u.SceytChatError(u.clientErrors.TOO_LARGE_MESSAGE.message,u.clientErrors.TOO_LARGE_MESSAGE.code);return null}var c=p.createFormData(a.url,e);p.authHandler.httpClient.uploadFile(c,p.authHandler.jwt,a.progress).then((function(e){n++,l.default.info("File upload completed");var c={name:a.name,type:a.type,meta:a.metadata,size:a.url.size,data:e.data.url,tid:a.tid,upload:!1},d=new u.Attachment({id:"",tid:a.tid,name:a.name,type:a.type,metadata:a.metadata||"",fileSize:a.url.size,url:e.data.url,upload:!1});if(o.push(c),a.completion(d,null),n===t.length)return r&&s(new u.SceytChatError(u.clientErrors.TOO_LARGE_MESSAGE.message,u.clientErrors.TOO_LARGE_MESSAGE.code)),i(o)})).catch((function(e){var t=new u.SceytChatError(e.response?e.response.data.message:u.clientErrors.UNKNOWN_ERROR.message,e.response?e.response.data.code:u.clientErrors.UNKNOWN_ERROR.code);a.completion?a.completion(a,t):l.default.error("error in upload file",e.message)}))}))}))},this.sendMessageHandler=function(e,t){return o(p,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:return t.attachments&&t.attachments.length?(n=[],r=[],t.attachments.map((function(e){e.upload?r.push(e):n.push({name:e.name,type:e.type,meta:e.metadata,size:e.size,data:e.url,tid:e.tid})})),o=n,r.length?[4,this.uploadAttachment(e,r)]:[3,2]):[3,3];case 1:a=i.sent(),o=s(s([],n,!0),a,!0),i.label=2;case 2:return t.attachments=o,[2,this.sendMessage(e,t)];case 3:return[2,this.sendMessage(e,t)]}}))}))},this.sendMessage=function(e,t){var n=p.getChannelFullId(e);p.resetChannelUnreadCount(e);var o=p.formatMembers(t.requestedMentionUserIds),i=p.formatMessageProperties(t);l.default.info("Send message: ",t),l.default.info("Send message with tid: ",t.tid);var s=p.messagingClient.createMessageId();return new Promise((function(a,c){var d=u.PB.create(u.BMP.Message,{message:{cid:s,tid:t.tid,to:n,text:t.body,attachments:t.attachments,assignedReadCount:t.displayCount,bodyAttributes:t.bodyAttributes,mentions:o,metadata:t.metadata,date:t.createdAt,type:t.type,properties:i,forwardingDetails:{messageId:t.forwardingDetails&&t.forwardingDetails.messageId}},parent:t.parentMessageId?{id:t.parentMessageId}:null});p.messagingClient.send(s,d,(function(n,o){if(n)return c(new u.SceytChatError(o.message,o.code,o.type,o.traceId));var i=o,s=i.message;if(l.default.info("Message sent successfully, messageBlock: ",i),s.createdAt=new Date(Number(s.createdAt)),s.text=s.text||t.body,s.type=s.type||t.type,s.metadata=s.metadata||t.metadata,s.silent=s.silent||t.silent,s.assignedReadCount=s.assignedReadCount||t.displayCount,s.chStatus!==u.MessageUpdateStatus.moderated&&(s.bodyAttributes=t.bodyAttributes),s.from=p.user,s.attachments&&s.attachments.length)if(t.attachments&&t.attachments.length){var d={};t.attachments.forEach((function(e){d[e.data]=e})),s.attachments=s.attachments.map((function(e){return r(r({},d[e.data]),{createdAt:e.createdAt,messageId:s.id,id:e.id,userId:s.from.id})}))}else s.attachments=s.attachments.map((function(e){return r(r({},e),{messageId:s.id,userId:s.from.id})}));var h=p.createMessageInstance({message:s,parent:i.parent,replyInThread:i.replyInThread});h.user=p.user,p.setChannelLastMessage(e,h),p.updateChannelLastReadAdnDelivery(e,s.id,!0),l.default.info("Send message response: ",h),a(h)}))}))},this.sendDirectMessage=function(e,t){var n=p.formatMembers(e.requestedMentionUserIds);e.transient=!0;var r=p.formatMessageProperties(e);return new Promise((function(o,i){var s=u.PB.create(u.BMP.Message,{message:{tid:e.tid,to:t,text:e.body,attachments:e.attachments,assignedReadCount:e.displayCount,mentions:n,metadata:e.metadata,date:e.createdAt,type:e.type,properties:r,forwardingDetails:{messageId:e.forwardingDetails&&e.forwardingDetails.messageId}},parent:e.parentMessage?{id:e.parentMessage.id}:null,direct:!0});p.messagingClient.send(e.tid,s,(function(e,t){if(e)return i(new u.SceytChatError(t.message,t.code,t.type,t.traceId));var n=t,r=n.message;r.createdAt=new Date(Number(r.createdAt));var s=p.createMessageInstance({message:r,parent:n.parent,replyInThread:n.replyInThread});s.user=p.user,l.default.info("Message sent successfully, message: ",s),o(s)}))}))},this.markMessageAsDelivered=function(e,t){var n=p.getChannelFullId(e),r=(0,u.createTid)(),o=t.map((function(e){return c.default.fromString(e)}));return new Promise((function(t,i){var s=u.PB.create(u.BMP.MessageMarkerStatus,{ids:o,marker:"received",channelId:n,tid:r});p.messagingClient.send(r,s,(function(n,r){if(n)return i(new u.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r,s=o.ids,a=o.from,l=o.time,c=o.channelId,d=s.map((function(e){return e.toNumber()})),h=Math.max(s),f=s[d.indexOf(h)];a.id!==p.user.id&&p.updateChannelLastMessage(e,{deliveryStatus:"received"}),p.updateChannelLastReadAdnDelivery(e,f,!1);var g=new u.MessageListMarker({channelId:c,from:a,marker:"received",ids:s,time:l});t(g)}),u.BMP.MessageMarkerStatus)}))},this.markMessageAsRead=function(e,t){var n=p.getChannelFullId(e);p.resetChannelUnreadCount(e);var r=(0,u.createTid)();return new Promise((function(o,i){var s=u.PB.create(u.BMP.MessageMarkerStatus,{ids:t,marker:u.MESSAGE_MARKER_NAME.DISPLAYED,channelId:n,tid:r});p.messagingClient.send(r,s,(function(t,n){if(t)return i(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var r=n,s=r.ids,a=r.from,l=r.time,c=r.channelId,d=s.map((function(e){return e.toNumber()})),h=Math.max(s),f=s[d.indexOf(h)];a.id!==p.user.id&&p.updateChannelLastMessage(e,{deliveryStatus:u.MESSAGE_MARKER_NAME.DISPLAYED}),p.updateChannelLastReadAdnDelivery(e,f,!0);var g=new u.MessageListMarker({channelId:c,from:a,marker:u.MESSAGE_MARKER_NAME.DISPLAYED,ids:s,time:l});o(g)}),u.BMP.MessageMarkerStatus)}))},this.messageMarkersQuery=function(e){var t=p.getChannelFullId(e.channelId),n=(0,u.createTid)(),r=[c.default.fromString(e.messageId)];return new Promise((function(o,i){var s=u.PB.create(u.BMP.MessageMarkerQuery,{id:n,msgIds:r,markers:e.markers,channelId:t,start:e.start,limit:e.count});p.messagingClient.send(n,s,(function(e,t){if(e)return i(new u.SceytChatError(t.message,t.code,t.type,t.traceId));o(t)}),u.BMP.MessageMarkerResult)}))},this.markChannelAs=function(e,t){var n=p.getChannelFullId(e);return new Promise((function(r,o){var i=p.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:i,to:n,type:t?u.ChannelQueryType.MARK_AS_READ:u.ChannelQueryType.MARK_AS_UNREAD});p.messagingClient.send(i,s,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var i=p.updateChannelProperties(e,n.channels.list[0]);r(i)}),u.BMP.MessageMarkerStatus)}))},this.muteChannel=function(e,t){var n=p.getChannelFullId(e);return new Promise((function(r,o){var i=p.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:i,channels:{list:[{id:n,muteTill:t}]},type:u.ChannelQueryType.MUTE_CHANNELS});p.messagingClient.send(i,s,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var i=p.updateChannelProperties(e,n.channel);r(i)}))}))},this.unmuteChannel=function(e){var t=p.getChannelFullId(e);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,channels:{list:[{id:t}]},type:u.ChannelQueryType.UNMUTE_CHANNELS});p.messagingClient.send(o,i,(function(t,o){if(t)return r(new u.SceytChatError(o.message,o.code,o.type,o.traceId));var i=p.updateChannelProperties(e,o.channel);n(i)}))}))},this.freezeChannel=function(e,t){var n=p.getChannelFullId(e);return new Promise((function(r,o){var i=p.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:i,channels:{list:[{id:n,frozenTill:t}]},type:u.ChannelQueryType.FREEZE_CHANNEL});p.messagingClient.send(i,s,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var i=p.updateChannelProperties(e,n.channel);r(i)}))}))},this.unfreezeChannel=function(e){var t=p.getChannelFullId(e);return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,channels:{list:[{id:t}]},type:u.ChannelQueryType.UNFREEZE_CHANNEL});p.messagingClient.send(o,i,(function(t,o){if(t)return r(new u.SceytChatError(o.message,o.code,o.type,o.traceId));var i=p.updateChannelProperties(e,o.channel);n(i)}))}))},this.setMessageRetentionPeriod=function(e,t){var n=p.getChannelFullId(e);return new Promise((function(r,o){var i=p.messagingClient.createMessageId(),s=u.PB.create(u.BMP.ChannelQuery,{id:i,to:n,messageAutoDeletePeriod:t,type:u.ChannelQueryType.UPDATE});p.messagingClient.send(i,s,(function(t,n){if(t)return o(new u.SceytChatError(n.message,n.code,n.type,n.traceId));var i=p.updateChannelProperties(e,n.channel);r(i)}))}))},this.getTotalUnreads=function(){return{totalUnread:p.totalUnreadMessageCount,unreadChannels:p.totalUnreadChannelCount}},this.loadMessages=function(e){var t=e.channelId,n=p.getChannelFullId(t);return new Promise((function(t,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.MessageQuery,{id:o,channelId:n,event:u.MessageEventType.Search,search:{count:e.count,timestamp:e.timestamp,msgId:e.msgId,direction:u.MessageQueryDirection[e.direction],type:e.messageType}});p.messagingClient.send(o,i,(function(e,n){if(e)return r(new u.SceytChatError(n.message,n.code,n.type,n.traceId));t(n)}))}))},this.getUnreadMentionedMessages=function(e){var t=e.channelId,n=p.getChannelFullId(t);return new Promise((function(t,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.MessageQuery,{id:o,channelId:n,event:u.MessageEventType.Unread_mentions,search:{count:e.count,direction:e.direction}});p.messagingClient.send(o,i,(function(e,n){if(e)return r(new u.SceytChatError(n.message,n.code,n.type,n.traceId));t(n)}))}))},this.loadMessagesById=function(e,t){var n=p.getChannelFullId(e),r=t.map((function(e){return c.default.fromString(e)}));return new Promise((function(e,t){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.MessageQuery,{id:o,channelId:n,event:u.MessageEventType.Get_messages_by_ids,messageIds:{list:r}});p.messagingClient.send(o,i,(function(n,r){if(n)return t(new u.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.messages.list.map((function(e){return p.createMessageInstance(e)}));e(o)}))}))},this.getAttachments=function(e){var t=e.channelId,n=p.getChannelFullId(t);return new Promise((function(t,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ChannelQuery,{id:o,type:u.ChannelQueryType.ATTACHMENTS,attachments:{channelId:n,search:{count:e.count,timestamp:e.timestamp,attachmentId:e.attachmentId,direction:u.MessageQueryDirection[e.direction],types:e.attachmentTypes}}});p.messagingClient.send(o,i,(function(e,n){if(e)return r(new u.SceytChatError(n.message,n.code,n.type,n.traceId));t(n)}))}))},this.getReactions=function(e,t){return new Promise((function(n,r){var o=p.messagingClient.createMessageId(),i=u.PB.create(u.BMP.ReactionSearchQuery,{id:o,messageId:e.messageId,nextToken:e.nextToken||"",limit:e.count,reactionKey:e.reactionKey,reactionId:t});p.messagingClient.send(o,i,(function(e,t){if(e)return r(new u.SceytChatError(t.message,t.code,t.type,t.traceId));var o=t.hasNext,i=t.list,s=t.nextToken,a=i.map((function(e){return new u.Reaction(e)}));n({reactions:a,hasNext:o,nextToken:s})}))}))},this.startTyping=function(e){try{var t=p.getChannelFullId(e),n=p.messagingClient.createMessageId(),r=u.PB.create(u.BMP.ChannelEvent,{id:n,channelId:t,name:"start_typing",from:{id:p.user.id}});p.messagingClient.send(n,r)}catch(e){l.default.error("error in start typing",e)}},this.stopTyping=function(e){try{var t=p.getChannelFullId(e),n=p.messagingClient.createMessageId(),r=u.PB.create(u.BMP.ChannelEvent,{id:n,channelId:t,name:"stop_typing",from:{id:p.user.id}});p.messagingClient.send(n,r)}catch(e){l.default.error("error in stop typing",e)}},this.startRecording=function(e){var t=p.getChannelFullId(e),n=p.messagingClient.createMessageId(),r=u.PB.create(u.BMP.ChannelEvent,{id:n,channelId:t,name:"start_recording",from:{id:p.user.id}});p.messagingClient.send(n,r)},this.stopRecording=function(e){var t=p.getChannelFullId(e),n=p.messagingClient.createMessageId(),r=u.PB.create(u.BMP.ChannelEvent,{id:n,channelId:t,name:"stop_recording",from:{id:p.user.id}});p.messagingClient.send(n,r)},this.sendEvent=function(e,t){var n=p.getChannelFullId(e),r=p.messagingClient.createMessageId();try{var o=u.PB.create(u.BMP.ChannelEvent,{id:r,channelId:n,name:t,from:{id:p.user.id}});p.messagingClient.send(r,o)}catch(e){l.default.error("error in send channel event",e)}},this.resetChannelUnreadCount=function(e){p.channelsMap[e]&&(p.channelsMap[e].instance.newMessageCount>0&&(p.totalUnreadChannelCount-=1),p.totalUnreadMessageCount-=p.channelsMap[e].instance.newMessageCount,p.channelsMap[e].instance.newMessageCount=0)},this.incrementChannelUnreadCount=function(e){p.channelsMap[e]&&(0===p.channelsMap[e].instance.newMessageCount&&(p.totalUnreadChannelCount+=1),p.totalUnreadMessageCount+=1,p.triggerChannelHandlerEvent("onTotalUnreadCountUpdated",p.totalUnreadChannelCount,p.totalUnreadMessageCount),p.channelsMap[e].instance.newMessageCount+=1)},this.incrementChannelUnreadMentionCount=function(e){return p.channelsMap[e]&&(p.channelsMap[e].instance.newMentionCount+=1)},this.setChannelLastMessage=function(e,t){return p.channelsMap[e]&&(p.channelsMap[e].instance.lastMessage=t)},this.updateChannelLastMessage=function(e,t){if(t){var n=p.channelsMap[e].instance.lastMessage;n&&(p.channelsMap[e].instance.lastMessage=r(r({},n),t))}else p.channelsMap[e].instance.lastMessage=null},this.updateChannelPeerStatus=function(e){Object.keys(p.channelsMap).forEach((function(t){var n=p.channelsMap[t].instance;n.members&&n.members.length&&(n.members=n.members.map((function(t){return e[t.id]?r(r({},t),{presence:e[t.id].presence}):t})))}))},this.updateChannelLastReadAdnDelivery=function(e,t,n){var r=p.channelsMap[e].instance;n?((!r.lastDisplayedMessageId||c.default.fromString(r.lastDisplayedMessageId)<t)&&(r.lastDisplayedMessageId=t.toString()),r.unread=!1):(!r.lastReceivedMessageId||c.default.fromString(r.lastReceivedMessageId)<t)&&(r.lastReceivedMessageId=t.toString())},this.createFormData=function(e,t){var n=new FormData;return n.append("files",e),n.append("channelId",t),n},this.handleChannelAction=function(e){var t=e.decodedMessage,n=e.receivedEventType;return o(p,void 0,void 0,(function(){var e,r,o,s,a,l,c,d,p,h,f,g,y,m,b,v,O,w,S,_,E;return i(this,(function(i){switch(i.label){case 0:return e=(t||{channel:{config:{}}}).channel,r=e.id,o=e.members,s=e.updatedAt,a=e.membersTotalCount,l=!1,this.channelsMap[r]||n===u.ChannelQueryType.DELETE?[3,2]:[4,this.createChannelInstance(t.channel)];case 1:i.sent(),l=!0,i.label=2;case 2:switch(n){case u.ChannelQueryType.CREATE:c=this.channelsMap[r].instance,this.triggerChannelHandlerEvent("onCreated",c);break;case u.ChannelQueryType.DELETE:this.removeChannelReference(r),this.triggerChannelHandlerEvent("onDeleted",r);break;case u.ChannelQueryType.JOIN:d=this.addMembersToChannelInstance(r,o,s,a,l),p=d.addedMembers,E=d.instance,this.triggerChannelHandlerEvent("onMemberJoined",E,p[0]);break;case u.ChannelQueryType.LEAVE:h=this.removeMembersFromChannelInstance(r,o,s,a,l),f=h.removedMembers,E=h.instance,this.triggerChannelHandlerEvent("onMemberLeft",E,f[0]);break;case u.ChannelQueryType.BLOCK:E=this.removeMembersFromChannelInstance(r,o,s,a,l).instance,this.triggerChannelHandlerEvent("onBlocked",E);break;case u.ChannelQueryType.UNBLOCK:E=this.channelsMap[r].instance,this.triggerChannelHandlerEvent("onUnblocked",E);break;case u.ChannelQueryType.ADD_MEMBER:g=this.addMembersToChannelInstance(r,o,s,a,l),y=g.addedMembers,E=g.instance,this.triggerChannelHandlerEvent("onMembersAdded",{channel:E,addedMembers:y});break;case u.ChannelQueryType.KICK_MEMBER:m=this.removeMembersFromChannelInstance(r,o,s,a,l),S=m.removedMembers,E=m.instance,this.triggerChannelHandlerEvent("onMembersKicked",{channel:E,removedMembers:S});break;case u.ChannelQueryType.UPDATE:E=l?this.channelsMap[r].instance:this.updateChannelProperties(r,t.channel),this.triggerChannelHandlerEvent("onUpdated",E);break;case u.ChannelQueryType.DELETE_MESSAGES_FOR_ME:E=this.channelsMap[r].instance,this.updateChannelLastMessage(r,null),this.triggerChannelHandlerEvent("onHistoryCleared",E);break;case u.ChannelQueryType.DELETE_MESSAGES_FOR_EVERYONE:E=this.channelsMap[r].instance,this.updateChannelLastMessage(r,null),this.triggerChannelHandlerEvent("onDeletedAllMessages",E);break;case u.ChannelQueryType.CHANGE_ROLE:E=this.channelsMap[r].instance,b=this.createMembersList(o),this.triggerChannelHandlerEvent("onMembersRoleChanged",E,b);break;case u.ChannelQueryType.CHANGE_OWNER:E=this.channelsMap[r].instance,b=this.createMembersList(o),v=b.find((function(e){return"owner"===e.role.toLowerCase()})),O=b.find((function(e){return"owner"!==e.role.toLowerCase()})),this.triggerChannelHandlerEvent("onOwnerChanged",E,v,O);break;case u.ChannelQueryType.BLOCK_MEMBER:w=this.removeMembersFromChannelInstance(r,o,s,a,l),S=w.removedMembers,E=w.instance,this.triggerChannelHandlerEvent("onMembersBlocked",E,S);break;case u.ChannelQueryType.UNBLOCK_MEMBER:E=this.channelsMap[r].instance,_=this.createMembersList(o),this.triggerChannelHandlerEvent("onMembersUnblocked",E,_);break;case u.ChannelQueryType.FREEZE_CHANNEL:E=l?this.channelsMap[r].instance:this.updateChannelProperties(r,t.channel),this.triggerChannelHandlerEvent("onChannelFrozen",E);break;case u.ChannelQueryType.UNFREEZE_CHANNEL:E=l?this.channelsMap[r].instance:this.updateChannelProperties(r,t.channel),this.triggerChannelHandlerEvent("onChannelUnfrozen",E)}return[2]}}))}))},this.handleChannelQuery=function(e){var t=e.decodedMessage,n=e.receivedEventType;return o(p,void 0,void 0,(function(){var e,r,o,s,a;return i(this,(function(i){switch(i.label){case 0:return e="",r=t.channels?t.channels.list[0]:t.channel?t.channel:{},n&&(t.channels||t.channel)?(e=r.id,this.channelsMap[e]?[3,2]:[4,this.createChannelInstance(r)]):[3,2];case 1:i.sent(),i.label=2;case 2:switch(n){case u.ChannelQueryType.HIDE_CHANNELS:a=this.channelsMap[e].instance,this.triggerChannelHandlerEvent("onHidden",a);break;case u.ChannelQueryType.UNHIDE_CHANNELS:a=this.channelsMap[e].instance,this.triggerChannelHandlerEvent("onShown",a);break;case u.ChannelQueryType.MARK_AS_UNREAD:(a=this.channelsMap[e].instance).unread=r.conv.channelUnread,this.triggerChannelHandlerEvent("onMarkedAsUnread",a);break;case u.ChannelQueryType.MARK_AS_READ:(a=this.channelsMap[e].instance).unread=r.conv.channelUnread,this.triggerChannelHandlerEvent("onMarkedAsRead",a);break;case u.ChannelQueryType.MUTE_CHANNELS:(a=this.channelsMap[e].instance).muted=r.muted,o=r.muteTill&&r.muteTill.toNumber(),a.mutedTill=o?new Date(Date.now()+o):null,this.triggerChannelHandlerEvent("onMuted",a);break;case u.ChannelQueryType.UNMUTE_CHANNELS:(a=this.channelsMap[e].instance).muted=r.muted,a.mutedTill=null,this.triggerChannelHandlerEvent("onUnmuted",a);break;case u.ChannelQueryType.PIN_CHANNELS:a=this.channelsMap[e].instance,s=r.pinnedAt&&r.pinnedAt.toNumber(),a.pinnedAt=s?new Date(s):null,this.triggerChannelHandlerEvent("onPined",a);break;case u.ChannelQueryType.UNPIN_CHANNELS:(a=this.channelsMap[e].instance).pinnedAt=null,this.triggerChannelHandlerEvent("onUnpined",a)}return[2]}}))}))},this.handleChannelEvents=function(e){return o(p,void 0,void 0,(function(){var t,n,r,o;return i(this,(function(i){return t=e.from,n=e.name,r=e.channelId,o=new u.User(t),this.triggerChannelHandlerEvent("onReceivedChannelEvent",r,o,n),[2]}))}))},this.handleChannelMessage=function(e){return o(p,void 0,void 0,(function(){var t,n,r,o,s,a,l,u=this;return i(this,(function(i){switch(i.label){case 0:return t=this.user.id,n=e.message.from&&this.clearUserId(e.message.from.id),r=e.message.to,(o=this.formatMessageProperties(e.message,!0).transient)||this.channelsMap[r]?[3,2]:[4,this.getAndCreateChannelById(r)];case 1:i.sent(),i.label=2;case 2:return e.message.id.equals(c.default.UZERO)?[3,5]:(s="onMessage",a=this.channelsMap[r]?this.channelsMap[r].instance:null,l=this.createMessageInstance(e),!this.autoSendMessageStatusDelivered||o?[3,4]:[4,this.markMessageAsDelivered(r,[l.id])]);case 3:i.sent(),i.label=4;case 4:t!==n&&!o&&e.message.assignedReadCount&&this.incrementChannelUnreadCount(r),e.message.mentions&&e.message.mentions.length&&!o&&e.message.mentions.forEach((function(e){e.user.id===t&&u.incrementChannelUnreadMentionCount(r)})),l.repliedInThread||o||this.setChannelLastMessage(r,l),this.triggerChannelHandlerEvent(s,a,l),i.label=5;case 5:return[2]}}))}))},this.formatMessageProperties=function(e,t){if(t){var n=e.properties;return{transient:Boolean(1&n),silent:Boolean(2&n)}}var r=0;return r=e.transient?1^r:r,e.silent?2^r:r},this.createMessageInstance=function(e){var t,n=e.message,r=e.parent,o=e.replyInThread;n.attachments&&n.attachments.length&&(n.attachments=p.formatMessageAttachments(n.attachments,((t={})[n.from.id]=n.from,t))),r&&r.from&&(r.from.id=p.clearUserId(r.from.id),r.from=new u.User(r.from)),e.message.forwardingDetails&&e.message.forwardingDetails.user&&(e.message.forwardingDetails.user=new u.User(e.message.forwardingDetails.user));var i=n.from;i&&(i.id=p.clearUserId(i.id));var s=n.bodyAttributes;n.bodyAttributes&&n.bodyAttributes.length>0&&(s=n.bodyAttributes.map((function(e){return new u.BodyAttribute(e)})));var a=p.formatMessageProperties(n,!0),l=a.transient,c=a.silent,d=i&&i.id!==p.user.id,h=i?i instanceof u.User?i:new u.User(i):null,f=n.mentions&&n.mentions.length?n.mentions.map((function(e){return new u.User(e.user)})):[];return new u.Message({message:{channelId:n.to,attachments:n.attachments,from:h,metadata:n.metadata,text:n.text,type:n.type,date:new Date(Number(n.createdAt)),updatedAt:n.updatedAt&&n.updatedAt.toNumber()?new Date(Number(n.updatedAt)):null,autoDeleteAt:n.autoDeleteAt,id:n.id,tid:n.tid,markers:n.markers,selfMarkers:n.selfMarkers,userMarkers:n.userMarkers,chStatus:n.chStatus,status:n.status,reaction:n.reaction,bodyAttributes:s,replyCount:n.replyCount?n.replyCount.toNumber():null,forwardingDetails:e.message.forwardingDetails,assignedReadCount:n.assignedReadCount,silent:c,transient:l,mentions:f,isIncoming:d},parent:r,replyInThread:o})},this.handleMessageStatus=function(e){return o(p,void 0,void 0,(function(){var t,n,o,s,a,l=this;return i(this,(function(i){switch(i.label){case 0:return t=e.channelId,n=e.marker,o="onReceivedMessageListMarker",s=new u.MessageListMarker(e),this.channelsMap[t]?[3,2]:[4,this.getAndCreateChannelById(t)];case 1:i.sent(),i.label=2;case 2:return this.triggerChannelHandlerEvent(o,e.channelId,s),"received"!==n&&"displayed"!==n||(a=this.channelsMap[t].instance,e.ids.forEach((function(e){a.lastMessage&&a.lastMessage.id===e.toString()&&l.updateChannelLastMessage(t,r(r({},a.lastMessage),{deliveryStatus:n}))}))),[2]}}))}))},this.handleMessageAction=function(e){return o(p,void 0,void 0,(function(){var t,n,r,o,s,a,c,d,p,h;return i(this,(function(i){switch(i.label){case 0:return t=e.messages,n=e.event,r=e.from,o=t[0],s=o.message.to,a=n===u.MessageEventType.Add_reaction?"onReactionAdded":n===u.MessageEventType.Delete_reaction?"onReactionDeleted":o.message.chStatus===u.MessageUpdateStatus.edited?"onMessageEdited":"onMessageDeleted",this.channelsMap[s]?[3,2]:[4,this.getAndCreateChannelById(s)];case 1:i.sent(),i.label=2;case 2:return c=this.channelsMap[s].instance,d=this.createMessageInstance(o),this.isChannelLastMessage(s,d.id)&&this.updateChannelLastMessage(s,d),"onReactionAdded"===a||"onReactionDeleted"===a?(r.id=this.clearUserId(r.id),h=new u.User(r),l.default.info("handle message : event type ..  ",a,"user... ",this.user,"receivedMessage: ",o,"message: ",d,"channel: ",c),(p=o.message.reaction.reactionObjs[0]&&new u.Reaction(o.message.reaction.reactionObjs[0]))&&("onReactionAdded"===a?d.user&&d.user.id===this.user.id&&(c.newReactions=[p]):c.newReactions&&c.newReactions[0]&&c.newReactions[0].id===p.id&&(c.newReactions=[]),this.triggerChannelHandlerEvent(a,c,h,d,p))):(r.id=this.clearUserId(r.id),h=new u.User(r),this.triggerChannelHandlerEvent(a,c,h,d)),[2]}}))}))},this.handleUnreadCount=function(e){return o(p,void 0,void 0,(function(){var t,n,r,o,s,a,l;return i(this,(function(i){switch(i.label){case 0:return(t=e.unreadCount).totalUnread,t.unreadChannels,n=t.channelUnreadCount,r=t.channelUnreadMentions,o=t.channelUnreadReactions,s=e.from,a="onTotalUnreadCountUpdated",this.channelsMap[s]?[3,2]:[4,this.getAndCreateChannelById(s)];case 1:i.sent(),i.label=2;case 2:return 0===(l=this.channelsMap[s].instance).newMessageCount&&n>0?this.totalUnreadChannelCount+=1:l.newMessageCount>0&&0===n&&(this.totalUnreadChannelCount-=1),this.totalUnreadMessageCount+=n-l.newMessageCount,l.newMessageCount=n||0,l.newMentionCount=r||0,l.newReactedMessageCount=o||0,this.triggerChannelHandlerEvent(a,this.totalUnreadChannelCount,this.totalUnreadMessageCount,l,n,r,o),[2]}}))}))},this.setChannelReference=function(e,t){!p.channelsMap[e]&&t.instance.newMessageCount&&(p.totalUnreadChannelCount+=1,p.totalUnreadMessageCount+=t.instance.newMessageCount),p.channelsMap[e]=t},this.removeChannelReference=function(e){delete p.channelsMap[e]},this.addMembersToChannelInstance=function(e,t,n,r,o){void 0===o&&(o=!1);var i=p.createMembersList(t),s=p.channelsMap[e].instance;return o?{addedMembers:i,instance:s}:Array.isArray(i)&&i.length>0?(s.memberCount=r,s.updatedAt=new Date(n),{addedMembers:i,instance:s}):{addedMembers:[],instance:s}},this.removeMembersFromChannelInstance=function(e,t,n,r,o){void 0===o&&(o=!1);var i=p.createMembersList(t),s=p.channelsMap[e].instance;return o?{removedMembers:i,instance:s}:Array.isArray(i)&&i.length>0?(s.memberCount=r,s.updatedAt=new Date(n),{removedMembers:i,instance:s}):{removedMembers:i,instance:s}},this.formatMembers=function(e){return Array.isArray(e)?"object"==typeof e[0]?e.map((function(e){return{role:e.role&&e.role.toLowerCase(),user:{id:e.id}}})):e.map((function(e){return{user:{id:e}}})):[]},this.createMembersList=function(e){return e.map((function(e){return new u.Member({role:e.role,user:e.user})}))},this.clearUserId=function(e){return e},this.getChannelFullId=function(e){return e},this.updateChannelProperties=function(e,t,n){var r;if(void 0===n&&(n=!1),n)return p.channelsMap[e];var o=p.channelsMap[e].instance;o.metadata=t.metadata,o.muted=t.muted;var i=t.muteTill&&t.muteTill.toNumber();o.mutedTill=i?new Date(Date.now()+i):null,o.frozen=t.frozen;var s=t.frozenTill&&t.frozenTill.toNumber();o.frozenTill=s?new Date(s):null,t.conv&&(o.unread=t.conv.channelUnread||!1,o.newMessageCount=t.conv.unread||0,o.newMentionCount=t.conv.unreadMentions?t.conv.unreadMentions.toNumber():0),o.updatedAt=new Date(t.updatedAt),o.avatarUrl=t.avatar||o.avatarUrl,o.subject=t.subject||o.subject,o.uri=t.uri||o.uri,o.typeOverride=t.typeOverride||o.typeOverride;for(var a=0,l=["allowJoin","discoverable","distinct"];a<l.length;a++){var c=l[a];(null===(r=o.typeOverride)||void 0===r?void 0:r[c])&&!o.typeOverride[c].value&&(o.typeOverride[c]={value:!1})}if(t.pinnedAt){var u=t.pinnedAt.toNumber();o.pinnedAt&&0===u?o.pinnedAt=null:o.pinnedAt=new Date(u)}return t.autoDeletePeriod&&(o.messageRetentionPeriod&&0===t.autoDeletePeriod.toNumber()?delete o.messageRetentionPeriod:o.messageRetentionPeriod=t.autoDeletePeriod.toNumber()),o},this.getAndCreateChannelById=function(e){return new Promise((function(t,n){if(p.channelsMap[e]&&p.channelsMap[e].instance)return t(p.channelsMap[e].instance);var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.ChannelQuery,{id:r,channels:{order:u.ChannelOrder.LAST_MESSAGE,list:[{id:e}]},reqParams:{1:{iVal:2}},type:u.ChannelQueryType.GET,count:1,index:0});p.messagingClient.send(r,o,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.channels.list[0],i=p.createChannelInstance(o);t(i)}))}))},this.createChannelInstance=function(e){var t;return e.members.length&&(e.members=e.members.map((function(t){return t.user.id===p.user.id&&(e.role=t.role),t.user.id=p.clearUserId(t.user.id),new u.Member(t)}))),t=new u.Channel(e),p.setChannelReference(t.id,{id:t.id,instance:t}),t},this.triggerChannelHandlerEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.keys(p.channelListeners).map((function(n){var r;(r=p.channelListeners[n])[e].apply(r,t)}))},this.formatMessageAttachments=function(e,t,n){var r=e.map((function(e){var n,r=t&&t[e.userId];return r instanceof u.User?n=r:r&&(r.id=p.clearUserId(r.id),n=new u.User(r)),new u.Attachment({id:e.id.toString(),tid:e.tid,messageId:e.messageId.toString(),name:e.name,type:e.type,metadata:e.meta||"",fileSize:e.size?e.size.toString():"",url:e.data,upload:e.upload,createdAt:e.createdAt.toNumber()?new Date(Number(e.createdAt)):null,user:n})}));if(n){for(var o=[],i=r.length-1;i>-1;--i)o.push(r[i]);return o}return r},this.formatReceivedMessages=function(e,t){var n=[];if(t)for(var r=e.length-1;r>-1;--r)n.push(p.createMessageInstance(e[r]));else for(var o=0,i=e;o<i.length;o++){var s=i[o];n.push(p.createMessageInstance(s))}return n},this.searchMessages=function(e){return new Promise((function(t,n){var o=p.messagingClient.createMessageId(),i=p.getChannelFullId(e.channelId),s=u.PB.create(u.BMP.MessageQuery,{id:o,search:{count:e.count,filter:r({},e),direction:u.MessageQueryDirection[u.MessageQueryDirection.None]},channelId:i,event:u.MessageEventType.Search});p.messagingClient.send(o,s,(function(e,r){var o;if(e)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));var i=r,s=p.formatReceivedMessages(null===(o=null==r?void 0:r.messages)||void 0===o?void 0:o.list);t({nextToken:i.search.filter.nextToken,messages:s})}))}))},this.loadOGData=function(e){return new Promise((function(t,n){var r=p.messagingClient.createMessageId(),o=u.PB.create(u.BMP.MessageLinkOGQuery,{id:r,url:e,og:null});p.messagingClient.send(r,o,(function(e,r){if(e)return n(new u.SceytChatError(r.message,r.code,r.type,r.traceId));t(r)}))}))},this.authHandler=t,this.messagingClient=n,this.messagingClient.messageActionReceived.on(this.handleMessageAction),this.messagingClient.messageStatusReceived.on(this.handleMessageStatus),this.messagingClient.channelActionReceived.on(this.handleChannelAction),this.messagingClient.channelQueryReceived.on(this.handleChannelQuery),this.messagingClient.channelEventsReceived.on(this.handleChannelEvents),this.messagingClient.messageUnreadCountsReceived.on(this.handleUnreadCount),this.messagingClient.messageReceived.on(this.handleChannelMessage),this.channelListeners=a,this.user=d,e.instance=this}return e.getInstance=function(){return e.instance},e.prototype.createChannels=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n],i=this.createChannelInstance(o);t.push(i)}return this.triggerChannelHandlerEvent("onTotalUnreadCountUpdated",this.totalUnreadChannelCount,this.totalUnreadMessageCount),t},e}();t.InternalChannelHandler=d},2881:(e,t,n)=>{"use strict";var r=n(9516),o=n(6987);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},2934:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNext=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),t={channelId:this.channelId,count:this.count,msgId:this.firstMessageId||"0",direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,e.loadMessages(t)]):[3,2];case 1:return n=o.sent(),r=n.messages,s=n.search,this.loading=!1,a=[],r.list.length&&(a=e.formatReceivedMessages(r.list,this.reverse),this.lastMessageId=a[a.length-1].id,this.firstMessageId=a[0].id),s&&(this.hasNext=s.hasNext),this.hasPrev=!0,[2,{messages:a,hasNext:null==s?void 0:s.hasNext}];case 2:return[2,{messages:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextMessageId=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,4];if(!this.hasNext)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify message id");return n={channelId:this.channelId,count:this.count,timestamp:void 0,msgId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(n)];case 1:return r=o.sent(),s=r.messages,a=r.search,this.loading=!1,l=[],s.list.length&&(l=t.formatReceivedMessages(s.list,this.reverse),this.lastMessageId=l[l.length-1].id,this.firstMessageId=l[0].id),a&&(this.hasNext=a.hasNext),this.hasPrev=!0,[2,{messages:l,hasNext:null==a?void 0:a.hasNext}];case 2:return[2,{messages:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextTimestamp=function(e){return void 0===e&&(e=t.timestamp),r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,4];if(!this.hasNext)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,msgId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(n)];case 1:return r=o.sent(),s=r.messages,a=r.search,this.loading=!1,l=[],s.list.length&&(l=t.formatReceivedMessages(s.list,this.reverse),this.lastMessageId=l[l.length-1].id,this.firstMessageId=l[0].id),a&&(this.hasNext=a.hasNext),this.hasPrev=!0,[2,{messages:l,hasNext:null==a?void 0:a.hasNext}];case 2:return[2,{messages:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPrevious=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasPrev?(t=e||i.InternalChannelHandler.getInstance(),n={channelId:this.channelId,count:this.count,msgId:this.lastMessageId||"0",direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(n)]):[3,2];case 1:return r=o.sent(),s=r.messages,a=r.search,this.loading=!1,l=t.formatReceivedMessages(s.list,this.reverse),s.list.length&&(this.lastMessageId=l[l.length-1].id,this.firstMessageId=l[0].id),a&&(this.hasPrev=a.hasNext),this.hasNext=!0,[2,{messages:l,hasNext:null==a?void 0:a.hasNext}];case 2:return[2,{messages:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPreviousMessageId=function(e,n){return void 0===e&&(e=t.messageId),r(t,void 0,void 0,(function(){var t,r,s,a,l,c;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,4];if(!this.hasPrev)return[3,2];if(t=n||i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify message id");return r={channelId:this.channelId,count:this.count,timestamp:void 0,msgId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(r)];case 1:return s=o.sent(),a=s.messages,l=s.search,this.loading=!1,c=t.formatReceivedMessages(a.list,this.reverse),a.list.length&&(this.lastMessageId=c[c.length-1].id,this.firstMessageId=c[0].id),l&&(this.hasPrev=l.hasNext),this.hasNext=!0,[2,{messages:c,hasNext:null==l?void 0:l.hasNext}];case 2:return[2,{messages:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPreviousTimestamp=function(e){return void 0===e&&(e=t.timestamp),r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,4];if(!this.hasPrev)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,msgId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType,searchInThread:this.searchInThread},this.loading=!0,[4,t.loadMessages(n)];case 1:return r=o.sent(),s=r.messages,a=r.search,this.loading=!1,l=t.formatReceivedMessages(s.list,this.reverse),s.list.length&&(this.lastMessageId=l[l.length-1].id,this.firstMessageId=l[0].id),a&&(this.hasPrev=a.hasNext),this.hasNext=!0,[2,{messages:l,hasNext:null==a?void 0:a.hasNext}];case 2:return[2,{messages:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNear=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,2];if(e=i.InternalChannelHandler.getInstance(),0!==this.timestamp&&!this.messageId&&!this.timestamp)throw new i.SceytChatError("Need to specify timeStamp or message id");return t={channelId:this.channelId,count:this.count,timestamp:this.timestamp,msgId:this.messageId,direction:i.MessageQueryDirection[i.MessageQueryDirection.Near],messageType:this.msgType},this.loading=!0,[4,e.loadMessages(t)];case 1:return n=o.sent(),r=n.messages,s=n.search,this.loading=!1,a=e.formatReceivedMessages(r.list,this.reverse),r.list.length&&(this.lastMessageId=a[a.length-1].id,this.firstMessageId=a[0].id),[2,{messages:a,hasNext:null==s?void 0:s.hasNext}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code)}}))}))},this.loadNearMessageId=function(e,n){return r(t,void 0,void 0,(function(){var t,r,s,a;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,2];if(t=n||i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify message id");return r={channelId:this.channelId,count:this.count,timestamp:void 0,msgId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Near],messageType:this.msgType},this.loading=!0,[4,t.loadMessages(r)];case 1:return s=o.sent().messages,this.loading=!1,a=t.formatReceivedMessages(s.list,this.reverse),s.list.length&&(this.lastMessageId=a[a.length-1].id,this.firstMessageId=a[0].id),[2,{messages:a,hasNext:!0}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code)}}))}))},this.loadNearTimestamp=function(e){return void 0===e&&(e=t.timestamp),r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,msgId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Near],messageType:this.msgType},this.loading=!0,[4,t.loadMessages(n)];case 1:return r=o.sent(),s=r.messages,a=r.search,this.loading=!1,l=t.formatReceivedMessages(s.list,this.reverse),s.list.length&&(this.lastMessageId=l[l.length-1].id,this.firstMessageId=l[0].id),a&&(this.hasNext=a.hasNext),[2,{messages:l,hasNext:null==a?void 0:a.hasNext}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code)}}))}))},this.channelId=e.channelId,this.msgType="",this._reversed=e.reversed,this.count=e.count,this.hasPrev=!0,this.searchInThread=e.searchThread}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this._reversed},set:function(e){this._reversed=e},enumerable:!1,configurable:!0}),e}();t.MessageListQuery=s},2948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageMarker=void 0;t.MessageMarker=function(e){this.messageId=e.msgId.toString(),this.user=e.user,this.name=e.name,this.createAt=new Date(e.createAt)}},2969:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedChannelListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.index=0,this.count=10,this.hasNext=!0,this.loading=!1,this.loadNextPage=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,s;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,5]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),this.loading=!0,[4,e.getBlockedChannels(this)]):[3,3];case 1:return t=o.sent(),this.loading=!1,n=t.channels.list,r=t.count,[4,e.createChannels(n)];case 2:return s=o.sent(),this.index+=n.length,this.hasNext=r-this.index>0,[2,{blockedChannels:s,hasNext:this.hasNext}];case 3:return[2,{blockedChannels:[],hasNest:this.hasNext}];case 4:return[3,6];case 5:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 6:return[2]}}))}))},this.count=e.count}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},enumerable:!1,configurable:!0}),e}();t.BlockedChannelListQuery=s},3065:function(e,t,n){var r,o;!function(){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function s(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){typeof console!==t&&(l.call(this),this[e].apply(this,arguments))}}function u(r,o,i){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?s(console,r):void 0!==console.log?s(console,"log"):e)}(r)||c.apply(this,arguments)}function d(e,n){var s,a,c,d=this,p="loglevel";function h(){var e;if(typeof window!==t&&p){try{e=window.localStorage[p]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(p),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function f(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?p+=":"+e:"symbol"==typeof e&&(p=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=n||u,d.getLevel=function(){return null!=c?c:null!=a?a:s},d.setLevel=function(e,n){return c=f(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&p){try{return void(window.localStorage[p]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"="+n+";"}catch(e){}}}(c),l.call(d)},d.setDefaultLevel=function(e){a=f(e),h()||d.setLevel(e,!1)},d.resetLevel=function(){c=null,function(){if(typeof window!==t&&p){try{window.localStorage.removeItem(p)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),l.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(i!==d&&(s=f(i.getLevel())),l.call(d),i===d)for(var e in o)o[e].rebuild()},s=f(i?i.getLevel():"WARN");var g=h();null!=g&&(c=f(g)),l.call(d)}(i=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new d(e,i.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=p),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o=r.call(t,n,t,e))||(e.exports=o)}()},3158:(e,t,n)=>{"use strict";e.exports=i;var r=n(6237);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(3610);function i(e){r.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},3191:(e,t,n)=>{"use strict";var r=n(1928);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},3240:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNext=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,s,a,l,c;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),t={channelId:this.channelId,count:this.count,attachmentId:this.firstAttachmentId||"0",direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],attachmentTypes:this.attachmentTypes,searchInThread:this.searchInThread},this.loading=!0,[4,e.getAttachments(t)]):[3,2];case 1:return n=o.sent().attachments,r=n.list,s=n.search,a=n.hasNext,n.totalCount,l=n.users,this.loading=!1,c=e.formatMessageAttachments(r,l,this.reverse),r.length&&(this.lastAttachmentId=c[c.length-1].id,this.firstAttachmentId=c[0].id),s&&(this.hasNext=a),this.hasPrev=!0,[2,{attachments:c,hasNext:a}];case 2:return[2,{attachments:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextAttachmentId=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l,c,u;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,4];if(!this.hasNext)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify attachment id");return n={channelId:this.channelId,count:this.count,timestamp:void 0,attachmentId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],attachmentTypes:this.attachmentTypes,searchInThread:this.searchInThread},this.loading=!0,[4,t.getAttachments(n)];case 1:return r=o.sent().attachments,s=r.list,a=r.search,l=r.hasNext,r.totalCount,c=r.users,this.loading=!1,u=t.formatMessageAttachments(s,c,this.reverse),s.length&&(this.lastAttachmentId=u[u.length-1].id,this.firstAttachmentId=u[0].id),a&&(this.hasNext=l),this.hasPrev=!0,[2,{attachments:u,hasNext:l}];case 2:return[2,{attachments:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextTimestamp=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l,c,u;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,4];if(!this.hasNext)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,attachmentId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Next],attachmentTypes:this.attachmentTypes,searchInThread:this.searchInThread},this.loading=!0,[4,t.getAttachments(n)];case 1:return r=o.sent().attachments,s=r.list,a=r.search,l=r.hasNext,r.totalCount,c=r.users,this.loading=!1,u=t.formatMessageAttachments(s,c,this.reverse),s.length&&(this.lastAttachmentId=u[u.length-1].id,this.firstAttachmentId=u[0].id),a&&(this.hasNext=l),this.hasPrev=!0,[2,{attachments:u,hasNext:l}];case 2:return[2,{attachments:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPrevious=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l,c,u;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasPrev?(t=e||i.InternalChannelHandler.getInstance(),n={channelId:this.channelId,count:this.count,attachmentId:this.lastAttachmentId||"0",direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],attachmentTypes:this.attachmentTypes,searchInThread:this.searchInThread},this.loading=!0,[4,t.getAttachments(n)]):[3,2];case 1:return r=o.sent().attachments,s=r.list,a=r.search,l=r.hasNext,r.totalCount,c=r.users,this.loading=!1,u=t.formatMessageAttachments(s,c,this.reverse),s.length&&(this.lastAttachmentId=u[u.length-1].id,this.firstAttachmentId=u[0].id),a&&(this.hasPrev=l),this.hasNext=!0,[2,{attachments:u,hasNext:l}];case 2:return[2,{attachments:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPreviousAttachmentId=function(e,n){return r(t,void 0,void 0,(function(){var t,r,s,a,l,c,u,d;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,4];if(!this.hasPrev)return[3,2];if(t=n||i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify attachment id");return r={channelId:this.channelId,count:this.count,timestamp:void 0,attachmentId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],attachmentTypes:this.attachmentTypes,searchInThread:this.searchInThread},this.loading=!0,[4,t.getAttachments(r)];case 1:return s=o.sent().attachments,a=s.list,l=s.search,c=s.hasNext,s.totalCount,u=s.users,this.loading=!1,d=t.formatMessageAttachments(a,u,this.reverse),a.length&&(this.lastAttachmentId=d[d.length-1].id,this.firstAttachmentId=d[0].id),l&&(this.hasPrev=c),this.hasNext=!0,[2,{attachments:d,hasNext:c}];case 2:return[2,{attachments:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadPreviousTimestamp=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l,c,u;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,4];if(!this.hasPrev)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,attachmentId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],attachmentTypes:this.attachmentTypes,searchInThread:this.searchInThread},this.loading=!0,[4,t.getAttachments(n)];case 1:return r=o.sent().attachments,s=r.list,a=r.search,l=r.hasNext,r.totalCount,c=r.users,this.loading=!1,u=t.formatMessageAttachments(s,c,this.reverse),s.length&&(this.lastAttachmentId=u[u.length-1].id,this.firstAttachmentId=u[0].id),a&&(this.hasPrev=l),this.hasNext=!0,[2,{attachments:u,hasNext:l}];case 2:return[2,{messages:[],hasNext:!1}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNearMessageId=function(e,n){return r(t,void 0,void 0,(function(){var t,r,s,a,l,c;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,2];if(t=n||i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify attachment id");return r={channelId:this.channelId,count:this.count,timestamp:void 0,attachmentId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Near],attachmentTypes:this.attachmentTypes,searchInThread:this.searchInThread},this.loading=!0,[4,t.getAttachments(r)];case 1:return s=o.sent().attachments,a=s.list,s.search,s.hasNext,s.totalCount,l=s.users,this.loading=!1,c=t.formatMessageAttachments(a,l,this.reverse),a.length&&(this.lastAttachmentId=c[c.length-1].id,this.firstAttachmentId=c[0].id),[2,{attachments:c,hasNext:!0}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code)}}))}))},this.loadNearTimestamp=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:if(this.loading)return[3,2];if(t=i.InternalChannelHandler.getInstance(),!e)throw new i.SceytChatError("Need to specify timeStamp");return n={channelId:this.channelId,count:this.count,timestamp:e,attachmentId:void 0,direction:i.MessageQueryDirection[i.MessageQueryDirection.Near],attachmentTypes:this.attachmentTypes,searchInThread:this.searchInThread},this.loading=!0,[4,t.getAttachments(n)];case 1:return r=o.sent().attachments,s=r.list,r.search,r.hasNext,r.totalCount,a=r.users,this.loading=!1,l=t.formatMessageAttachments(s,a,this.reverse),s.length&&(this.lastAttachmentId=l[l.length-1].id,this.firstAttachmentId=l[0].id),[2,{attachments:l,hasNext:!0}];case 2:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code)}}))}))},this.channelId=e.channelId,this.attachmentTypes=e.attachmentTypes,this._reversed=e.reversed,this.count=e.count,this.hasPrev=!0,this.searchInThread=e.searchThread}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this._reversed},set:function(e){this._reversed=e},enumerable:!1,configurable:!0}),e}();t.AttachmentListQuery=s},3262:(e,t,n)=>{"use strict";var r,o,i=e.exports=n(3610),s=n(4529);i.codegen=n(8561),i.fetch=n(5212),i.path=n(9207),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},i.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],o=e[n++];void 0!==o&&(t[r]=o)}return t};var a=/\\/g,l=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(a,"\\\\").replace(l,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;r||(r=n(7882));var o=new r(t||e.name);return i.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var u=0;i.decorateEnum=function(e){if(e.$type)return e.$type;o||(o=n(5643));var t=new o("Enum"+u++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var o=n.shift();if("__proto__"===o||"prototype"===o)return t;if(n.length>0)t[o]=e(t[o]||{},n,r);else{var i=t[o];i&&(r=[].concat(i).concat(r)),t[o]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(i,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(n(5330)))}})},3449:(e,t,n)=>{"use strict";e.exports=d;var r,o=n(3610),i=o.LongBits,s=o.base64,a=o.utf8;function l(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function h(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function y(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=p(),d.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new l(e,t,n),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var m=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(o.isString(e)){var n=d.alloc(t=s.length(e));s.decode(e,n,0),e=n}return this.uint32(t)._push(m,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=p(),r._configure()}},3471:(e,t,n)=>{"use strict";var r=n(9516);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},3478:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedUserListQueryBuilder=void 0;var a=n(4799),l=function(e){function t(){var t=e.call(this)||this;return t.limit=function(e){return t.count=e,t},t.offset=function(e){return t.i=e,t},t.build=function(){return i(t,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.BlockedUserListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},t.i=0,t.hasNext=!0,t}return o(t,e),t}(a.QueryBuilder);t.BlockedUserListQueryBuilder=l},3582:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalUserHandler=void 0;var i=n(4799),s=o(n(3065)),a=function(){function e(t,n,o){var a=this;this.updateUser=function(e){return new Promise((function(t,n){var r=a.messagingClient.createMessageId(),o=i.PB.create(i.BMP.UserQuery,{id:r,user:{profile:{firstName:e.firstName||""===e.firstName?e.firstName:a.user.firstName,lastName:e.lastName||""===e.lastName?e.lastName:a.user.lastName,avatar:e.avatarUrl||""===e.avatarUrl?e.avatarUrl:a.user.avatarUrl,metadataMap:e.metadata||a.user.metadata,username:e.username||a.user.username}}});a.messagingClient.send(r,o,(function(e,r){if(e)return n(new i.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.user;o&&a.updateUserProfileInstance(o.profile),t({firstName:a.user.firstName,lastName:a.user.lastName,avatarUrl:a.user.avatarUrl,metadata:a.user.metadata,username:a.user.username})}))}))},this.updateUserPresence=function(e,t){return new Promise((function(n,r){var o=a.messagingClient.createMessageId(),l=i.PresenceStatus[e],c=i.PB.create(i.BMP.PresenceMessage,{id:o,presence:{state:l,status:t}});a.messagingClient.send(o,c,(function(e,t){if(e)return s.default.error("Failed to update user presence"),r(new i.SceytChatError(t.message,t.code,t.type,t.traceId));a.updateUserInstancePresence(t.presence),n()}))}))},this.usersQuery=function(e){return new Promise((function(t,n){var r=a.messagingClient.createMessageId(),o=i.PB.create(i.BMP.UserQuery,{id:r,to:"",userSearch:{order:i.UserSearchOrder[e.order],filter:i.UserSearchFilter[e.filter],limit:e.count,offset:e.index,prefix:e.query}});a.messagingClient.send(r,o,(function(e,r){if(e)return n(new i.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.usersList,s=a.createUsersList(null==o?void 0:o.users);t(s)}))}))},this.blockedUsersQuery=function(e){return new Promise((function(t,n){var r=a.messagingClient.createMessageId(),o=i.PB.create(i.BMP.UserQuery,{id:r,blockedList:{limit:e.count,offset:e.index}});a.messagingClient.send(r,o,(function(e,r){if(e)return n(new i.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.userAction,s=a.createUsersList(null==o?void 0:o.users);t(s)}))}))},this.getUsers=function(e){return new Promise((function(t,n){var r=a.messagingClient.createMessageId(),o=a.formatUsers(e),l=i.PB.create(i.BMP.UserQuery,{id:r,usersStatus:{users:o}});a.messagingClient.send(r,l,(function(e,r){if(e)return s.default.error("Error on get users: code",r.code," message: ",r.message),n(new i.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.usersStatus,l=a.createUsersList(o&&(null==o?void 0:o.users)||[]);t(l);var c=i.InternalChannelHandler.getInstance(),u={};l.forEach((function(e){u[e.id]=e})),c.updateChannelPeerStatus(u)}))}))},this.blockUsers=function(e){return new Promise((function(t,n){var r=a.messagingClient.createMessageId(),o=a.formatUsers(e),s=i.PB.create(i.BMP.UserQuery,{id:r,userAction:{action:i.UserAction.BLOCK,users:o}});a.messagingClient.send(r,s,(function(e,r){if(e)return n(new i.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.userAction;if(o){var s=a.createUsersList(null==o?void 0:o.users);t(s)}else t([])}))}))},this.unblockUsers=function(e){return new Promise((function(t,n){var r=a.messagingClient.createMessageId(),o=a.formatUsers(e),s=i.PB.create(i.BMP.UserQuery,{id:r,userAction:{action:i.UserAction.UNBLOCK,users:o}});a.messagingClient.send(r,s,(function(e,r){if(e)return n(new i.SceytChatError(r.message,r.code,r.type,r.traceId));var o=r.userAction;if(o){var s=a.createUsersList(null==o?void 0:o.users);t(s)}else t([])}))}))},this.sendSignal=function(e){return new Promise((function(t,n){var o=a.messagingClient.createMessageId(),s=i.PB.create(i.BMP.Signal,r({requestId:o},e));a.messagingClient.send(o,s,(function(e,r){return e?n(new i.SceytChatError(r.message,r.code,r.type,r.traceId)):t(r)}))}))},this.createUsersList=function(e){return e.map((function(e){return new i.User(r({},e))}))},this.formatUsers=function(e){return Array.isArray(e)?e.map((function(e){return{id:e}})):[]},this.updateUserProfileInstance=function(e){a.user.firstName=e.firstName,a.user.lastName=e.lastName,a.user.avatarUrl=e.avatar,a.user.metadata=e.metadataMap,a.user.username=e.username},this.updateUserInstancePresence=function(e){a.user.presence={state:i.PresenceStatus[null==e?void 0:e.state],status:(null==e?void 0:e.status)||"",lastActiveAt:e.lastActiveAt?new Date(e.lastActiveAt):null}},this.handleUserAuthSuccess=function(e){var t,n,r,o;e.user&&(a.user.id=e.user.id,a.user.firstName=(null===(t=e.user.profile)||void 0===t?void 0:t.firstName)||"",a.user.lastName=(null===(n=e.user.profile)||void 0===n?void 0:n.lastName)||"",a.user.avatarUrl=(null===(r=e.user.profile)||void 0===r?void 0:r.avatar)||"",e.user.presence&&(a.user.presence={state:i.PresenceStatus[e.user.presence.state],status:e.user.presence.status?e.user.presence.status:"",lastActiveAt:e.user.presence.lastActiveAt?new Date(Number(e.user.presence.lastActiveAt)):null}),a.user.metadata=(null===(o=e.user.profile)||void 0===o?void 0:o.metadataMap)||{})},this.user=o,this.authHandler=t,this.messagingClient=n,this.authHandler.authSuccess.on(this.handleUserAuthSuccess),e.instance=this}return e.getInstance=function(){return e.instance},e.prototype.updatePrivacySettingsExclusions=function(e,t){var n=this;return new Promise((function(r,o){try{var a=n.messagingClient.createMessageId(),l=i.PB.create(i.BMP.UserQuery,{id:a,updatePrivacyExceptions:{exceptionType:i.ExceptionType.EXCLUSION,privacyField:e,add:t,reset:!1}});n.messagingClient.send(a,l,(function(e,t){if(e)return s.default.error("Failed to update privacy settings exclusions"),o(new i.SceytChatError(t.message,t.code,t.type,t.traceId));s.default.info("Privacy settings exclusions updated successfully"),r(t.updatePrivacyExceptions)}))}catch(e){s.default.error("Unexpected error in updatePrivacySettingsExclusions:",e),o(e)}}))},e.prototype.updatePrivacySettingsInclusions=function(e,t){var n=this;return new Promise((function(r,o){try{var a=n.messagingClient.createMessageId(),l=i.PB.create(i.BMP.UserQuery,{id:a,updatePrivacyExceptions:{exceptionType:i.ExceptionType.INCLUSION,privacyField:e,add:t,reset:!1}});n.messagingClient.send(a,l,(function(e,t){if(e)return s.default.error("Failed to update privacy settings inclusions"),o(new i.SceytChatError(t.message,t.code,t.type,t.traceId));s.default.info("Privacy settings inclusions updated successfully"),r(t.updatePrivacyExceptions)}))}catch(e){s.default.error("Unexpected error in updatePrivacySettingsInclusions:",e),o(e)}}))},e.prototype.deletePrivacySettingsExclusions=function(e,t){var n=this;return new Promise((function(r,o){try{var a=n.messagingClient.createMessageId(),l=i.PB.create(i.BMP.UserQuery,{id:a,updatePrivacyExceptions:{exceptionType:i.ExceptionType.EXCLUSION,privacyField:e,remove:t,reset:!1}});n.messagingClient.send(a,l,(function(e,t){if(e)return s.default.error("Failed to delete privacy settings exclusions"),o(new i.SceytChatError(t.message,t.code,t.type,t.traceId));s.default.info("Privacy settings exclusions deleted successfully"),r(t.updatePrivacyExceptions)}))}catch(e){s.default.error("Unexpected error in deletePrivacySettingsExclusions:",e),o(e)}}))},e.prototype.deletePrivacySettingsInclusions=function(e,t){var n=this;return new Promise((function(r,o){try{var a=n.messagingClient.createMessageId(),l=i.PB.create(i.BMP.UserQuery,{id:a,updatePrivacyExceptions:{exceptionType:i.ExceptionType.INCLUSION,privacyField:e,remove:t,reset:!1}});n.messagingClient.send(a,l,(function(e,t){if(e)return s.default.error("Failed to delete privacy settings inclusions"),o(new i.SceytChatError(t.message,t.code,t.type,t.traceId));s.default.info("Privacy settings inclusions deleted successfully"),r(t.updatePrivacyExceptions)}))}catch(e){s.default.error("Unexpected error in deletePrivacySettingsInclusions:",e),o(e)}}))},e.prototype.resetPrivacySettingsInclusions=function(e){var t=this;return new Promise((function(n,r){try{var o=t.messagingClient.createMessageId(),a=i.PB.create(i.BMP.UserQuery,{id:o,updatePrivacyExceptions:{exceptionType:i.ExceptionType.INCLUSION,privacyField:e,reset:!0}});t.messagingClient.send(o,a,(function(e,t){if(e)return s.default.error("Failed to reset privacy settings inclusions"),r(new i.SceytChatError(t.message,t.code,t.type,t.traceId));s.default.info("Privacy settings inclusions reset successfully"),n(t.updatePrivacyExceptions)}))}catch(e){s.default.error("Unexpected error in resetPrivacySettingsInclusions:",e),r(e)}}))},e.prototype.resetPrivacySettingsExclusions=function(e){var t=this;return new Promise((function(n,r){try{var o=t.messagingClient.createMessageId(),a=i.PB.create(i.BMP.UserQuery,{id:o,updatePrivacyExceptions:{exceptionType:i.ExceptionType.EXCLUSION,privacyField:e,reset:!0}});t.messagingClient.send(o,a,(function(e,t){if(e)return s.default.error("Failed to reset privacy settings exclusions"),r(new i.SceytChatError(t.message,t.code,t.type,t.traceId));s.default.info("Privacy settings exclusions reset successfully"),n(t.updatePrivacyExceptions)}))}catch(e){s.default.error("Unexpected error in resetPrivacySettingsExclusions:",e),r(e)}}))},e.prototype.getPrivacySettings=function(e){var t=this;return new Promise((function(n,r){try{var o=t.messagingClient.createMessageId(),a=i.PB.create(i.BMP.UserQuery,{id:o,privacyExceptionQuery:e});t.messagingClient.send(o,a,(function(e,t){if(e)return s.default.error("Failed to get privacy settings exclusions"),r(new i.SceytChatError(t.message,t.code,t.type,t.traceId));s.default.info("Privacy settings exclusions retrieved successfully"),n(t.privacyExceptionList)}))}catch(e){s.default.error("Unexpected error in getPrivacySettings:",e),r(e)}}))},e}();t.InternalUserHandler=a},3610:function(e,t,n){"use strict";var r=t;function o(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(8045),r.base64=n(8839),r.EventEmitter=n(4358),r.float=n(9410),r.inquire=n(4153),r.utf8=n(1447),r.pool=n(9390),r.LongBits=n(2239),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=o,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},3664:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Role=void 0;t.Role=function(e){this.name=e.name||"",this.permissions=e.permissions&&e.permissions.map((function(e){return e.name}))||[],this.priority=e.priority}},3862:(e,t,n)=>{"use strict";var r,o,i,s,a,l=n(6946),c=l.Reader,u=l.Writer,d=l.util,p=l.roots.default||(l.roots.default={});p.bin_proto=((i={}).Auth=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.username="",e.prototype.jwt="",e.prototype.domain="",e.prototype.resource="",e.prototype.presence=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),null!=e.jwt&&Object.hasOwnProperty.call(e,"jwt")&&t.uint32(18).string(e.jwt),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(26).string(e.domain),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(34).string(e.resource),null!=e.presence&&Object.hasOwnProperty.call(e,"presence")&&t.uint32(40).int32(e.presence),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Auth;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.username=e.string();break;case 2:r.jwt=e.string();break;case 3:r.domain=e.string();break;case 4:r.resource=e.string();break;case 5:r.presence=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.username&&e.hasOwnProperty("username")&&!d.isString(e.username)?"username: string expected":null!=e.jwt&&e.hasOwnProperty("jwt")&&!d.isString(e.jwt)?"jwt: string expected":null!=e.domain&&e.hasOwnProperty("domain")&&!d.isString(e.domain)?"domain: string expected":null!=e.resource&&e.hasOwnProperty("resource")&&!d.isString(e.resource)?"resource: string expected":null!=e.presence&&e.hasOwnProperty("presence")&&!d.isInteger(e.presence)?"presence: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Auth)return e;var t=new p.bin_proto.Auth;return null!=e.username&&(t.username=String(e.username)),null!=e.jwt&&(t.jwt=String(e.jwt)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.resource&&(t.resource=String(e.resource)),null!=e.presence&&(t.presence=0|e.presence),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.username="",n.jwt="",n.domain="",n.resource="",n.presence=0),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.jwt&&e.hasOwnProperty("jwt")&&(n.jwt=e.jwt),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.resource&&e.hasOwnProperty("resource")&&(n.resource=e.resource),null!=e.presence&&e.hasOwnProperty("presence")&&(n.presence=e.presence),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.AuthResult=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.msg="",e.prototype.user=null,e.prototype.expireTime=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.serverTime=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.settings=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&p.bin_proto.User.encode(e.user,t.uint32(26).fork()).ldelim(),null!=e.expireTime&&Object.hasOwnProperty.call(e,"expireTime")&&t.uint32(32).int64(e.expireTime),null!=e.serverTime&&Object.hasOwnProperty.call(e,"serverTime")&&t.uint32(40).int64(e.serverTime),null!=e.settings&&Object.hasOwnProperty.call(e,"settings")&&p.bin_proto.Settings.encode(e.settings,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.AuthResult;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.code=e.int32();break;case 2:r.msg=e.string();break;case 3:r.user=p.bin_proto.User.decode(e,e.uint32());break;case 4:r.expireTime=e.int64();break;case 5:r.serverTime=e.int64();break;case 6:r.settings=p.bin_proto.Settings.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!d.isInteger(e.code)?"code: integer expected":null!=e.msg&&e.hasOwnProperty("msg")&&!d.isString(e.msg)?"msg: string expected":null!=e.user&&e.hasOwnProperty("user")&&(t=p.bin_proto.User.verify(e.user))?"user."+t:null!=e.expireTime&&e.hasOwnProperty("expireTime")&&!(d.isInteger(e.expireTime)||e.expireTime&&d.isInteger(e.expireTime.low)&&d.isInteger(e.expireTime.high))?"expireTime: integer|Long expected":null!=e.serverTime&&e.hasOwnProperty("serverTime")&&!(d.isInteger(e.serverTime)||e.serverTime&&d.isInteger(e.serverTime.low)&&d.isInteger(e.serverTime.high))?"serverTime: integer|Long expected":null!=e.settings&&e.hasOwnProperty("settings")&&(t=p.bin_proto.Settings.verify(e.settings))?"settings."+t:null;var t},e.fromObject=function(e){if(e instanceof p.bin_proto.AuthResult)return e;var t=new p.bin_proto.AuthResult;if(null!=e.code&&(t.code=0|e.code),null!=e.msg&&(t.msg=String(e.msg)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.AuthResult.user: object expected");t.user=p.bin_proto.User.fromObject(e.user)}if(null!=e.expireTime&&(d.Long?(t.expireTime=d.Long.fromValue(e.expireTime)).unsigned=!1:"string"==typeof e.expireTime?t.expireTime=parseInt(e.expireTime,10):"number"==typeof e.expireTime?t.expireTime=e.expireTime:"object"==typeof e.expireTime&&(t.expireTime=new d.LongBits(e.expireTime.low>>>0,e.expireTime.high>>>0).toNumber())),null!=e.serverTime&&(d.Long?(t.serverTime=d.Long.fromValue(e.serverTime)).unsigned=!1:"string"==typeof e.serverTime?t.serverTime=parseInt(e.serverTime,10):"number"==typeof e.serverTime?t.serverTime=e.serverTime:"object"==typeof e.serverTime&&(t.serverTime=new d.LongBits(e.serverTime.low>>>0,e.serverTime.high>>>0).toNumber())),null!=e.settings){if("object"!=typeof e.settings)throw TypeError(".bin_proto.AuthResult.settings: object expected");t.settings=p.bin_proto.Settings.fromObject(e.settings)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.code=0,n.msg="",n.user=null,d.Long){var r=new d.Long(0,0,!1);n.expireTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.expireTime=t.longs===String?"0":0;d.Long?(r=new d.Long(0,0,!1),n.serverTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.serverTime=t.longs===String?"0":0,n.settings=null}return null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=e.msg),null!=e.user&&e.hasOwnProperty("user")&&(n.user=p.bin_proto.User.toObject(e.user,t)),null!=e.expireTime&&e.hasOwnProperty("expireTime")&&("number"==typeof e.expireTime?n.expireTime=t.longs===String?String(e.expireTime):e.expireTime:n.expireTime=t.longs===String?d.Long.prototype.toString.call(e.expireTime):t.longs===Number?new d.LongBits(e.expireTime.low>>>0,e.expireTime.high>>>0).toNumber():e.expireTime),null!=e.serverTime&&e.hasOwnProperty("serverTime")&&("number"==typeof e.serverTime?n.serverTime=t.longs===String?String(e.serverTime):e.serverTime:n.serverTime=t.longs===String?d.Long.prototype.toString.call(e.serverTime):t.longs===Number?new d.LongBits(e.serverTime.low>>>0,e.serverTime.high>>>0).toNumber():e.serverTime),null!=e.settings&&e.hasOwnProperty("settings")&&(n.settings=p.bin_proto.Settings.toObject(e.settings,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Settings=function(){function e(e){if(this.privacySettings={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.muted=!1,e.prototype.muteTill=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.privacySettings=d.emptyObject,e.prototype.maxPacketSize=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),null!=e.muteTill&&Object.hasOwnProperty.call(e,"muteTill")&&t.uint32(16).int64(e.muteTill),null!=e.privacySettings&&Object.hasOwnProperty.call(e,"privacySettings"))for(var n=Object.keys(e.privacySettings),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]).uint32(18).string(e.privacySettings[n[r]]).ldelim();return null!=e.maxPacketSize&&Object.hasOwnProperty.call(e,"maxPacketSize")&&t.uint32(32).int32(e.maxPacketSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.Settings;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.muted=e.bool();break;case 2:i.muteTill=e.int64();break;case 3:i.privacySettings===d.emptyObject&&(i.privacySettings={});var a=e.uint32()+e.pos;for(n="",r="";e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&l)}}i.privacySettings[n]=r;break;case 4:i.maxPacketSize=e.int32();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted)return"muted: boolean expected";if(null!=e.muteTill&&e.hasOwnProperty("muteTill")&&!(d.isInteger(e.muteTill)||e.muteTill&&d.isInteger(e.muteTill.low)&&d.isInteger(e.muteTill.high)))return"muteTill: integer|Long expected";if(null!=e.privacySettings&&e.hasOwnProperty("privacySettings")){if(!d.isObject(e.privacySettings))return"privacySettings: object expected";for(var t=Object.keys(e.privacySettings),n=0;n<t.length;++n)if(!d.isString(e.privacySettings[t[n]]))return"privacySettings: string{k:string} expected"}return null!=e.maxPacketSize&&e.hasOwnProperty("maxPacketSize")&&!d.isInteger(e.maxPacketSize)?"maxPacketSize: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Settings)return e;var t=new p.bin_proto.Settings;if(null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.muteTill&&(d.Long?(t.muteTill=d.Long.fromValue(e.muteTill)).unsigned=!1:"string"==typeof e.muteTill?t.muteTill=parseInt(e.muteTill,10):"number"==typeof e.muteTill?t.muteTill=e.muteTill:"object"==typeof e.muteTill&&(t.muteTill=new d.LongBits(e.muteTill.low>>>0,e.muteTill.high>>>0).toNumber())),e.privacySettings){if("object"!=typeof e.privacySettings)throw TypeError(".bin_proto.Settings.privacySettings: object expected");t.privacySettings={};for(var n=Object.keys(e.privacySettings),r=0;r<n.length;++r)t.privacySettings[n[r]]=String(e.privacySettings[n[r]])}return null!=e.maxPacketSize&&(t.maxPacketSize=0|e.maxPacketSize),t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.privacySettings={}),t.defaults){if(r.muted=!1,d.Long){var o=new d.Long(0,0,!1);r.muteTill=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.muteTill=t.longs===String?"0":0;r.maxPacketSize=0}if(null!=e.muted&&e.hasOwnProperty("muted")&&(r.muted=e.muted),null!=e.muteTill&&e.hasOwnProperty("muteTill")&&("number"==typeof e.muteTill?r.muteTill=t.longs===String?String(e.muteTill):e.muteTill:r.muteTill=t.longs===String?d.Long.prototype.toString.call(e.muteTill):t.longs===Number?new d.LongBits(e.muteTill.low>>>0,e.muteTill.high>>>0).toNumber():e.muteTill),e.privacySettings&&(n=Object.keys(e.privacySettings)).length){r.privacySettings={};for(var i=0;i<n.length;++i)r.privacySettings[n[i]]=e.privacySettings[n[i]]}return null!=e.maxPacketSize&&e.hasOwnProperty("maxPacketSize")&&(r.maxPacketSize=e.maxPacketSize),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.UserProfile=function(){function e(e){if(this.metadataMap={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.firstName="",e.prototype.lastName="",e.prototype.username="",e.prototype.avatar="",e.prototype.metadata="",e.prototype.metadataMap=d.emptyObject,e.prototype.createdAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.updatedAt=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.firstName&&Object.hasOwnProperty.call(e,"firstName")&&t.uint32(10).string(e.firstName),null!=e.lastName&&Object.hasOwnProperty.call(e,"lastName")&&t.uint32(18).string(e.lastName),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(26).string(e.avatar),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(34).string(e.metadata),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(40).int64(e.createdAt),null!=e.updatedAt&&Object.hasOwnProperty.call(e,"updatedAt")&&t.uint32(48).int64(e.updatedAt),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(58).string(e.username),null!=e.metadataMap&&Object.hasOwnProperty.call(e,"metadataMap"))for(var n=Object.keys(e.metadataMap),r=0;r<n.length;++r)t.uint32(66).fork().uint32(10).string(n[r]).uint32(18).string(e.metadataMap[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.UserProfile;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.firstName=e.string();break;case 2:i.lastName=e.string();break;case 7:i.username=e.string();break;case 3:i.avatar=e.string();break;case 4:i.metadata=e.string();break;case 8:i.metadataMap===d.emptyObject&&(i.metadataMap={});var a=e.uint32()+e.pos;for(n="",r="";e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&l)}}i.metadataMap[n]=r;break;case 5:i.createdAt=e.int64();break;case 6:i.updatedAt=e.int64();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.firstName&&e.hasOwnProperty("firstName")&&!d.isString(e.firstName))return"firstName: string expected";if(null!=e.lastName&&e.hasOwnProperty("lastName")&&!d.isString(e.lastName))return"lastName: string expected";if(null!=e.username&&e.hasOwnProperty("username")&&!d.isString(e.username))return"username: string expected";if(null!=e.avatar&&e.hasOwnProperty("avatar")&&!d.isString(e.avatar))return"avatar: string expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")&&!d.isString(e.metadata))return"metadata: string expected";if(null!=e.metadataMap&&e.hasOwnProperty("metadataMap")){if(!d.isObject(e.metadataMap))return"metadataMap: object expected";for(var t=Object.keys(e.metadataMap),n=0;n<t.length;++n)if(!d.isString(e.metadataMap[t[n]]))return"metadataMap: string{k:string} expected"}return null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!(d.isInteger(e.createdAt)||e.createdAt&&d.isInteger(e.createdAt.low)&&d.isInteger(e.createdAt.high))?"createdAt: integer|Long expected":null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&!(d.isInteger(e.updatedAt)||e.updatedAt&&d.isInteger(e.updatedAt.low)&&d.isInteger(e.updatedAt.high))?"updatedAt: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.UserProfile)return e;var t=new p.bin_proto.UserProfile;if(null!=e.firstName&&(t.firstName=String(e.firstName)),null!=e.lastName&&(t.lastName=String(e.lastName)),null!=e.username&&(t.username=String(e.username)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.metadata&&(t.metadata=String(e.metadata)),e.metadataMap){if("object"!=typeof e.metadataMap)throw TypeError(".bin_proto.UserProfile.metadataMap: object expected");t.metadataMap={};for(var n=Object.keys(e.metadataMap),r=0;r<n.length;++r)t.metadataMap[n[r]]=String(e.metadataMap[n[r]])}return null!=e.createdAt&&(d.Long?(t.createdAt=d.Long.fromValue(e.createdAt)).unsigned=!1:"string"==typeof e.createdAt?t.createdAt=parseInt(e.createdAt,10):"number"==typeof e.createdAt?t.createdAt=e.createdAt:"object"==typeof e.createdAt&&(t.createdAt=new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),null!=e.updatedAt&&(d.Long?(t.updatedAt=d.Long.fromValue(e.updatedAt)).unsigned=!1:"string"==typeof e.updatedAt?t.updatedAt=parseInt(e.updatedAt,10):"number"==typeof e.updatedAt?t.updatedAt=e.updatedAt:"object"==typeof e.updatedAt&&(t.updatedAt=new d.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.metadataMap={}),t.defaults){if(r.firstName="",r.lastName="",r.avatar="",r.metadata="",d.Long){var o=new d.Long(0,0,!1);r.createdAt=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.createdAt=t.longs===String?"0":0;d.Long?(o=new d.Long(0,0,!1),r.updatedAt=t.longs===String?o.toString():t.longs===Number?o.toNumber():o):r.updatedAt=t.longs===String?"0":0,r.username=""}if(null!=e.firstName&&e.hasOwnProperty("firstName")&&(r.firstName=e.firstName),null!=e.lastName&&e.hasOwnProperty("lastName")&&(r.lastName=e.lastName),null!=e.avatar&&e.hasOwnProperty("avatar")&&(r.avatar=e.avatar),null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=e.metadata),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&("number"==typeof e.createdAt?r.createdAt=t.longs===String?String(e.createdAt):e.createdAt:r.createdAt=t.longs===String?d.Long.prototype.toString.call(e.createdAt):t.longs===Number?new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&("number"==typeof e.updatedAt?r.updatedAt=t.longs===String?String(e.updatedAt):e.updatedAt:r.updatedAt=t.longs===String?d.Long.prototype.toString.call(e.updatedAt):t.longs===Number?new d.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber():e.updatedAt),null!=e.username&&e.hasOwnProperty("username")&&(r.username=e.username),e.metadataMap&&(n=Object.keys(e.metadataMap)).length){r.metadataMap={};for(var i=0;i<n.length;++i)r.metadataMap[n[i]]=e.metadataMap[n[i]]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.PresenceState=(r={},(o=Object.create(r))[r[0]="OFFLINE"]=0,o[r[1]="ONLINE"]=1,o[r[2]="INVISIBLE"]=2,o[r[3]="AWAY"]=3,o[r[4]="DND"]=4,o),i.Presence=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.state=0,e.prototype.status="",e.prototype.lastActiveAt=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(8).int32(e.state),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(18).string(e.status),null!=e.lastActiveAt&&Object.hasOwnProperty.call(e,"lastActiveAt")&&t.uint32(24).int64(e.lastActiveAt),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Presence;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.state=e.int32();break;case 2:r.status=e.string();break;case 3:r.lastActiveAt=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.state&&e.hasOwnProperty("state"))switch(e.state){default:return"state: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null!=e.status&&e.hasOwnProperty("status")&&!d.isString(e.status)?"status: string expected":null!=e.lastActiveAt&&e.hasOwnProperty("lastActiveAt")&&!(d.isInteger(e.lastActiveAt)||e.lastActiveAt&&d.isInteger(e.lastActiveAt.low)&&d.isInteger(e.lastActiveAt.high))?"lastActiveAt: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Presence)return e;var t=new p.bin_proto.Presence;switch(e.state){case"OFFLINE":case 0:t.state=0;break;case"ONLINE":case 1:t.state=1;break;case"INVISIBLE":case 2:t.state=2;break;case"AWAY":case 3:t.state=3;break;case"DND":case 4:t.state=4}return null!=e.status&&(t.status=String(e.status)),null!=e.lastActiveAt&&(d.Long?(t.lastActiveAt=d.Long.fromValue(e.lastActiveAt)).unsigned=!1:"string"==typeof e.lastActiveAt?t.lastActiveAt=parseInt(e.lastActiveAt,10):"number"==typeof e.lastActiveAt?t.lastActiveAt=e.lastActiveAt:"object"==typeof e.lastActiveAt&&(t.lastActiveAt=new d.LongBits(e.lastActiveAt.low>>>0,e.lastActiveAt.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.state=t.enums===String?"OFFLINE":0,n.status="",d.Long){var r=new d.Long(0,0,!1);n.lastActiveAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.lastActiveAt=t.longs===String?"0":0;return null!=e.state&&e.hasOwnProperty("state")&&(n.state=t.enums===String?p.bin_proto.PresenceState[e.state]:e.state),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.lastActiveAt&&e.hasOwnProperty("lastActiveAt")&&("number"==typeof e.lastActiveAt?n.lastActiveAt=t.longs===String?String(e.lastActiveAt):e.lastActiveAt:n.lastActiveAt=t.longs===String?d.Long.prototype.toString.call(e.lastActiveAt):t.longs===Number?new d.LongBits(e.lastActiveAt.low>>>0,e.lastActiveAt.high>>>0).toNumber():e.lastActiveAt),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.User=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.profile=null,e.prototype.presence=null,e.prototype.blocked=!1,e.prototype.status=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.profile&&Object.hasOwnProperty.call(e,"profile")&&p.bin_proto.UserProfile.encode(e.profile,t.uint32(18).fork()).ldelim(),null!=e.presence&&Object.hasOwnProperty.call(e,"presence")&&p.bin_proto.Presence.encode(e.presence,t.uint32(26).fork()).ldelim(),null!=e.blocked&&Object.hasOwnProperty.call(e,"blocked")&&t.uint32(32).bool(e.blocked),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(40).int32(e.status),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.User;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.profile=p.bin_proto.UserProfile.decode(e,e.uint32());break;case 3:r.presence=p.bin_proto.Presence.decode(e,e.uint32());break;case 4:r.blocked=e.bool();break;case 5:r.status=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";var t;if(null!=e.profile&&e.hasOwnProperty("profile")&&(t=p.bin_proto.UserProfile.verify(e.profile)))return"profile."+t;if(null!=e.presence&&e.hasOwnProperty("presence")&&(t=p.bin_proto.Presence.verify(e.presence)))return"presence."+t;if(null!=e.blocked&&e.hasOwnProperty("blocked")&&"boolean"!=typeof e.blocked)return"blocked: boolean expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.User)return e;var t=new p.bin_proto.User;if(null!=e.id&&(t.id=String(e.id)),null!=e.profile){if("object"!=typeof e.profile)throw TypeError(".bin_proto.User.profile: object expected");t.profile=p.bin_proto.UserProfile.fromObject(e.profile)}if(null!=e.presence){if("object"!=typeof e.presence)throw TypeError(".bin_proto.User.presence: object expected");t.presence=p.bin_proto.Presence.fromObject(e.presence)}switch(null!=e.blocked&&(t.blocked=Boolean(e.blocked)),e.status){case"NORMAL":case 0:t.status=0;break;case"INACTIVE":case 1:t.status=1;break;case"DELETED":case 2:t.status=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.profile=null,n.presence=null,n.blocked=!1,n.status=t.enums===String?"NORMAL":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.profile&&e.hasOwnProperty("profile")&&(n.profile=p.bin_proto.UserProfile.toObject(e.profile,t)),null!=e.presence&&e.hasOwnProperty("presence")&&(n.presence=p.bin_proto.Presence.toObject(e.presence,t)),null!=e.blocked&&e.hasOwnProperty("blocked")&&(n.blocked=e.blocked),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?p.bin_proto.User.Status[e.status]:e.status),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Status=function(){var e={},t=Object.create(e);return t[e[0]="NORMAL"]=0,t[e[1]="INACTIVE"]=1,t[e[2]="DELETED"]=2,t}(),e}(),i.UserAction=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.action=0,e.prototype.users=d.emptyArray,e.prototype.count=0,e.prototype.hasNext=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)p.bin_proto.User.encode(e.users[n],t.uint32(18).fork()).ldelim();return null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(24).int32(e.count),null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(32).bool(e.hasNext),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.UserAction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.action=e.int32();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(p.bin_proto.User.decode(e,e.uint32()));break;case 3:r.count=e.int32();break;case 4:r.hasNext=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(var t=0;t<e.users.length;++t){var n=p.bin_proto.User.verify(e.users[t]);if(n)return"users."+n}}return null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count)?"count: integer expected":null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext?"hasNext: boolean expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.UserAction)return e;var t=new p.bin_proto.UserAction;switch(e.action){case"BLOCK":case 0:t.action=0;break;case"UNBLOCK":case 1:t.action=1;break;case"GET_BLOCK_LIST":case 2:t.action=2}if(e.users){if(!Array.isArray(e.users))throw TypeError(".bin_proto.UserAction.users: array expected");t.users=[];for(var n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".bin_proto.UserAction.users: object expected");t.users[n]=p.bin_proto.User.fromObject(e.users[n])}}return null!=e.count&&(t.count=0|e.count),null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.users=[]),t.defaults&&(n.action=t.enums===String?"BLOCK":0,n.count=0,n.hasNext=!1),null!=e.action&&e.hasOwnProperty("action")&&(n.action=t.enums===String?p.bin_proto.UserAction.Action[e.action]:e.action),e.users&&e.users.length){n.users=[];for(var r=0;r<e.users.length;++r)n.users[r]=p.bin_proto.User.toObject(e.users[r],t)}return null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(n.hasNext=e.hasNext),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Action=function(){var e={},t=Object.create(e);return t[e[0]="BLOCK"]=0,t[e[1]="UNBLOCK"]=1,t[e[2]="GET_BLOCK_LIST"]=2,t}(),e}(),i.UsersList=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.users=d.emptyArray,e.prototype.hasNext=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)p.bin_proto.User.encode(e.users[n],t.uint32(10).fork()).ldelim();return null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(16).bool(e.hasNext),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.UsersList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.users&&r.users.length||(r.users=[]),r.users.push(p.bin_proto.User.decode(e,e.uint32()));break;case 2:r.hasNext=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(var t=0;t<e.users.length;++t){var n=p.bin_proto.User.verify(e.users[t]);if(n)return"users."+n}}return null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext?"hasNext: boolean expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.UsersList)return e;var t=new p.bin_proto.UsersList;if(e.users){if(!Array.isArray(e.users))throw TypeError(".bin_proto.UsersList.users: array expected");t.users=[];for(var n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".bin_proto.UsersList.users: object expected");t.users[n]=p.bin_proto.User.fromObject(e.users[n])}}return null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.users=[]),t.defaults&&(n.hasNext=!1),e.users&&e.users.length){n.users=[];for(var r=0;r<e.users.length;++r)n.users[r]=p.bin_proto.User.toObject(e.users[r],t)}return null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(n.hasNext=e.hasNext),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.PresenceMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.type=0,e.prototype.stamp=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.from=null,e.prototype.presence=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.stamp&&Object.hasOwnProperty.call(e,"stamp")&&t.uint32(24).int64(e.stamp),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&p.bin_proto.User.encode(e.from,t.uint32(34).fork()).ldelim(),null!=e.presence&&Object.hasOwnProperty.call(e,"presence")&&p.bin_proto.Presence.encode(e.presence,t.uint32(42).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.PresenceMessage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.type=e.int32();break;case 3:r.stamp=e.int64();break;case 4:r.from=p.bin_proto.User.decode(e,e.uint32());break;case 5:r.presence=p.bin_proto.Presence.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}return null!=e.stamp&&e.hasOwnProperty("stamp")&&!(d.isInteger(e.stamp)||e.stamp&&d.isInteger(e.stamp.low)&&d.isInteger(e.stamp.high))?"stamp: integer|Long expected":null!=e.from&&e.hasOwnProperty("from")&&(t=p.bin_proto.User.verify(e.from))?"from."+t:null!=e.presence&&e.hasOwnProperty("presence")&&(t=p.bin_proto.Presence.verify(e.presence))?"presence."+t:null;var t},e.fromObject=function(e){if(e instanceof p.bin_proto.PresenceMessage)return e;var t=new p.bin_proto.PresenceMessage;switch(null!=e.id&&(t.id=String(e.id)),e.type){case"NONE":case 0:t.type=0;break;case"ERROR":case 1:t.type=1;break;case"PROBE":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBED":case 4:t.type=4;break;case"AVAILABLE":case 5:t.type=5;break;case"UNAVAILABLE":case 6:t.type=6;break;case"UNSUBSCRIBE":case 7:t.type=7;break;case"UNSUBSCRIBED":case 8:t.type=8}if(null!=e.stamp&&(d.Long?(t.stamp=d.Long.fromValue(e.stamp)).unsigned=!1:"string"==typeof e.stamp?t.stamp=parseInt(e.stamp,10):"number"==typeof e.stamp?t.stamp=e.stamp:"object"==typeof e.stamp&&(t.stamp=new d.LongBits(e.stamp.low>>>0,e.stamp.high>>>0).toNumber())),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.PresenceMessage.from: object expected");t.from=p.bin_proto.User.fromObject(e.from)}if(null!=e.presence){if("object"!=typeof e.presence)throw TypeError(".bin_proto.PresenceMessage.presence: object expected");t.presence=p.bin_proto.Presence.fromObject(e.presence)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.id="",n.type=t.enums===String?"NONE":0,d.Long){var r=new d.Long(0,0,!1);n.stamp=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.stamp=t.longs===String?"0":0;n.from=null,n.presence=null}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?p.bin_proto.PresenceMessage.Type[e.type]:e.type),null!=e.stamp&&e.hasOwnProperty("stamp")&&("number"==typeof e.stamp?n.stamp=t.longs===String?String(e.stamp):e.stamp:n.stamp=t.longs===String?d.Long.prototype.toString.call(e.stamp):t.longs===Number?new d.LongBits(e.stamp.low>>>0,e.stamp.high>>>0).toNumber():e.stamp),null!=e.from&&e.hasOwnProperty("from")&&(n.from=p.bin_proto.User.toObject(e.from,t)),null!=e.presence&&e.hasOwnProperty("presence")&&(n.presence=p.bin_proto.Presence.toObject(e.presence,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="ERROR"]=1,t[e[2]="PROBE"]=2,t[e[3]="SUBSCRIBE"]=3,t[e[4]="SUBSCRIBED"]=4,t[e[5]="AVAILABLE"]=5,t[e[6]="UNAVAILABLE"]=6,t[e[7]="UNSUBSCRIBE"]=7,t[e[8]="UNSUBSCRIBED"]=8,t}(),e}(),i.UserSearch=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.limit=0,e.prototype.offset=0,e.prototype.order=0,e.prototype.filter=0,e.prototype.metaFilter=null,e.prototype.prefix="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(8).int32(e.limit),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).int32(e.offset),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(24).int32(e.order),null!=e.filter&&Object.hasOwnProperty.call(e,"filter")&&t.uint32(32).int32(e.filter),null!=e.prefix&&Object.hasOwnProperty.call(e,"prefix")&&t.uint32(42).string(e.prefix),null!=e.metaFilter&&Object.hasOwnProperty.call(e,"metaFilter")&&p.bin_proto.UserSearch.MetaFilter.encode(e.metaFilter,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.UserSearch;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.limit=e.int32();break;case 2:r.offset=e.int32();break;case 3:r.order=e.int32();break;case 4:r.filter=e.int32();break;case 6:r.metaFilter=p.bin_proto.UserSearch.MetaFilter.decode(e,e.uint32());break;case 5:r.prefix=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.limit&&e.hasOwnProperty("limit")&&!d.isInteger(e.limit))return"limit: integer expected";if(null!=e.offset&&e.hasOwnProperty("offset")&&!d.isInteger(e.offset))return"offset: integer expected";if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:case 2:}if(null!=e.filter&&e.hasOwnProperty("filter"))switch(e.filter){default:return"filter: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.metaFilter&&e.hasOwnProperty("metaFilter")){var t=p.bin_proto.UserSearch.MetaFilter.verify(e.metaFilter);if(t)return"metaFilter."+t}return null!=e.prefix&&e.hasOwnProperty("prefix")&&!d.isString(e.prefix)?"prefix: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.UserSearch)return e;var t=new p.bin_proto.UserSearch;switch(null!=e.limit&&(t.limit=0|e.limit),null!=e.offset&&(t.offset=0|e.offset),e.order){case"FIRST_NAME":case 0:t.order=0;break;case"LAST_NAME":case 1:t.order=1;break;case"USERNAME":case 2:t.order=2}switch(e.filter){case"BY_ALL":case 0:t.filter=0;break;case"BY_FIRST_NAME":case 1:t.filter=1;break;case"BY_LAST_NAME":case 2:t.filter=2;break;case"BY_USERNAME":case 3:t.filter=3}if(null!=e.metaFilter){if("object"!=typeof e.metaFilter)throw TypeError(".bin_proto.UserSearch.metaFilter: object expected");t.metaFilter=p.bin_proto.UserSearch.MetaFilter.fromObject(e.metaFilter)}return null!=e.prefix&&(t.prefix=String(e.prefix)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.limit=0,n.offset=0,n.order=t.enums===String?"FIRST_NAME":0,n.filter=t.enums===String?"BY_ALL":0,n.prefix="",n.metaFilter=null),null!=e.limit&&e.hasOwnProperty("limit")&&(n.limit=e.limit),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?p.bin_proto.UserSearch.Order[e.order]:e.order),null!=e.filter&&e.hasOwnProperty("filter")&&(n.filter=t.enums===String?p.bin_proto.UserSearch.Filter[e.filter]:e.filter),null!=e.prefix&&e.hasOwnProperty("prefix")&&(n.prefix=e.prefix),null!=e.metaFilter&&e.hasOwnProperty("metaFilter")&&(n.metaFilter=p.bin_proto.UserSearch.MetaFilter.toObject(e.metaFilter,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Order=function(){var e={},t=Object.create(e);return t[e[0]="FIRST_NAME"]=0,t[e[1]="LAST_NAME"]=1,t[e[2]="USERNAME"]=2,t}(),e.Filter=function(){var e={},t=Object.create(e);return t[e[0]="BY_ALL"]=0,t[e[1]="BY_FIRST_NAME"]=1,t[e[2]="BY_LAST_NAME"]=2,t[e[3]="BY_USERNAME"]=3,t}(),e.MetaFilter=function(){function e(e){if(this.byMetaKey=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.byMetaKey=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.byMetaKey&&e.byMetaKey.length)for(var n=0;n<e.byMetaKey.length;++n)t.uint32(10).string(e.byMetaKey[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.UserSearch.MetaFilter;e.pos<n;){var o=e.uint32();o>>>3==1?(r.byMetaKey&&r.byMetaKey.length||(r.byMetaKey=[]),r.byMetaKey.push(e.string())):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.byMetaKey&&e.hasOwnProperty("byMetaKey")){if(!Array.isArray(e.byMetaKey))return"byMetaKey: array expected";for(var t=0;t<e.byMetaKey.length;++t)if(!d.isString(e.byMetaKey[t]))return"byMetaKey: string[] expected"}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.UserSearch.MetaFilter)return e;var t=new p.bin_proto.UserSearch.MetaFilter;if(e.byMetaKey){if(!Array.isArray(e.byMetaKey))throw TypeError(".bin_proto.UserSearch.MetaFilter.byMetaKey: array expected");t.byMetaKey=[];for(var n=0;n<e.byMetaKey.length;++n)t.byMetaKey[n]=String(e.byMetaKey[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.byMetaKey=[]),e.byMetaKey&&e.byMetaKey.length){n.byMetaKey=[];for(var r=0;r<e.byMetaKey.length;++r)n.byMetaKey[r]=e.byMetaKey[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),e}(),i.UsersByUsername=function(){function e(e){if(this.list=[],this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=d.emptyArray,e.prototype.users=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)t.uint32(10).string(e.list[n]);if(null!=e.users&&e.users.length)for(n=0;n<e.users.length;++n)p.bin_proto.User.encode(e.users[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.UsersByUsername;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.list&&r.list.length||(r.list=[]),r.list.push(e.string());break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(p.bin_proto.User.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t)if(!d.isString(e.list[t]))return"list: string[] expected"}if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(t=0;t<e.users.length;++t){var n=p.bin_proto.User.verify(e.users[t]);if(n)return"users."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.UsersByUsername)return e;var t=new p.bin_proto.UsersByUsername;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.UsersByUsername.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n)t.list[n]=String(e.list[n])}if(e.users){if(!Array.isArray(e.users))throw TypeError(".bin_proto.UsersByUsername.users: array expected");for(t.users=[],n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".bin_proto.UsersByUsername.users: object expected");t.users[n]=p.bin_proto.User.fromObject(e.users[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[],n.users=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=e.list[r]}if(e.users&&e.users.length)for(n.users=[],r=0;r<e.users.length;++r)n.users[r]=p.bin_proto.User.toObject(e.users[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.UserQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id="",e.prototype.to="",e.prototype.user=null,e.prototype.userAction=null,e.prototype.blockedList=null,e.prototype.usersStatus=null,e.prototype.usersList=null,e.prototype.usersByUsername=null,e.prototype.userSearch=null,e.prototype.privacyExceptionQuery=null,e.prototype.privacyExceptionList=null,e.prototype.updatePrivacyExceptions=null,Object.defineProperty(e.prototype,"update",{get:d.oneOfGetter(t=["user","userAction","blockedList","usersStatus","usersList","usersByUsername","userSearch","privacyExceptionQuery","privacyExceptionList","updatePrivacyExceptions"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(18).string(e.to),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&p.bin_proto.User.encode(e.user,t.uint32(26).fork()).ldelim(),null!=e.userAction&&Object.hasOwnProperty.call(e,"userAction")&&p.bin_proto.UserAction.encode(e.userAction,t.uint32(34).fork()).ldelim(),null!=e.blockedList&&Object.hasOwnProperty.call(e,"blockedList")&&p.bin_proto.UserSearch.encode(e.blockedList,t.uint32(42).fork()).ldelim(),null!=e.usersStatus&&Object.hasOwnProperty.call(e,"usersStatus")&&p.bin_proto.UsersList.encode(e.usersStatus,t.uint32(50).fork()).ldelim(),null!=e.usersList&&Object.hasOwnProperty.call(e,"usersList")&&p.bin_proto.UsersList.encode(e.usersList,t.uint32(58).fork()).ldelim(),null!=e.userSearch&&Object.hasOwnProperty.call(e,"userSearch")&&p.bin_proto.UserSearch.encode(e.userSearch,t.uint32(66).fork()).ldelim(),null!=e.privacyExceptionQuery&&Object.hasOwnProperty.call(e,"privacyExceptionQuery")&&p.bin_proto.PrivacyExceptionsQuery.encode(e.privacyExceptionQuery,t.uint32(74).fork()).ldelim(),null!=e.privacyExceptionList&&Object.hasOwnProperty.call(e,"privacyExceptionList")&&p.bin_proto.PrivacyExceptionsList.encode(e.privacyExceptionList,t.uint32(82).fork()).ldelim(),null!=e.updatePrivacyExceptions&&Object.hasOwnProperty.call(e,"updatePrivacyExceptions")&&p.bin_proto.PrivacyExceptionsUpdate.encode(e.updatePrivacyExceptions,t.uint32(90).fork()).ldelim(),null!=e.usersByUsername&&Object.hasOwnProperty.call(e,"usersByUsername")&&p.bin_proto.UsersByUsername.encode(e.usersByUsername,t.uint32(98).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.UserQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.to=e.string();break;case 3:r.user=p.bin_proto.User.decode(e,e.uint32());break;case 4:r.userAction=p.bin_proto.UserAction.decode(e,e.uint32());break;case 5:r.blockedList=p.bin_proto.UserSearch.decode(e,e.uint32());break;case 6:r.usersStatus=p.bin_proto.UsersList.decode(e,e.uint32());break;case 7:r.usersList=p.bin_proto.UsersList.decode(e,e.uint32());break;case 12:r.usersByUsername=p.bin_proto.UsersByUsername.decode(e,e.uint32());break;case 8:r.userSearch=p.bin_proto.UserSearch.decode(e,e.uint32());break;case 9:r.privacyExceptionQuery=p.bin_proto.PrivacyExceptionsQuery.decode(e,e.uint32());break;case 10:r.privacyExceptionList=p.bin_proto.PrivacyExceptionsList.decode(e,e.uint32());break;case 11:r.updatePrivacyExceptions=p.bin_proto.PrivacyExceptionsUpdate.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.to&&e.hasOwnProperty("to")&&!d.isString(e.to))return"to: string expected";if(null!=e.user&&e.hasOwnProperty("user")&&(t.update=1,n=p.bin_proto.User.verify(e.user)))return"user."+n;if(null!=e.userAction&&e.hasOwnProperty("userAction")){if(1===t.update)return"update: multiple values";if(t.update=1,n=p.bin_proto.UserAction.verify(e.userAction))return"userAction."+n}if(null!=e.blockedList&&e.hasOwnProperty("blockedList")){if(1===t.update)return"update: multiple values";if(t.update=1,n=p.bin_proto.UserSearch.verify(e.blockedList))return"blockedList."+n}if(null!=e.usersStatus&&e.hasOwnProperty("usersStatus")){if(1===t.update)return"update: multiple values";if(t.update=1,n=p.bin_proto.UsersList.verify(e.usersStatus))return"usersStatus."+n}if(null!=e.usersList&&e.hasOwnProperty("usersList")){if(1===t.update)return"update: multiple values";if(t.update=1,n=p.bin_proto.UsersList.verify(e.usersList))return"usersList."+n}if(null!=e.usersByUsername&&e.hasOwnProperty("usersByUsername")){if(1===t.update)return"update: multiple values";if(t.update=1,n=p.bin_proto.UsersByUsername.verify(e.usersByUsername))return"usersByUsername."+n}if(null!=e.userSearch&&e.hasOwnProperty("userSearch")){if(1===t.update)return"update: multiple values";if(t.update=1,n=p.bin_proto.UserSearch.verify(e.userSearch))return"userSearch."+n}if(null!=e.privacyExceptionQuery&&e.hasOwnProperty("privacyExceptionQuery")){if(1===t.update)return"update: multiple values";if(t.update=1,n=p.bin_proto.PrivacyExceptionsQuery.verify(e.privacyExceptionQuery))return"privacyExceptionQuery."+n}if(null!=e.privacyExceptionList&&e.hasOwnProperty("privacyExceptionList")){if(1===t.update)return"update: multiple values";if(t.update=1,n=p.bin_proto.PrivacyExceptionsList.verify(e.privacyExceptionList))return"privacyExceptionList."+n}if(null!=e.updatePrivacyExceptions&&e.hasOwnProperty("updatePrivacyExceptions")){if(1===t.update)return"update: multiple values";var n;if(t.update=1,n=p.bin_proto.PrivacyExceptionsUpdate.verify(e.updatePrivacyExceptions))return"updatePrivacyExceptions."+n}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.UserQuery)return e;var t=new p.bin_proto.UserQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.to&&(t.to=String(e.to)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.UserQuery.user: object expected");t.user=p.bin_proto.User.fromObject(e.user)}if(null!=e.userAction){if("object"!=typeof e.userAction)throw TypeError(".bin_proto.UserQuery.userAction: object expected");t.userAction=p.bin_proto.UserAction.fromObject(e.userAction)}if(null!=e.blockedList){if("object"!=typeof e.blockedList)throw TypeError(".bin_proto.UserQuery.blockedList: object expected");t.blockedList=p.bin_proto.UserSearch.fromObject(e.blockedList)}if(null!=e.usersStatus){if("object"!=typeof e.usersStatus)throw TypeError(".bin_proto.UserQuery.usersStatus: object expected");t.usersStatus=p.bin_proto.UsersList.fromObject(e.usersStatus)}if(null!=e.usersList){if("object"!=typeof e.usersList)throw TypeError(".bin_proto.UserQuery.usersList: object expected");t.usersList=p.bin_proto.UsersList.fromObject(e.usersList)}if(null!=e.usersByUsername){if("object"!=typeof e.usersByUsername)throw TypeError(".bin_proto.UserQuery.usersByUsername: object expected");t.usersByUsername=p.bin_proto.UsersByUsername.fromObject(e.usersByUsername)}if(null!=e.userSearch){if("object"!=typeof e.userSearch)throw TypeError(".bin_proto.UserQuery.userSearch: object expected");t.userSearch=p.bin_proto.UserSearch.fromObject(e.userSearch)}if(null!=e.privacyExceptionQuery){if("object"!=typeof e.privacyExceptionQuery)throw TypeError(".bin_proto.UserQuery.privacyExceptionQuery: object expected");t.privacyExceptionQuery=p.bin_proto.PrivacyExceptionsQuery.fromObject(e.privacyExceptionQuery)}if(null!=e.privacyExceptionList){if("object"!=typeof e.privacyExceptionList)throw TypeError(".bin_proto.UserQuery.privacyExceptionList: object expected");t.privacyExceptionList=p.bin_proto.PrivacyExceptionsList.fromObject(e.privacyExceptionList)}if(null!=e.updatePrivacyExceptions){if("object"!=typeof e.updatePrivacyExceptions)throw TypeError(".bin_proto.UserQuery.updatePrivacyExceptions: object expected");t.updatePrivacyExceptions=p.bin_proto.PrivacyExceptionsUpdate.fromObject(e.updatePrivacyExceptions)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.to=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.user&&e.hasOwnProperty("user")&&(n.user=p.bin_proto.User.toObject(e.user,t),t.oneofs&&(n.update="user")),null!=e.userAction&&e.hasOwnProperty("userAction")&&(n.userAction=p.bin_proto.UserAction.toObject(e.userAction,t),t.oneofs&&(n.update="userAction")),null!=e.blockedList&&e.hasOwnProperty("blockedList")&&(n.blockedList=p.bin_proto.UserSearch.toObject(e.blockedList,t),t.oneofs&&(n.update="blockedList")),null!=e.usersStatus&&e.hasOwnProperty("usersStatus")&&(n.usersStatus=p.bin_proto.UsersList.toObject(e.usersStatus,t),t.oneofs&&(n.update="usersStatus")),null!=e.usersList&&e.hasOwnProperty("usersList")&&(n.usersList=p.bin_proto.UsersList.toObject(e.usersList,t),t.oneofs&&(n.update="usersList")),null!=e.userSearch&&e.hasOwnProperty("userSearch")&&(n.userSearch=p.bin_proto.UserSearch.toObject(e.userSearch,t),t.oneofs&&(n.update="userSearch")),null!=e.privacyExceptionQuery&&e.hasOwnProperty("privacyExceptionQuery")&&(n.privacyExceptionQuery=p.bin_proto.PrivacyExceptionsQuery.toObject(e.privacyExceptionQuery,t),t.oneofs&&(n.update="privacyExceptionQuery")),null!=e.privacyExceptionList&&e.hasOwnProperty("privacyExceptionList")&&(n.privacyExceptionList=p.bin_proto.PrivacyExceptionsList.toObject(e.privacyExceptionList,t),t.oneofs&&(n.update="privacyExceptionList")),null!=e.updatePrivacyExceptions&&e.hasOwnProperty("updatePrivacyExceptions")&&(n.updatePrivacyExceptions=p.bin_proto.PrivacyExceptionsUpdate.toObject(e.updatePrivacyExceptions,t),t.oneofs&&(n.update="updatePrivacyExceptions")),null!=e.usersByUsername&&e.hasOwnProperty("usersByUsername")&&(n.usersByUsername=p.bin_proto.UsersByUsername.toObject(e.usersByUsername,t),t.oneofs&&(n.update="usersByUsername")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.PrivacyExceptionsQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.privacyField="",e.prototype.exceptionType=0,e.prototype.count=0,e.prototype.nextToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.privacyField&&Object.hasOwnProperty.call(e,"privacyField")&&t.uint32(10).string(e.privacyField),null!=e.exceptionType&&Object.hasOwnProperty.call(e,"exceptionType")&&t.uint32(16).int32(e.exceptionType),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(24).int32(e.count),null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(34).string(e.nextToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.PrivacyExceptionsQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.privacyField=e.string();break;case 2:r.exceptionType=e.int32();break;case 3:r.count=e.int32();break;case 4:r.nextToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.privacyField&&e.hasOwnProperty("privacyField")&&!d.isString(e.privacyField))return"privacyField: string expected";if(null!=e.exceptionType&&e.hasOwnProperty("exceptionType"))switch(e.exceptionType){default:return"exceptionType: enum value expected";case 0:case 1:}return null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count)?"count: integer expected":null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken)?"nextToken: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.PrivacyExceptionsQuery)return e;var t=new p.bin_proto.PrivacyExceptionsQuery;switch(null!=e.privacyField&&(t.privacyField=String(e.privacyField)),e.exceptionType){case"INCLUSION":case 0:t.exceptionType=0;break;case"EXCLUSION":case 1:t.exceptionType=1}return null!=e.count&&(t.count=0|e.count),null!=e.nextToken&&(t.nextToken=String(e.nextToken)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.privacyField="",n.exceptionType=t.enums===String?"INCLUSION":0,n.count=0,n.nextToken=""),null!=e.privacyField&&e.hasOwnProperty("privacyField")&&(n.privacyField=e.privacyField),null!=e.exceptionType&&e.hasOwnProperty("exceptionType")&&(n.exceptionType=t.enums===String?p.bin_proto.ExceptionType[e.exceptionType]:e.exceptionType),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(n.nextToken=e.nextToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.PrivacyExceptionsList=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=d.emptyArray,e.prototype.hasNext=!1,e.prototype.nextToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.PrivacyException.encode(e.list[n],t.uint32(10).fork()).ldelim();return null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(16).bool(e.hasNext),null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(26).string(e.nextToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.PrivacyExceptionsList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.PrivacyException.decode(e,e.uint32()));break;case 2:r.hasNext=e.bool();break;case 3:r.nextToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.PrivacyException.verify(e.list[t]);if(n)return"list."+n}}return null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext?"hasNext: boolean expected":null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken)?"nextToken: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.PrivacyExceptionsList)return e;var t=new p.bin_proto.PrivacyExceptionsList;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.PrivacyExceptionsList.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.PrivacyExceptionsList.list: object expected");t.list[n]=p.bin_proto.PrivacyException.fromObject(e.list[n])}}return null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),null!=e.nextToken&&(t.nextToken=String(e.nextToken)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults&&(n.hasNext=!1,n.nextToken=""),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=p.bin_proto.PrivacyException.toObject(e.list[r],t)}return null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(n.hasNext=e.hasNext),null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(n.nextToken=e.nextToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ExceptionType=function(){var e={},t=Object.create(e);return t[e[0]="INCLUSION"]=0,t[e[1]="EXCLUSION"]=1,t}(),i.PrivacyException=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.whom="",e.prototype.privacyField="",e.prototype.createdAt=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.whom&&Object.hasOwnProperty.call(e,"whom")&&t.uint32(10).string(e.whom),null!=e.privacyField&&Object.hasOwnProperty.call(e,"privacyField")&&t.uint32(18).string(e.privacyField),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(24).int64(e.createdAt),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.PrivacyException;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.whom=e.string();break;case 2:r.privacyField=e.string();break;case 3:r.createdAt=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.whom&&e.hasOwnProperty("whom")&&!d.isString(e.whom)?"whom: string expected":null!=e.privacyField&&e.hasOwnProperty("privacyField")&&!d.isString(e.privacyField)?"privacyField: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!(d.isInteger(e.createdAt)||e.createdAt&&d.isInteger(e.createdAt.low)&&d.isInteger(e.createdAt.high))?"createdAt: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.PrivacyException)return e;var t=new p.bin_proto.PrivacyException;return null!=e.whom&&(t.whom=String(e.whom)),null!=e.privacyField&&(t.privacyField=String(e.privacyField)),null!=e.createdAt&&(d.Long?(t.createdAt=d.Long.fromValue(e.createdAt)).unsigned=!1:"string"==typeof e.createdAt?t.createdAt=parseInt(e.createdAt,10):"number"==typeof e.createdAt?t.createdAt=e.createdAt:"object"==typeof e.createdAt&&(t.createdAt=new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.whom="",n.privacyField="",d.Long){var r=new d.Long(0,0,!1);n.createdAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.createdAt=t.longs===String?"0":0;return null!=e.whom&&e.hasOwnProperty("whom")&&(n.whom=e.whom),null!=e.privacyField&&e.hasOwnProperty("privacyField")&&(n.privacyField=e.privacyField),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&("number"==typeof e.createdAt?n.createdAt=t.longs===String?String(e.createdAt):e.createdAt:n.createdAt=t.longs===String?d.Long.prototype.toString.call(e.createdAt):t.longs===Number?new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.PrivacyExceptionsUpdate=function(){function e(e){if(this.add=[],this.remove=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.exceptionType=0,e.prototype.privacyField="",e.prototype.reset=!1,e.prototype.add=d.emptyArray,e.prototype.remove=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.exceptionType&&Object.hasOwnProperty.call(e,"exceptionType")&&t.uint32(8).int32(e.exceptionType),null!=e.privacyField&&Object.hasOwnProperty.call(e,"privacyField")&&t.uint32(18).string(e.privacyField),null!=e.reset&&Object.hasOwnProperty.call(e,"reset")&&t.uint32(24).bool(e.reset),null!=e.add&&e.add.length)for(var n=0;n<e.add.length;++n)t.uint32(34).string(e.add[n]);if(null!=e.remove&&e.remove.length)for(n=0;n<e.remove.length;++n)t.uint32(42).string(e.remove[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.PrivacyExceptionsUpdate;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.exceptionType=e.int32();break;case 2:r.privacyField=e.string();break;case 3:r.reset=e.bool();break;case 4:r.add&&r.add.length||(r.add=[]),r.add.push(e.string());break;case 5:r.remove&&r.remove.length||(r.remove=[]),r.remove.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.exceptionType&&e.hasOwnProperty("exceptionType"))switch(e.exceptionType){default:return"exceptionType: enum value expected";case 0:case 1:}if(null!=e.privacyField&&e.hasOwnProperty("privacyField")&&!d.isString(e.privacyField))return"privacyField: string expected";if(null!=e.reset&&e.hasOwnProperty("reset")&&"boolean"!=typeof e.reset)return"reset: boolean expected";if(null!=e.add&&e.hasOwnProperty("add")){if(!Array.isArray(e.add))return"add: array expected";for(var t=0;t<e.add.length;++t)if(!d.isString(e.add[t]))return"add: string[] expected"}if(null!=e.remove&&e.hasOwnProperty("remove")){if(!Array.isArray(e.remove))return"remove: array expected";for(t=0;t<e.remove.length;++t)if(!d.isString(e.remove[t]))return"remove: string[] expected"}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.PrivacyExceptionsUpdate)return e;var t=new p.bin_proto.PrivacyExceptionsUpdate;switch(e.exceptionType){case"INCLUSION":case 0:t.exceptionType=0;break;case"EXCLUSION":case 1:t.exceptionType=1}if(null!=e.privacyField&&(t.privacyField=String(e.privacyField)),null!=e.reset&&(t.reset=Boolean(e.reset)),e.add){if(!Array.isArray(e.add))throw TypeError(".bin_proto.PrivacyExceptionsUpdate.add: array expected");t.add=[];for(var n=0;n<e.add.length;++n)t.add[n]=String(e.add[n])}if(e.remove){if(!Array.isArray(e.remove))throw TypeError(".bin_proto.PrivacyExceptionsUpdate.remove: array expected");for(t.remove=[],n=0;n<e.remove.length;++n)t.remove[n]=String(e.remove[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.add=[],n.remove=[]),t.defaults&&(n.exceptionType=t.enums===String?"INCLUSION":0,n.privacyField="",n.reset=!1),null!=e.exceptionType&&e.hasOwnProperty("exceptionType")&&(n.exceptionType=t.enums===String?p.bin_proto.ExceptionType[e.exceptionType]:e.exceptionType),null!=e.privacyField&&e.hasOwnProperty("privacyField")&&(n.privacyField=e.privacyField),null!=e.reset&&e.hasOwnProperty("reset")&&(n.reset=e.reset),e.add&&e.add.length){n.add=[];for(var r=0;r<e.add.length;++r)n.add[r]=e.add[r]}if(e.remove&&e.remove.length)for(n.remove=[],r=0;r<e.remove.length;++r)n.remove[r]=e.remove[r];return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Member=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.user=null,e.prototype.role="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&p.bin_proto.User.encode(e.user,t.uint32(10).fork()).ldelim(),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(18).string(e.role),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Member;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.user=p.bin_proto.User.decode(e,e.uint32());break;case 2:r.role=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=p.bin_proto.User.verify(e.user);if(t)return"user."+t}return null!=e.role&&e.hasOwnProperty("role")&&!d.isString(e.role)?"role: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Member)return e;var t=new p.bin_proto.Member;if(null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.Member.user: object expected");t.user=p.bin_proto.User.fromObject(e.user)}return null!=e.role&&(t.role=String(e.role)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.user=null,n.role=""),null!=e.user&&e.hasOwnProperty("user")&&(n.user=p.bin_proto.User.toObject(e.user,t)),null!=e.role&&e.hasOwnProperty("role")&&(n.role=e.role),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Permission=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Permission;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int64();break;case 2:r.name=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(d.isInteger(e.id)||e.id&&d.isInteger(e.id.low)&&d.isInteger(e.id.high))?"id: integer|Long expected":null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Permission)return e;var t=new p.bin_proto.Permission;return null!=e.id&&(d.Long?(t.id=d.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(d.Long){var r=new d.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.name=""}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?d.Long.prototype.toString.call(e.id):t.longs===Number?new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Role=function(){function e(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.description="",e.prototype.priority=0,e.prototype.access=0,e.prototype.permissions=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.priority&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).int32(e.priority),null!=e.access&&Object.hasOwnProperty.call(e,"access")&&t.uint32(40).int32(e.access),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)p.bin_proto.Permission.encode(e.permissions[n],t.uint32(50).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Role;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.int64();break;case 2:r.name=e.string();break;case 3:r.description=e.string();break;case 4:r.priority=e.int32();break;case 5:r.access=e.int32();break;case 6:r.permissions&&r.permissions.length||(r.permissions=[]),r.permissions.push(p.bin_proto.Permission.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(d.isInteger(e.id)||e.id&&d.isInteger(e.id.low)&&d.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!d.isString(e.description))return"description: string expected";if(null!=e.priority&&e.hasOwnProperty("priority")&&!d.isInteger(e.priority))return"priority: integer expected";if(null!=e.access&&e.hasOwnProperty("access")&&!d.isInteger(e.access))return"access: integer expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t){var n=p.bin_proto.Permission.verify(e.permissions[t]);if(n)return"permissions."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Role)return e;var t=new p.bin_proto.Role;if(null!=e.id&&(d.Long?(t.id=d.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.priority&&(t.priority=0|e.priority),null!=e.access&&(t.access=0|e.access),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".bin_proto.Role.permissions: array expected");t.permissions=[];for(var n=0;n<e.permissions.length;++n){if("object"!=typeof e.permissions[n])throw TypeError(".bin_proto.Role.permissions: object expected");t.permissions[n]=p.bin_proto.Permission.fromObject(e.permissions[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permissions=[]),t.defaults){if(d.Long){var r=new d.Long(0,0,!1);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.name="",n.description="",n.priority=0,n.access=0}if(null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?d.Long.prototype.toString.call(e.id):t.longs===Number?new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.priority&&e.hasOwnProperty("priority")&&(n.priority=e.priority),null!=e.access&&e.hasOwnProperty("access")&&(n.access=e.access),e.permissions&&e.permissions.length){n.permissions=[];for(var o=0;o<e.permissions.length;++o)n.permissions[o]=p.bin_proto.Permission.toObject(e.permissions[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Roles=function(){function e(e){if(this.roles=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.roles=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.roles&&e.roles.length)for(var n=0;n<e.roles.length;++n)p.bin_proto.Role.encode(e.roles[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Roles;e.pos<n;){var o=e.uint32();o>>>3==1?(r.roles&&r.roles.length||(r.roles=[]),r.roles.push(p.bin_proto.Role.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.roles&&e.hasOwnProperty("roles")){if(!Array.isArray(e.roles))return"roles: array expected";for(var t=0;t<e.roles.length;++t){var n=p.bin_proto.Role.verify(e.roles[t]);if(n)return"roles."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Roles)return e;var t=new p.bin_proto.Roles;if(e.roles){if(!Array.isArray(e.roles))throw TypeError(".bin_proto.Roles.roles: array expected");t.roles=[];for(var n=0;n<e.roles.length;++n){if("object"!=typeof e.roles[n])throw TypeError(".bin_proto.Roles.roles: object expected");t.roles[n]=p.bin_proto.Role.fromObject(e.roles[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.roles=[]),e.roles&&e.roles.length){n.roles=[];for(var r=0;r<e.roles.length;++r)n.roles[r]=p.bin_proto.Role.toObject(e.roles[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Conversation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.unread=0,e.prototype.msg=null,e.prototype.act=null,e.prototype.localRcvd=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.localDspld=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.remoteRcvd=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.remoteDspld=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.channelUnread=!1,e.prototype.unreadMentions=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.unreadReactions=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.messagesDeletionDate=d.Long?d.Long.fromBits(0,0,!1):0,Object.defineProperty(e.prototype,"LastMessage",{get:d.oneOfGetter(t=["msg","act"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.unread&&Object.hasOwnProperty.call(e,"unread")&&t.uint32(8).int32(e.unread),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&p.bin_proto.Message.encode(e.msg,t.uint32(18).fork()).ldelim(),null!=e.act&&Object.hasOwnProperty.call(e,"act")&&p.bin_proto.ChannelAction.encode(e.act,t.uint32(26).fork()).ldelim(),null!=e.localRcvd&&Object.hasOwnProperty.call(e,"localRcvd")&&t.uint32(32).int64(e.localRcvd),null!=e.localDspld&&Object.hasOwnProperty.call(e,"localDspld")&&t.uint32(40).int64(e.localDspld),null!=e.remoteRcvd&&Object.hasOwnProperty.call(e,"remoteRcvd")&&t.uint32(48).int64(e.remoteRcvd),null!=e.remoteDspld&&Object.hasOwnProperty.call(e,"remoteDspld")&&t.uint32(56).int64(e.remoteDspld),null!=e.channelUnread&&Object.hasOwnProperty.call(e,"channelUnread")&&t.uint32(64).bool(e.channelUnread),null!=e.unreadMentions&&Object.hasOwnProperty.call(e,"unreadMentions")&&t.uint32(72).int64(e.unreadMentions),null!=e.unreadReactions&&Object.hasOwnProperty.call(e,"unreadReactions")&&t.uint32(80).int64(e.unreadReactions),null!=e.messagesDeletionDate&&Object.hasOwnProperty.call(e,"messagesDeletionDate")&&t.uint32(88).int64(e.messagesDeletionDate),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Conversation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.unread=e.int32();break;case 2:r.msg=p.bin_proto.Message.decode(e,e.uint32());break;case 3:r.act=p.bin_proto.ChannelAction.decode(e,e.uint32());break;case 4:r.localRcvd=e.int64();break;case 5:r.localDspld=e.int64();break;case 6:r.remoteRcvd=e.int64();break;case 7:r.remoteDspld=e.int64();break;case 8:r.channelUnread=e.bool();break;case 9:r.unreadMentions=e.int64();break;case 10:r.unreadReactions=e.int64();break;case 11:r.messagesDeletionDate=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.unread&&e.hasOwnProperty("unread")&&!d.isInteger(e.unread))return"unread: integer expected";if(null!=e.msg&&e.hasOwnProperty("msg")&&(t.LastMessage=1,n=p.bin_proto.Message.verify(e.msg)))return"msg."+n;if(null!=e.act&&e.hasOwnProperty("act")){if(1===t.LastMessage)return"LastMessage: multiple values";var n;if(t.LastMessage=1,n=p.bin_proto.ChannelAction.verify(e.act))return"act."+n}return null!=e.localRcvd&&e.hasOwnProperty("localRcvd")&&!(d.isInteger(e.localRcvd)||e.localRcvd&&d.isInteger(e.localRcvd.low)&&d.isInteger(e.localRcvd.high))?"localRcvd: integer|Long expected":null!=e.localDspld&&e.hasOwnProperty("localDspld")&&!(d.isInteger(e.localDspld)||e.localDspld&&d.isInteger(e.localDspld.low)&&d.isInteger(e.localDspld.high))?"localDspld: integer|Long expected":null!=e.remoteRcvd&&e.hasOwnProperty("remoteRcvd")&&!(d.isInteger(e.remoteRcvd)||e.remoteRcvd&&d.isInteger(e.remoteRcvd.low)&&d.isInteger(e.remoteRcvd.high))?"remoteRcvd: integer|Long expected":null!=e.remoteDspld&&e.hasOwnProperty("remoteDspld")&&!(d.isInteger(e.remoteDspld)||e.remoteDspld&&d.isInteger(e.remoteDspld.low)&&d.isInteger(e.remoteDspld.high))?"remoteDspld: integer|Long expected":null!=e.channelUnread&&e.hasOwnProperty("channelUnread")&&"boolean"!=typeof e.channelUnread?"channelUnread: boolean expected":null!=e.unreadMentions&&e.hasOwnProperty("unreadMentions")&&!(d.isInteger(e.unreadMentions)||e.unreadMentions&&d.isInteger(e.unreadMentions.low)&&d.isInteger(e.unreadMentions.high))?"unreadMentions: integer|Long expected":null!=e.unreadReactions&&e.hasOwnProperty("unreadReactions")&&!(d.isInteger(e.unreadReactions)||e.unreadReactions&&d.isInteger(e.unreadReactions.low)&&d.isInteger(e.unreadReactions.high))?"unreadReactions: integer|Long expected":null!=e.messagesDeletionDate&&e.hasOwnProperty("messagesDeletionDate")&&!(d.isInteger(e.messagesDeletionDate)||e.messagesDeletionDate&&d.isInteger(e.messagesDeletionDate.low)&&d.isInteger(e.messagesDeletionDate.high))?"messagesDeletionDate: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Conversation)return e;var t=new p.bin_proto.Conversation;if(null!=e.unread&&(t.unread=0|e.unread),null!=e.msg){if("object"!=typeof e.msg)throw TypeError(".bin_proto.Conversation.msg: object expected");t.msg=p.bin_proto.Message.fromObject(e.msg)}if(null!=e.act){if("object"!=typeof e.act)throw TypeError(".bin_proto.Conversation.act: object expected");t.act=p.bin_proto.ChannelAction.fromObject(e.act)}return null!=e.localRcvd&&(d.Long?(t.localRcvd=d.Long.fromValue(e.localRcvd)).unsigned=!1:"string"==typeof e.localRcvd?t.localRcvd=parseInt(e.localRcvd,10):"number"==typeof e.localRcvd?t.localRcvd=e.localRcvd:"object"==typeof e.localRcvd&&(t.localRcvd=new d.LongBits(e.localRcvd.low>>>0,e.localRcvd.high>>>0).toNumber())),null!=e.localDspld&&(d.Long?(t.localDspld=d.Long.fromValue(e.localDspld)).unsigned=!1:"string"==typeof e.localDspld?t.localDspld=parseInt(e.localDspld,10):"number"==typeof e.localDspld?t.localDspld=e.localDspld:"object"==typeof e.localDspld&&(t.localDspld=new d.LongBits(e.localDspld.low>>>0,e.localDspld.high>>>0).toNumber())),null!=e.remoteRcvd&&(d.Long?(t.remoteRcvd=d.Long.fromValue(e.remoteRcvd)).unsigned=!1:"string"==typeof e.remoteRcvd?t.remoteRcvd=parseInt(e.remoteRcvd,10):"number"==typeof e.remoteRcvd?t.remoteRcvd=e.remoteRcvd:"object"==typeof e.remoteRcvd&&(t.remoteRcvd=new d.LongBits(e.remoteRcvd.low>>>0,e.remoteRcvd.high>>>0).toNumber())),null!=e.remoteDspld&&(d.Long?(t.remoteDspld=d.Long.fromValue(e.remoteDspld)).unsigned=!1:"string"==typeof e.remoteDspld?t.remoteDspld=parseInt(e.remoteDspld,10):"number"==typeof e.remoteDspld?t.remoteDspld=e.remoteDspld:"object"==typeof e.remoteDspld&&(t.remoteDspld=new d.LongBits(e.remoteDspld.low>>>0,e.remoteDspld.high>>>0).toNumber())),null!=e.channelUnread&&(t.channelUnread=Boolean(e.channelUnread)),null!=e.unreadMentions&&(d.Long?(t.unreadMentions=d.Long.fromValue(e.unreadMentions)).unsigned=!1:"string"==typeof e.unreadMentions?t.unreadMentions=parseInt(e.unreadMentions,10):"number"==typeof e.unreadMentions?t.unreadMentions=e.unreadMentions:"object"==typeof e.unreadMentions&&(t.unreadMentions=new d.LongBits(e.unreadMentions.low>>>0,e.unreadMentions.high>>>0).toNumber())),null!=e.unreadReactions&&(d.Long?(t.unreadReactions=d.Long.fromValue(e.unreadReactions)).unsigned=!1:"string"==typeof e.unreadReactions?t.unreadReactions=parseInt(e.unreadReactions,10):"number"==typeof e.unreadReactions?t.unreadReactions=e.unreadReactions:"object"==typeof e.unreadReactions&&(t.unreadReactions=new d.LongBits(e.unreadReactions.low>>>0,e.unreadReactions.high>>>0).toNumber())),null!=e.messagesDeletionDate&&(d.Long?(t.messagesDeletionDate=d.Long.fromValue(e.messagesDeletionDate)).unsigned=!1:"string"==typeof e.messagesDeletionDate?t.messagesDeletionDate=parseInt(e.messagesDeletionDate,10):"number"==typeof e.messagesDeletionDate?t.messagesDeletionDate=e.messagesDeletionDate:"object"==typeof e.messagesDeletionDate&&(t.messagesDeletionDate=new d.LongBits(e.messagesDeletionDate.low>>>0,e.messagesDeletionDate.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.unread=0,d.Long){var r=new d.Long(0,0,!1);n.localRcvd=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.localRcvd=t.longs===String?"0":0;d.Long?(r=new d.Long(0,0,!1),n.localDspld=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.localDspld=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!1),n.remoteRcvd=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.remoteRcvd=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!1),n.remoteDspld=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.remoteDspld=t.longs===String?"0":0,n.channelUnread=!1,d.Long?(r=new d.Long(0,0,!1),n.unreadMentions=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.unreadMentions=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!1),n.unreadReactions=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.unreadReactions=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!1),n.messagesDeletionDate=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.messagesDeletionDate=t.longs===String?"0":0}return null!=e.unread&&e.hasOwnProperty("unread")&&(n.unread=e.unread),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=p.bin_proto.Message.toObject(e.msg,t),t.oneofs&&(n.LastMessage="msg")),null!=e.act&&e.hasOwnProperty("act")&&(n.act=p.bin_proto.ChannelAction.toObject(e.act,t),t.oneofs&&(n.LastMessage="act")),null!=e.localRcvd&&e.hasOwnProperty("localRcvd")&&("number"==typeof e.localRcvd?n.localRcvd=t.longs===String?String(e.localRcvd):e.localRcvd:n.localRcvd=t.longs===String?d.Long.prototype.toString.call(e.localRcvd):t.longs===Number?new d.LongBits(e.localRcvd.low>>>0,e.localRcvd.high>>>0).toNumber():e.localRcvd),null!=e.localDspld&&e.hasOwnProperty("localDspld")&&("number"==typeof e.localDspld?n.localDspld=t.longs===String?String(e.localDspld):e.localDspld:n.localDspld=t.longs===String?d.Long.prototype.toString.call(e.localDspld):t.longs===Number?new d.LongBits(e.localDspld.low>>>0,e.localDspld.high>>>0).toNumber():e.localDspld),null!=e.remoteRcvd&&e.hasOwnProperty("remoteRcvd")&&("number"==typeof e.remoteRcvd?n.remoteRcvd=t.longs===String?String(e.remoteRcvd):e.remoteRcvd:n.remoteRcvd=t.longs===String?d.Long.prototype.toString.call(e.remoteRcvd):t.longs===Number?new d.LongBits(e.remoteRcvd.low>>>0,e.remoteRcvd.high>>>0).toNumber():e.remoteRcvd),null!=e.remoteDspld&&e.hasOwnProperty("remoteDspld")&&("number"==typeof e.remoteDspld?n.remoteDspld=t.longs===String?String(e.remoteDspld):e.remoteDspld:n.remoteDspld=t.longs===String?d.Long.prototype.toString.call(e.remoteDspld):t.longs===Number?new d.LongBits(e.remoteDspld.low>>>0,e.remoteDspld.high>>>0).toNumber():e.remoteDspld),null!=e.channelUnread&&e.hasOwnProperty("channelUnread")&&(n.channelUnread=e.channelUnread),null!=e.unreadMentions&&e.hasOwnProperty("unreadMentions")&&("number"==typeof e.unreadMentions?n.unreadMentions=t.longs===String?String(e.unreadMentions):e.unreadMentions:n.unreadMentions=t.longs===String?d.Long.prototype.toString.call(e.unreadMentions):t.longs===Number?new d.LongBits(e.unreadMentions.low>>>0,e.unreadMentions.high>>>0).toNumber():e.unreadMentions),null!=e.unreadReactions&&e.hasOwnProperty("unreadReactions")&&("number"==typeof e.unreadReactions?n.unreadReactions=t.longs===String?String(e.unreadReactions):e.unreadReactions:n.unreadReactions=t.longs===String?d.Long.prototype.toString.call(e.unreadReactions):t.longs===Number?new d.LongBits(e.unreadReactions.low>>>0,e.unreadReactions.high>>>0).toNumber():e.unreadReactions),null!=e.messagesDeletionDate&&e.hasOwnProperty("messagesDeletionDate")&&("number"==typeof e.messagesDeletionDate?n.messagesDeletionDate=t.longs===String?String(e.messagesDeletionDate):e.messagesDeletionDate:n.messagesDeletionDate=t.longs===String?d.Long.prototype.toString.call(e.messagesDeletionDate):t.longs===Number?new d.LongBits(e.messagesDeletionDate.low>>>0,e.messagesDeletionDate.high>>>0).toNumber():e.messagesDeletionDate),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Config=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.distinct=!1,e.prototype.allowJoin=!1,e.prototype.discoverable=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.distinct&&Object.hasOwnProperty.call(e,"distinct")&&t.uint32(8).bool(e.distinct),null!=e.allowJoin&&Object.hasOwnProperty.call(e,"allowJoin")&&t.uint32(16).bool(e.allowJoin),null!=e.discoverable&&Object.hasOwnProperty.call(e,"discoverable")&&t.uint32(24).bool(e.discoverable),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Config;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.distinct=e.bool();break;case 2:r.allowJoin=e.bool();break;case 3:r.discoverable=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.distinct&&e.hasOwnProperty("distinct")&&"boolean"!=typeof e.distinct?"distinct: boolean expected":null!=e.allowJoin&&e.hasOwnProperty("allowJoin")&&"boolean"!=typeof e.allowJoin?"allowJoin: boolean expected":null!=e.discoverable&&e.hasOwnProperty("discoverable")&&"boolean"!=typeof e.discoverable?"discoverable: boolean expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Config)return e;var t=new p.bin_proto.Config;return null!=e.distinct&&(t.distinct=Boolean(e.distinct)),null!=e.allowJoin&&(t.allowJoin=Boolean(e.allowJoin)),null!=e.discoverable&&(t.discoverable=Boolean(e.discoverable)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.distinct=!1,n.allowJoin=!1,n.discoverable=!1),null!=e.distinct&&e.hasOwnProperty("distinct")&&(n.distinct=e.distinct),null!=e.allowJoin&&e.hasOwnProperty("allowJoin")&&(n.allowJoin=e.allowJoin),null!=e.discoverable&&e.hasOwnProperty("discoverable")&&(n.discoverable=e.discoverable),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Channel=function(){function e(e){if(this.members=[],this.messages=[],this.userMessageReactions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.type="",e.prototype.subject="",e.prototype.uri="",e.prototype.avatar="",e.prototype.label="",e.prototype.metadata="",e.prototype.createdAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.updatedAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.muted=!1,e.prototype.muteTill=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.pinnedAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.parentChannelId="",e.prototype.autoDeletePeriod=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.hidden=!1,e.prototype.archived=!1,e.prototype.membersTotalCount=0,e.prototype.conv=null,e.prototype.config=null,e.prototype.members=d.emptyArray,e.prototype.messages=d.emptyArray,e.prototype.userMessageReactions=d.emptyArray,e.prototype.createdBy=null,e.prototype.role="",e.prototype.frozen=!1,e.prototype.frozenTill=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.typeOverride=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.subject&&Object.hasOwnProperty.call(e,"subject")&&t.uint32(26).string(e.subject),null!=e.uri&&Object.hasOwnProperty.call(e,"uri")&&t.uint32(34).string(e.uri),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(42).string(e.avatar),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(50).string(e.label),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(58).string(e.metadata),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(64).int64(e.createdAt),null!=e.updatedAt&&Object.hasOwnProperty.call(e,"updatedAt")&&t.uint32(72).int64(e.updatedAt),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(80).bool(e.muted),null!=e.muteTill&&Object.hasOwnProperty.call(e,"muteTill")&&t.uint32(88).int64(e.muteTill),null!=e.pinnedAt&&Object.hasOwnProperty.call(e,"pinnedAt")&&t.uint32(96).int64(e.pinnedAt),null!=e.parentChannelId&&Object.hasOwnProperty.call(e,"parentChannelId")&&t.uint32(106).string(e.parentChannelId),null!=e.autoDeletePeriod&&Object.hasOwnProperty.call(e,"autoDeletePeriod")&&t.uint32(112).int64(e.autoDeletePeriod),null!=e.hidden&&Object.hasOwnProperty.call(e,"hidden")&&t.uint32(120).bool(e.hidden),null!=e.archived&&Object.hasOwnProperty.call(e,"archived")&&t.uint32(128).bool(e.archived),null!=e.membersTotalCount&&Object.hasOwnProperty.call(e,"membersTotalCount")&&t.uint32(136).int32(e.membersTotalCount),null!=e.conv&&Object.hasOwnProperty.call(e,"conv")&&p.bin_proto.Conversation.encode(e.conv,t.uint32(146).fork()).ldelim(),null!=e.config&&Object.hasOwnProperty.call(e,"config")&&p.bin_proto.Config.encode(e.config,t.uint32(154).fork()).ldelim(),null!=e.members&&e.members.length)for(var n=0;n<e.members.length;++n)p.bin_proto.Member.encode(e.members[n],t.uint32(162).fork()).ldelim();if(null!=e.messages&&e.messages.length)for(n=0;n<e.messages.length;++n)p.bin_proto.Message.encode(e.messages[n],t.uint32(170).fork()).ldelim();if(null!=e.userMessageReactions&&e.userMessageReactions.length)for(n=0;n<e.userMessageReactions.length;++n)p.bin_proto.ReactionObj.encode(e.userMessageReactions[n],t.uint32(178).fork()).ldelim();return null!=e.createdBy&&Object.hasOwnProperty.call(e,"createdBy")&&p.bin_proto.User.encode(e.createdBy,t.uint32(186).fork()).ldelim(),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(194).string(e.role),null!=e.frozen&&Object.hasOwnProperty.call(e,"frozen")&&t.uint32(200).bool(e.frozen),null!=e.frozenTill&&Object.hasOwnProperty.call(e,"frozenTill")&&t.uint32(208).int64(e.frozenTill),null!=e.typeOverride&&Object.hasOwnProperty.call(e,"typeOverride")&&p.bin_proto.TypeOverride.encode(e.typeOverride,t.uint32(218).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Channel;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.type=e.string();break;case 3:r.subject=e.string();break;case 4:r.uri=e.string();break;case 5:r.avatar=e.string();break;case 6:r.label=e.string();break;case 7:r.metadata=e.string();break;case 8:r.createdAt=e.int64();break;case 9:r.updatedAt=e.int64();break;case 10:r.muted=e.bool();break;case 11:r.muteTill=e.int64();break;case 12:r.pinnedAt=e.int64();break;case 13:r.parentChannelId=e.string();break;case 14:r.autoDeletePeriod=e.int64();break;case 15:r.hidden=e.bool();break;case 16:r.archived=e.bool();break;case 17:r.membersTotalCount=e.int32();break;case 18:r.conv=p.bin_proto.Conversation.decode(e,e.uint32());break;case 19:r.config=p.bin_proto.Config.decode(e,e.uint32());break;case 20:r.members&&r.members.length||(r.members=[]),r.members.push(p.bin_proto.Member.decode(e,e.uint32()));break;case 21:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(p.bin_proto.Message.decode(e,e.uint32()));break;case 22:r.userMessageReactions&&r.userMessageReactions.length||(r.userMessageReactions=[]),r.userMessageReactions.push(p.bin_proto.ReactionObj.decode(e,e.uint32()));break;case 23:r.createdBy=p.bin_proto.User.decode(e,e.uint32());break;case 24:r.role=e.string();break;case 25:r.frozen=e.bool();break;case 26:r.frozenTill=e.int64();break;case 27:r.typeOverride=p.bin_proto.TypeOverride.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type))return"type: string expected";if(null!=e.subject&&e.hasOwnProperty("subject")&&!d.isString(e.subject))return"subject: string expected";if(null!=e.uri&&e.hasOwnProperty("uri")&&!d.isString(e.uri))return"uri: string expected";if(null!=e.avatar&&e.hasOwnProperty("avatar")&&!d.isString(e.avatar))return"avatar: string expected";if(null!=e.label&&e.hasOwnProperty("label")&&!d.isString(e.label))return"label: string expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")&&!d.isString(e.metadata))return"metadata: string expected";if(null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!(d.isInteger(e.createdAt)||e.createdAt&&d.isInteger(e.createdAt.low)&&d.isInteger(e.createdAt.high)))return"createdAt: integer|Long expected";if(null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&!(d.isInteger(e.updatedAt)||e.updatedAt&&d.isInteger(e.updatedAt.low)&&d.isInteger(e.updatedAt.high)))return"updatedAt: integer|Long expected";if(null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted)return"muted: boolean expected";if(null!=e.muteTill&&e.hasOwnProperty("muteTill")&&!(d.isInteger(e.muteTill)||e.muteTill&&d.isInteger(e.muteTill.low)&&d.isInteger(e.muteTill.high)))return"muteTill: integer|Long expected";if(null!=e.pinnedAt&&e.hasOwnProperty("pinnedAt")&&!(d.isInteger(e.pinnedAt)||e.pinnedAt&&d.isInteger(e.pinnedAt.low)&&d.isInteger(e.pinnedAt.high)))return"pinnedAt: integer|Long expected";if(null!=e.parentChannelId&&e.hasOwnProperty("parentChannelId")&&!d.isString(e.parentChannelId))return"parentChannelId: string expected";if(null!=e.autoDeletePeriod&&e.hasOwnProperty("autoDeletePeriod")&&!(d.isInteger(e.autoDeletePeriod)||e.autoDeletePeriod&&d.isInteger(e.autoDeletePeriod.low)&&d.isInteger(e.autoDeletePeriod.high)))return"autoDeletePeriod: integer|Long expected";if(null!=e.hidden&&e.hasOwnProperty("hidden")&&"boolean"!=typeof e.hidden)return"hidden: boolean expected";if(null!=e.archived&&e.hasOwnProperty("archived")&&"boolean"!=typeof e.archived)return"archived: boolean expected";if(null!=e.membersTotalCount&&e.hasOwnProperty("membersTotalCount")&&!d.isInteger(e.membersTotalCount))return"membersTotalCount: integer expected";if(null!=e.conv&&e.hasOwnProperty("conv")&&(n=p.bin_proto.Conversation.verify(e.conv)))return"conv."+n;if(null!=e.config&&e.hasOwnProperty("config")&&(n=p.bin_proto.Config.verify(e.config)))return"config."+n;if(null!=e.members&&e.hasOwnProperty("members")){if(!Array.isArray(e.members))return"members: array expected";for(var t=0;t<e.members.length;++t)if(n=p.bin_proto.Member.verify(e.members[t]))return"members."+n}if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(t=0;t<e.messages.length;++t)if(n=p.bin_proto.Message.verify(e.messages[t]))return"messages."+n}if(null!=e.userMessageReactions&&e.hasOwnProperty("userMessageReactions")){if(!Array.isArray(e.userMessageReactions))return"userMessageReactions: array expected";for(t=0;t<e.userMessageReactions.length;++t){var n;if(n=p.bin_proto.ReactionObj.verify(e.userMessageReactions[t]))return"userMessageReactions."+n}}return null!=e.createdBy&&e.hasOwnProperty("createdBy")&&(n=p.bin_proto.User.verify(e.createdBy))?"createdBy."+n:null!=e.role&&e.hasOwnProperty("role")&&!d.isString(e.role)?"role: string expected":null!=e.frozen&&e.hasOwnProperty("frozen")&&"boolean"!=typeof e.frozen?"frozen: boolean expected":null!=e.frozenTill&&e.hasOwnProperty("frozenTill")&&!(d.isInteger(e.frozenTill)||e.frozenTill&&d.isInteger(e.frozenTill.low)&&d.isInteger(e.frozenTill.high))?"frozenTill: integer|Long expected":null!=e.typeOverride&&e.hasOwnProperty("typeOverride")&&(n=p.bin_proto.TypeOverride.verify(e.typeOverride))?"typeOverride."+n:null},e.fromObject=function(e){if(e instanceof p.bin_proto.Channel)return e;var t=new p.bin_proto.Channel;if(null!=e.id&&(t.id=String(e.id)),null!=e.type&&(t.type=String(e.type)),null!=e.subject&&(t.subject=String(e.subject)),null!=e.uri&&(t.uri=String(e.uri)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.label&&(t.label=String(e.label)),null!=e.metadata&&(t.metadata=String(e.metadata)),null!=e.createdAt&&(d.Long?(t.createdAt=d.Long.fromValue(e.createdAt)).unsigned=!1:"string"==typeof e.createdAt?t.createdAt=parseInt(e.createdAt,10):"number"==typeof e.createdAt?t.createdAt=e.createdAt:"object"==typeof e.createdAt&&(t.createdAt=new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),null!=e.updatedAt&&(d.Long?(t.updatedAt=d.Long.fromValue(e.updatedAt)).unsigned=!1:"string"==typeof e.updatedAt?t.updatedAt=parseInt(e.updatedAt,10):"number"==typeof e.updatedAt?t.updatedAt=e.updatedAt:"object"==typeof e.updatedAt&&(t.updatedAt=new d.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber())),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.muteTill&&(d.Long?(t.muteTill=d.Long.fromValue(e.muteTill)).unsigned=!1:"string"==typeof e.muteTill?t.muteTill=parseInt(e.muteTill,10):"number"==typeof e.muteTill?t.muteTill=e.muteTill:"object"==typeof e.muteTill&&(t.muteTill=new d.LongBits(e.muteTill.low>>>0,e.muteTill.high>>>0).toNumber())),null!=e.pinnedAt&&(d.Long?(t.pinnedAt=d.Long.fromValue(e.pinnedAt)).unsigned=!1:"string"==typeof e.pinnedAt?t.pinnedAt=parseInt(e.pinnedAt,10):"number"==typeof e.pinnedAt?t.pinnedAt=e.pinnedAt:"object"==typeof e.pinnedAt&&(t.pinnedAt=new d.LongBits(e.pinnedAt.low>>>0,e.pinnedAt.high>>>0).toNumber())),null!=e.parentChannelId&&(t.parentChannelId=String(e.parentChannelId)),null!=e.autoDeletePeriod&&(d.Long?(t.autoDeletePeriod=d.Long.fromValue(e.autoDeletePeriod)).unsigned=!1:"string"==typeof e.autoDeletePeriod?t.autoDeletePeriod=parseInt(e.autoDeletePeriod,10):"number"==typeof e.autoDeletePeriod?t.autoDeletePeriod=e.autoDeletePeriod:"object"==typeof e.autoDeletePeriod&&(t.autoDeletePeriod=new d.LongBits(e.autoDeletePeriod.low>>>0,e.autoDeletePeriod.high>>>0).toNumber())),null!=e.hidden&&(t.hidden=Boolean(e.hidden)),null!=e.archived&&(t.archived=Boolean(e.archived)),null!=e.membersTotalCount&&(t.membersTotalCount=0|e.membersTotalCount),null!=e.conv){if("object"!=typeof e.conv)throw TypeError(".bin_proto.Channel.conv: object expected");t.conv=p.bin_proto.Conversation.fromObject(e.conv)}if(null!=e.config){if("object"!=typeof e.config)throw TypeError(".bin_proto.Channel.config: object expected");t.config=p.bin_proto.Config.fromObject(e.config)}if(e.members){if(!Array.isArray(e.members))throw TypeError(".bin_proto.Channel.members: array expected");t.members=[];for(var n=0;n<e.members.length;++n){if("object"!=typeof e.members[n])throw TypeError(".bin_proto.Channel.members: object expected");t.members[n]=p.bin_proto.Member.fromObject(e.members[n])}}if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.Channel.messages: array expected");for(t.messages=[],n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.Channel.messages: object expected");t.messages[n]=p.bin_proto.Message.fromObject(e.messages[n])}}if(e.userMessageReactions){if(!Array.isArray(e.userMessageReactions))throw TypeError(".bin_proto.Channel.userMessageReactions: array expected");for(t.userMessageReactions=[],n=0;n<e.userMessageReactions.length;++n){if("object"!=typeof e.userMessageReactions[n])throw TypeError(".bin_proto.Channel.userMessageReactions: object expected");t.userMessageReactions[n]=p.bin_proto.ReactionObj.fromObject(e.userMessageReactions[n])}}if(null!=e.createdBy){if("object"!=typeof e.createdBy)throw TypeError(".bin_proto.Channel.createdBy: object expected");t.createdBy=p.bin_proto.User.fromObject(e.createdBy)}if(null!=e.role&&(t.role=String(e.role)),null!=e.frozen&&(t.frozen=Boolean(e.frozen)),null!=e.frozenTill&&(d.Long?(t.frozenTill=d.Long.fromValue(e.frozenTill)).unsigned=!1:"string"==typeof e.frozenTill?t.frozenTill=parseInt(e.frozenTill,10):"number"==typeof e.frozenTill?t.frozenTill=e.frozenTill:"object"==typeof e.frozenTill&&(t.frozenTill=new d.LongBits(e.frozenTill.low>>>0,e.frozenTill.high>>>0).toNumber())),null!=e.typeOverride){if("object"!=typeof e.typeOverride)throw TypeError(".bin_proto.Channel.typeOverride: object expected");t.typeOverride=p.bin_proto.TypeOverride.fromObject(e.typeOverride)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.members=[],n.messages=[],n.userMessageReactions=[]),t.defaults){if(n.id="",n.type="",n.subject="",n.uri="",n.avatar="",n.label="",n.metadata="",d.Long){var r=new d.Long(0,0,!1);n.createdAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.createdAt=t.longs===String?"0":0;d.Long?(r=new d.Long(0,0,!1),n.updatedAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.updatedAt=t.longs===String?"0":0,n.muted=!1,d.Long?(r=new d.Long(0,0,!1),n.muteTill=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.muteTill=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!1),n.pinnedAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.pinnedAt=t.longs===String?"0":0,n.parentChannelId="",d.Long?(r=new d.Long(0,0,!1),n.autoDeletePeriod=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.autoDeletePeriod=t.longs===String?"0":0,n.hidden=!1,n.archived=!1,n.membersTotalCount=0,n.conv=null,n.config=null,n.createdBy=null,n.role="",n.frozen=!1,d.Long?(r=new d.Long(0,0,!1),n.frozenTill=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.frozenTill=t.longs===String?"0":0,n.typeOverride=null}if(null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.subject&&e.hasOwnProperty("subject")&&(n.subject=e.subject),null!=e.uri&&e.hasOwnProperty("uri")&&(n.uri=e.uri),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.label&&e.hasOwnProperty("label")&&(n.label=e.label),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=e.metadata),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&("number"==typeof e.createdAt?n.createdAt=t.longs===String?String(e.createdAt):e.createdAt:n.createdAt=t.longs===String?d.Long.prototype.toString.call(e.createdAt):t.longs===Number?new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&("number"==typeof e.updatedAt?n.updatedAt=t.longs===String?String(e.updatedAt):e.updatedAt:n.updatedAt=t.longs===String?d.Long.prototype.toString.call(e.updatedAt):t.longs===Number?new d.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber():e.updatedAt),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.muteTill&&e.hasOwnProperty("muteTill")&&("number"==typeof e.muteTill?n.muteTill=t.longs===String?String(e.muteTill):e.muteTill:n.muteTill=t.longs===String?d.Long.prototype.toString.call(e.muteTill):t.longs===Number?new d.LongBits(e.muteTill.low>>>0,e.muteTill.high>>>0).toNumber():e.muteTill),null!=e.pinnedAt&&e.hasOwnProperty("pinnedAt")&&("number"==typeof e.pinnedAt?n.pinnedAt=t.longs===String?String(e.pinnedAt):e.pinnedAt:n.pinnedAt=t.longs===String?d.Long.prototype.toString.call(e.pinnedAt):t.longs===Number?new d.LongBits(e.pinnedAt.low>>>0,e.pinnedAt.high>>>0).toNumber():e.pinnedAt),null!=e.parentChannelId&&e.hasOwnProperty("parentChannelId")&&(n.parentChannelId=e.parentChannelId),null!=e.autoDeletePeriod&&e.hasOwnProperty("autoDeletePeriod")&&("number"==typeof e.autoDeletePeriod?n.autoDeletePeriod=t.longs===String?String(e.autoDeletePeriod):e.autoDeletePeriod:n.autoDeletePeriod=t.longs===String?d.Long.prototype.toString.call(e.autoDeletePeriod):t.longs===Number?new d.LongBits(e.autoDeletePeriod.low>>>0,e.autoDeletePeriod.high>>>0).toNumber():e.autoDeletePeriod),null!=e.hidden&&e.hasOwnProperty("hidden")&&(n.hidden=e.hidden),null!=e.archived&&e.hasOwnProperty("archived")&&(n.archived=e.archived),null!=e.membersTotalCount&&e.hasOwnProperty("membersTotalCount")&&(n.membersTotalCount=e.membersTotalCount),null!=e.conv&&e.hasOwnProperty("conv")&&(n.conv=p.bin_proto.Conversation.toObject(e.conv,t)),null!=e.config&&e.hasOwnProperty("config")&&(n.config=p.bin_proto.Config.toObject(e.config,t)),e.members&&e.members.length){n.members=[];for(var o=0;o<e.members.length;++o)n.members[o]=p.bin_proto.Member.toObject(e.members[o],t)}if(e.messages&&e.messages.length)for(n.messages=[],o=0;o<e.messages.length;++o)n.messages[o]=p.bin_proto.Message.toObject(e.messages[o],t);if(e.userMessageReactions&&e.userMessageReactions.length)for(n.userMessageReactions=[],o=0;o<e.userMessageReactions.length;++o)n.userMessageReactions[o]=p.bin_proto.ReactionObj.toObject(e.userMessageReactions[o],t);return null!=e.createdBy&&e.hasOwnProperty("createdBy")&&(n.createdBy=p.bin_proto.User.toObject(e.createdBy,t)),null!=e.role&&e.hasOwnProperty("role")&&(n.role=e.role),null!=e.frozen&&e.hasOwnProperty("frozen")&&(n.frozen=e.frozen),null!=e.frozenTill&&e.hasOwnProperty("frozenTill")&&("number"==typeof e.frozenTill?n.frozenTill=t.longs===String?String(e.frozenTill):e.frozenTill:n.frozenTill=t.longs===String?d.Long.prototype.toString.call(e.frozenTill):t.longs===Number?new d.LongBits(e.frozenTill.low>>>0,e.frozenTill.high>>>0).toNumber():e.frozenTill),null!=e.typeOverride&&e.hasOwnProperty("typeOverride")&&(n.typeOverride=p.bin_proto.TypeOverride.toObject(e.typeOverride,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.permissionList=function(){function e(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.permissions=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)t.uint32(10).string(e.permissions[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.permissionList;e.pos<n;){var o=e.uint32();o>>>3==1?(r.permissions&&r.permissions.length||(r.permissions=[]),r.permissions.push(e.string())):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!d.isString(e.permissions[t]))return"permissions: string[] expected"}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.permissionList)return e;var t=new p.bin_proto.permissionList;if(e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".bin_proto.permissionList.permissions: array expected");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permissions=[]),e.permissions&&e.permissions.length){n.permissions=[];for(var r=0;r<e.permissions.length;++r)n.permissions[r]=e.permissions[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.TypeOverride=function(){function e(e){if(this.roleOverrides={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.discoverable=null,e.prototype.allowJoin=null,e.prototype.distinct=null,e.prototype.defaultMembershipRole="",e.prototype.roleOverrides=d.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.discoverable&&Object.hasOwnProperty.call(e,"discoverable")&&p.google.protobuf.BoolValue.encode(e.discoverable,t.uint32(10).fork()).ldelim(),null!=e.allowJoin&&Object.hasOwnProperty.call(e,"allowJoin")&&p.google.protobuf.BoolValue.encode(e.allowJoin,t.uint32(18).fork()).ldelim(),null!=e.distinct&&Object.hasOwnProperty.call(e,"distinct")&&p.google.protobuf.BoolValue.encode(e.distinct,t.uint32(26).fork()).ldelim(),null!=e.defaultMembershipRole&&Object.hasOwnProperty.call(e,"defaultMembershipRole")&&t.uint32(34).string(e.defaultMembershipRole),null!=e.roleOverrides&&Object.hasOwnProperty.call(e,"roleOverrides"))for(var n=Object.keys(e.roleOverrides),r=0;r<n.length;++r)t.uint32(42).fork().uint32(10).string(n[r]),p.bin_proto.permissionList.encode(e.roleOverrides[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.TypeOverride;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.discoverable=p.google.protobuf.BoolValue.decode(e,e.uint32());break;case 2:i.allowJoin=p.google.protobuf.BoolValue.decode(e,e.uint32());break;case 3:i.distinct=p.google.protobuf.BoolValue.decode(e,e.uint32());break;case 4:i.defaultMembershipRole=e.string();break;case 5:i.roleOverrides===d.emptyObject&&(i.roleOverrides={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=p.bin_proto.permissionList.decode(e,e.uint32());break;default:e.skipType(7&l)}}i.roleOverrides[n]=r;break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.discoverable&&e.hasOwnProperty("discoverable")&&(r=p.google.protobuf.BoolValue.verify(e.discoverable)))return"discoverable."+r;if(null!=e.allowJoin&&e.hasOwnProperty("allowJoin")&&(r=p.google.protobuf.BoolValue.verify(e.allowJoin)))return"allowJoin."+r;if(null!=e.distinct&&e.hasOwnProperty("distinct")&&(r=p.google.protobuf.BoolValue.verify(e.distinct)))return"distinct."+r;if(null!=e.defaultMembershipRole&&e.hasOwnProperty("defaultMembershipRole")&&!d.isString(e.defaultMembershipRole))return"defaultMembershipRole: string expected";if(null!=e.roleOverrides&&e.hasOwnProperty("roleOverrides")){if(!d.isObject(e.roleOverrides))return"roleOverrides: object expected";for(var t=Object.keys(e.roleOverrides),n=0;n<t.length;++n){var r;if(r=p.bin_proto.permissionList.verify(e.roleOverrides[t[n]]))return"roleOverrides."+r}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.TypeOverride)return e;var t=new p.bin_proto.TypeOverride;if(null!=e.discoverable){if("object"!=typeof e.discoverable)throw TypeError(".bin_proto.TypeOverride.discoverable: object expected");t.discoverable=p.google.protobuf.BoolValue.fromObject(e.discoverable)}if(null!=e.allowJoin){if("object"!=typeof e.allowJoin)throw TypeError(".bin_proto.TypeOverride.allowJoin: object expected");t.allowJoin=p.google.protobuf.BoolValue.fromObject(e.allowJoin)}if(null!=e.distinct){if("object"!=typeof e.distinct)throw TypeError(".bin_proto.TypeOverride.distinct: object expected");t.distinct=p.google.protobuf.BoolValue.fromObject(e.distinct)}if(null!=e.defaultMembershipRole&&(t.defaultMembershipRole=String(e.defaultMembershipRole)),e.roleOverrides){if("object"!=typeof e.roleOverrides)throw TypeError(".bin_proto.TypeOverride.roleOverrides: object expected");t.roleOverrides={};for(var n=Object.keys(e.roleOverrides),r=0;r<n.length;++r){if("object"!=typeof e.roleOverrides[n[r]])throw TypeError(".bin_proto.TypeOverride.roleOverrides: object expected");t.roleOverrides[n[r]]=p.bin_proto.permissionList.fromObject(e.roleOverrides[n[r]])}}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.roleOverrides={}),t.defaults&&(r.discoverable=null,r.allowJoin=null,r.distinct=null,r.defaultMembershipRole=""),null!=e.discoverable&&e.hasOwnProperty("discoverable")&&(r.discoverable=p.google.protobuf.BoolValue.toObject(e.discoverable,t)),null!=e.allowJoin&&e.hasOwnProperty("allowJoin")&&(r.allowJoin=p.google.protobuf.BoolValue.toObject(e.allowJoin,t)),null!=e.distinct&&e.hasOwnProperty("distinct")&&(r.distinct=p.google.protobuf.BoolValue.toObject(e.distinct,t)),null!=e.defaultMembershipRole&&e.hasOwnProperty("defaultMembershipRole")&&(r.defaultMembershipRole=e.defaultMembershipRole),e.roleOverrides&&(n=Object.keys(e.roleOverrides)).length){r.roleOverrides={};for(var o=0;o<n.length;++o)r.roleOverrides[n[o]]=p.bin_proto.permissionList.toObject(e.roleOverrides[n[o]],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ParamKey=function(){var e={},t=Object.create(e);return t[e[0]="MESSAGES_COUNT"]=0,t[e[1]="MEMBERS_COUNT"]=1,t[e[2]="LAST_MESSAGE"]=2,t[e[3]="USER_MESSAGE_REACTIONS_COUNT"]=3,t}(),i.Any=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.iVal=null,e.prototype.bVal=null,e.prototype.sVal=null,Object.defineProperty(e.prototype,"Data",{get:d.oneOfGetter(t=["iVal","bVal","sVal"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.iVal&&Object.hasOwnProperty.call(e,"iVal")&&t.uint32(8).int32(e.iVal),null!=e.bVal&&Object.hasOwnProperty.call(e,"bVal")&&t.uint32(16).bool(e.bVal),null!=e.sVal&&Object.hasOwnProperty.call(e,"sVal")&&t.uint32(26).string(e.sVal),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Any;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.iVal=e.int32();break;case 2:r.bVal=e.bool();break;case 3:r.sVal=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.iVal&&e.hasOwnProperty("iVal")&&(t.Data=1,!d.isInteger(e.iVal)))return"iVal: integer expected";if(null!=e.bVal&&e.hasOwnProperty("bVal")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,"boolean"!=typeof e.bVal)return"bVal: boolean expected"}if(null!=e.sVal&&e.hasOwnProperty("sVal")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,!d.isString(e.sVal))return"sVal: string expected"}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Any)return e;var t=new p.bin_proto.Any;return null!=e.iVal&&(t.iVal=0|e.iVal),null!=e.bVal&&(t.bVal=Boolean(e.bVal)),null!=e.sVal&&(t.sVal=String(e.sVal)),t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.iVal&&e.hasOwnProperty("iVal")&&(n.iVal=e.iVal,t.oneofs&&(n.Data="iVal")),null!=e.bVal&&e.hasOwnProperty("bVal")&&(n.bVal=e.bVal,t.oneofs&&(n.Data="bVal")),null!=e.sVal&&e.hasOwnProperty("sVal")&&(n.sVal=e.sVal,t.oneofs&&(n.Data="sVal")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ChannelQuery=function(){function e(e){if(this.reqParams={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id="",e.prototype.type=0,e.prototype.index=0,e.prototype.count=0,e.prototype.to="",e.prototype.members=null,e.prototype.channels=null,e.prototype.roles=null,e.prototype.unreadCount=null,e.prototype.attachments=null,e.prototype.threadQuery=null,e.prototype.messageAutoDeletePeriod=null,e.prototype.totalUnread=0,e.prototype.unreadChannels=0,e.prototype.accessPriorHistory=!1,e.prototype.nextToken="",e.prototype.reqParams=d.emptyObject,Object.defineProperty(e.prototype,"Data",{get:d.oneOfGetter(t=["members","channels","roles","unreadCount","attachments","threadQuery","messageAutoDeletePeriod"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(24).int32(e.index),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(32).int32(e.count),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(42).string(e.to),null!=e.members&&Object.hasOwnProperty.call(e,"members")&&p.bin_proto.Members.encode(e.members,t.uint32(50).fork()).ldelim(),null!=e.channels&&Object.hasOwnProperty.call(e,"channels")&&p.bin_proto.Channels.encode(e.channels,t.uint32(58).fork()).ldelim(),null!=e.totalUnread&&Object.hasOwnProperty.call(e,"totalUnread")&&t.uint32(64).int32(e.totalUnread),null!=e.roles&&Object.hasOwnProperty.call(e,"roles")&&p.bin_proto.Roles.encode(e.roles,t.uint32(74).fork()).ldelim(),null!=e.unreadCount&&Object.hasOwnProperty.call(e,"unreadCount")&&p.bin_proto.UnreadCount.encode(e.unreadCount,t.uint32(82).fork()).ldelim(),null!=e.unreadChannels&&Object.hasOwnProperty.call(e,"unreadChannels")&&t.uint32(88).int32(e.unreadChannels),null!=e.accessPriorHistory&&Object.hasOwnProperty.call(e,"accessPriorHistory")&&t.uint32(96).bool(e.accessPriorHistory),null!=e.attachments&&Object.hasOwnProperty.call(e,"attachments")&&p.bin_proto.ChannelAttachments.encode(e.attachments,t.uint32(106).fork()).ldelim(),null!=e.threadQuery&&Object.hasOwnProperty.call(e,"threadQuery")&&p.bin_proto.ThreadQuery.encode(e.threadQuery,t.uint32(114).fork()).ldelim(),null!=e.messageAutoDeletePeriod&&Object.hasOwnProperty.call(e,"messageAutoDeletePeriod")&&t.uint32(120).int64(e.messageAutoDeletePeriod),null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(130).string(e.nextToken),null!=e.reqParams&&Object.hasOwnProperty.call(e,"reqParams"))for(var n=Object.keys(e.reqParams),r=0;r<n.length;++r)t.uint32(138).fork().uint32(8).int32(n[r]),p.bin_proto.Any.encode(e.reqParams[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.ChannelQuery;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.id=e.string();break;case 2:i.type=e.int32();break;case 3:i.index=e.int32();break;case 4:i.count=e.int32();break;case 5:i.to=e.string();break;case 6:i.members=p.bin_proto.Members.decode(e,e.uint32());break;case 7:i.channels=p.bin_proto.Channels.decode(e,e.uint32());break;case 9:i.roles=p.bin_proto.Roles.decode(e,e.uint32());break;case 10:i.unreadCount=p.bin_proto.UnreadCount.decode(e,e.uint32());break;case 13:i.attachments=p.bin_proto.ChannelAttachments.decode(e,e.uint32());break;case 14:i.threadQuery=p.bin_proto.ThreadQuery.decode(e,e.uint32());break;case 15:i.messageAutoDeletePeriod=e.int64();break;case 8:i.totalUnread=e.int32();break;case 11:i.unreadChannels=e.int32();break;case 12:i.accessPriorHistory=e.bool();break;case 16:i.nextToken=e.string();break;case 17:i.reqParams===d.emptyObject&&(i.reqParams={});var a=e.uint32()+e.pos;for(n=0,r=null;e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.int32();break;case 2:r=p.bin_proto.Any.decode(e,e.uint32());break;default:e.skipType(7&l)}}i.reqParams[n]=r;break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:}if(null!=e.index&&e.hasOwnProperty("index")&&!d.isInteger(e.index))return"index: integer expected";if(null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count))return"count: integer expected";if(null!=e.to&&e.hasOwnProperty("to")&&!d.isString(e.to))return"to: string expected";if(null!=e.members&&e.hasOwnProperty("members")&&(t.Data=1,o=p.bin_proto.Members.verify(e.members)))return"members."+o;if(null!=e.channels&&e.hasOwnProperty("channels")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,o=p.bin_proto.Channels.verify(e.channels))return"channels."+o}if(null!=e.roles&&e.hasOwnProperty("roles")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,o=p.bin_proto.Roles.verify(e.roles))return"roles."+o}if(null!=e.unreadCount&&e.hasOwnProperty("unreadCount")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,o=p.bin_proto.UnreadCount.verify(e.unreadCount))return"unreadCount."+o}if(null!=e.attachments&&e.hasOwnProperty("attachments")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,o=p.bin_proto.ChannelAttachments.verify(e.attachments))return"attachments."+o}if(null!=e.threadQuery&&e.hasOwnProperty("threadQuery")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,o=p.bin_proto.ThreadQuery.verify(e.threadQuery))return"threadQuery."+o}if(null!=e.messageAutoDeletePeriod&&e.hasOwnProperty("messageAutoDeletePeriod")){if(1===t.Data)return"Data: multiple values";if(t.Data=1,!(d.isInteger(e.messageAutoDeletePeriod)||e.messageAutoDeletePeriod&&d.isInteger(e.messageAutoDeletePeriod.low)&&d.isInteger(e.messageAutoDeletePeriod.high)))return"messageAutoDeletePeriod: integer|Long expected"}if(null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&!d.isInteger(e.totalUnread))return"totalUnread: integer expected";if(null!=e.unreadChannels&&e.hasOwnProperty("unreadChannels")&&!d.isInteger(e.unreadChannels))return"unreadChannels: integer expected";if(null!=e.accessPriorHistory&&e.hasOwnProperty("accessPriorHistory")&&"boolean"!=typeof e.accessPriorHistory)return"accessPriorHistory: boolean expected";if(null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken))return"nextToken: string expected";if(null!=e.reqParams&&e.hasOwnProperty("reqParams")){if(!d.isObject(e.reqParams))return"reqParams: object expected";for(var n=Object.keys(e.reqParams),r=0;r<n.length;++r){if(!d.key32Re.test(n[r]))return"reqParams: integer key{k:int32} expected";var o;if(o=p.bin_proto.Any.verify(e.reqParams[n[r]]))return"reqParams."+o}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ChannelQuery)return e;var t=new p.bin_proto.ChannelQuery;switch(null!=e.id&&(t.id=String(e.id)),e.type){case"NONE":case 0:t.type=0;break;case"CREATE":case 1:t.type=1;break;case"DELETE":case 2:t.type=2;break;case"LEAVE":case 3:t.type=3;break;case"JOIN":case 4:t.type=4;break;case"UPDATE":case 5:t.type=5;break;case"GET":case 6:t.type=6;break;case"GET_LIST":case 7:t.type=7;break;case"ADD_MEMBER":case 8:t.type=8;break;case"KICK_MEMBER":case 9:t.type=9;break;case"MEMBERS":case 10:t.type=10;break;case"BLOCK":case 11:t.type=11;break;case"UNBLOCK":case 12:t.type=12;break;case"GET_BLOCK_LIST":case 13:t.type=13;break;case"BLOCK_MEMBER":case 14:t.type=14;break;case"UNBLOCK_MEMBER":case 15:t.type=15;break;case"GET_BLOCKED_MEMBER_LIST":case 16:t.type=16;break;case"CHANGE_OWNER":case 17:t.type=17;break;case"CHANGE_ROLE":case 18:t.type=18;break;case"GET_ROLES":case 19:t.type=19;break;case"DELETE_MESSAGES_FOR_ME":case 20:t.type=20;break;case"HIDE_CHANNELS":case 21:t.type=21;break;case"UNHIDE_CHANNELS":case 22:t.type=22;break;case"ARCHIVE_CHANNELS":case 23:t.type=23;break;case"UNARCHIVE_CHANNELS":case 24:t.type=24;break;case"GET_ARCHIVED_CHANNELS":case 25:t.type=25;break;case"GET_HIDDEN_CHANNELS":case 26:t.type=26;break;case"MARK_AS_UNREAD":case 27:t.type=27;break;case"GET_UNREADS":case 28:t.type=28;break;case"MUTE_CHANNELS":case 29:t.type=29;break;case"UNMUTE_CHANNELS":case 30:t.type=30;break;case"GET_MUTED_CHANNELS":case 31:t.type=31;break;case"MARK_AS_READ":case 32:t.type=32;break;case"ATTACHMENTS":case 33:t.type=33;break;case"PIN_CHANNELS":case 34:t.type=34;break;case"UNPIN_CHANNELS":case 35:t.type=35;break;case"CREATE_THREAD":case 36:t.type=36;break;case"GET_THREADS":case 37:t.type=37;break;case"DELETE_MESSAGES_FOR_EVERYONE":case 38:t.type=38;break;case"MESSAGE_AUTO_DELETE_PERIOD":case 39:t.type=39;break;case"FREEZE_CHANNEL":case 40:t.type=40;break;case"UNFREEZE_CHANNEL":case 41:t.type=41}if(null!=e.index&&(t.index=0|e.index),null!=e.count&&(t.count=0|e.count),null!=e.to&&(t.to=String(e.to)),null!=e.members){if("object"!=typeof e.members)throw TypeError(".bin_proto.ChannelQuery.members: object expected");t.members=p.bin_proto.Members.fromObject(e.members)}if(null!=e.channels){if("object"!=typeof e.channels)throw TypeError(".bin_proto.ChannelQuery.channels: object expected");t.channels=p.bin_proto.Channels.fromObject(e.channels)}if(null!=e.roles){if("object"!=typeof e.roles)throw TypeError(".bin_proto.ChannelQuery.roles: object expected");t.roles=p.bin_proto.Roles.fromObject(e.roles)}if(null!=e.unreadCount){if("object"!=typeof e.unreadCount)throw TypeError(".bin_proto.ChannelQuery.unreadCount: object expected");t.unreadCount=p.bin_proto.UnreadCount.fromObject(e.unreadCount)}if(null!=e.attachments){if("object"!=typeof e.attachments)throw TypeError(".bin_proto.ChannelQuery.attachments: object expected");t.attachments=p.bin_proto.ChannelAttachments.fromObject(e.attachments)}if(null!=e.threadQuery){if("object"!=typeof e.threadQuery)throw TypeError(".bin_proto.ChannelQuery.threadQuery: object expected");t.threadQuery=p.bin_proto.ThreadQuery.fromObject(e.threadQuery)}if(null!=e.messageAutoDeletePeriod&&(d.Long?(t.messageAutoDeletePeriod=d.Long.fromValue(e.messageAutoDeletePeriod)).unsigned=!1:"string"==typeof e.messageAutoDeletePeriod?t.messageAutoDeletePeriod=parseInt(e.messageAutoDeletePeriod,10):"number"==typeof e.messageAutoDeletePeriod?t.messageAutoDeletePeriod=e.messageAutoDeletePeriod:"object"==typeof e.messageAutoDeletePeriod&&(t.messageAutoDeletePeriod=new d.LongBits(e.messageAutoDeletePeriod.low>>>0,e.messageAutoDeletePeriod.high>>>0).toNumber())),null!=e.totalUnread&&(t.totalUnread=0|e.totalUnread),null!=e.unreadChannels&&(t.unreadChannels=0|e.unreadChannels),null!=e.accessPriorHistory&&(t.accessPriorHistory=Boolean(e.accessPriorHistory)),null!=e.nextToken&&(t.nextToken=String(e.nextToken)),e.reqParams){if("object"!=typeof e.reqParams)throw TypeError(".bin_proto.ChannelQuery.reqParams: object expected");t.reqParams={};for(var n=Object.keys(e.reqParams),r=0;r<n.length;++r){if("object"!=typeof e.reqParams[n[r]])throw TypeError(".bin_proto.ChannelQuery.reqParams: object expected");t.reqParams[n[r]]=p.bin_proto.Any.fromObject(e.reqParams[n[r]])}}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.reqParams={}),t.defaults&&(r.id="",r.type=t.enums===String?"NONE":0,r.index=0,r.count=0,r.to="",r.totalUnread=0,r.unreadChannels=0,r.accessPriorHistory=!1,r.nextToken=""),null!=e.id&&e.hasOwnProperty("id")&&(r.id=e.id),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?p.bin_proto.ChannelQuery.Type[e.type]:e.type),null!=e.index&&e.hasOwnProperty("index")&&(r.index=e.index),null!=e.count&&e.hasOwnProperty("count")&&(r.count=e.count),null!=e.to&&e.hasOwnProperty("to")&&(r.to=e.to),null!=e.members&&e.hasOwnProperty("members")&&(r.members=p.bin_proto.Members.toObject(e.members,t),t.oneofs&&(r.Data="members")),null!=e.channels&&e.hasOwnProperty("channels")&&(r.channels=p.bin_proto.Channels.toObject(e.channels,t),t.oneofs&&(r.Data="channels")),null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&(r.totalUnread=e.totalUnread),null!=e.roles&&e.hasOwnProperty("roles")&&(r.roles=p.bin_proto.Roles.toObject(e.roles,t),t.oneofs&&(r.Data="roles")),null!=e.unreadCount&&e.hasOwnProperty("unreadCount")&&(r.unreadCount=p.bin_proto.UnreadCount.toObject(e.unreadCount,t),t.oneofs&&(r.Data="unreadCount")),null!=e.unreadChannels&&e.hasOwnProperty("unreadChannels")&&(r.unreadChannels=e.unreadChannels),null!=e.accessPriorHistory&&e.hasOwnProperty("accessPriorHistory")&&(r.accessPriorHistory=e.accessPriorHistory),null!=e.attachments&&e.hasOwnProperty("attachments")&&(r.attachments=p.bin_proto.ChannelAttachments.toObject(e.attachments,t),t.oneofs&&(r.Data="attachments")),null!=e.threadQuery&&e.hasOwnProperty("threadQuery")&&(r.threadQuery=p.bin_proto.ThreadQuery.toObject(e.threadQuery,t),t.oneofs&&(r.Data="threadQuery")),null!=e.messageAutoDeletePeriod&&e.hasOwnProperty("messageAutoDeletePeriod")&&("number"==typeof e.messageAutoDeletePeriod?r.messageAutoDeletePeriod=t.longs===String?String(e.messageAutoDeletePeriod):e.messageAutoDeletePeriod:r.messageAutoDeletePeriod=t.longs===String?d.Long.prototype.toString.call(e.messageAutoDeletePeriod):t.longs===Number?new d.LongBits(e.messageAutoDeletePeriod.low>>>0,e.messageAutoDeletePeriod.high>>>0).toNumber():e.messageAutoDeletePeriod,t.oneofs&&(r.Data="messageAutoDeletePeriod")),null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(r.nextToken=e.nextToken),e.reqParams&&(n=Object.keys(e.reqParams)).length){r.reqParams={};for(var o=0;o<n.length;++o)r.reqParams[n[o]]=p.bin_proto.Any.toObject(e.reqParams[n[o]],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="CREATE"]=1,t[e[2]="DELETE"]=2,t[e[3]="LEAVE"]=3,t[e[4]="JOIN"]=4,t[e[5]="UPDATE"]=5,t[e[6]="GET"]=6,t[e[7]="GET_LIST"]=7,t[e[8]="ADD_MEMBER"]=8,t[e[9]="KICK_MEMBER"]=9,t[e[10]="MEMBERS"]=10,t[e[11]="BLOCK"]=11,t[e[12]="UNBLOCK"]=12,t[e[13]="GET_BLOCK_LIST"]=13,t[e[14]="BLOCK_MEMBER"]=14,t[e[15]="UNBLOCK_MEMBER"]=15,t[e[16]="GET_BLOCKED_MEMBER_LIST"]=16,t[e[17]="CHANGE_OWNER"]=17,t[e[18]="CHANGE_ROLE"]=18,t[e[19]="GET_ROLES"]=19,t[e[20]="DELETE_MESSAGES_FOR_ME"]=20,t[e[21]="HIDE_CHANNELS"]=21,t[e[22]="UNHIDE_CHANNELS"]=22,t[e[23]="ARCHIVE_CHANNELS"]=23,t[e[24]="UNARCHIVE_CHANNELS"]=24,t[e[25]="GET_ARCHIVED_CHANNELS"]=25,t[e[26]="GET_HIDDEN_CHANNELS"]=26,t[e[27]="MARK_AS_UNREAD"]=27,t[e[28]="GET_UNREADS"]=28,t[e[29]="MUTE_CHANNELS"]=29,t[e[30]="UNMUTE_CHANNELS"]=30,t[e[31]="GET_MUTED_CHANNELS"]=31,t[e[32]="MARK_AS_READ"]=32,t[e[33]="ATTACHMENTS"]=33,t[e[34]="PIN_CHANNELS"]=34,t[e[35]="UNPIN_CHANNELS"]=35,t[e[36]="CREATE_THREAD"]=36,t[e[37]="GET_THREADS"]=37,t[e[38]="DELETE_MESSAGES_FOR_EVERYONE"]=38,t[e[39]="MESSAGE_AUTO_DELETE_PERIOD"]=39,t[e[40]="FREEZE_CHANNEL"]=40,t[e[41]="UNFREEZE_CHANNEL"]=41,t}(),e}(),i.ChannelAction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.from="",e.prototype.channel=null,e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(18).string(e.from),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&p.bin_proto.Channel.encode(e.channel,t.uint32(26).fork()).ldelim(),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(32).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ChannelAction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.from=e.string();break;case 3:r.channel=p.bin_proto.Channel.decode(e,e.uint32());break;case 4:r.type=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.from&&e.hasOwnProperty("from")&&!d.isString(e.from))return"from: string expected";if(null!=e.channel&&e.hasOwnProperty("channel")){var t=p.bin_proto.Channel.verify(e.channel);if(t)return"channel."+t}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ChannelAction)return e;var t=new p.bin_proto.ChannelAction;if(null!=e.id&&(t.id=String(e.id)),null!=e.from&&(t.from=String(e.from)),null!=e.channel){if("object"!=typeof e.channel)throw TypeError(".bin_proto.ChannelAction.channel: object expected");t.channel=p.bin_proto.Channel.fromObject(e.channel)}switch(e.type){case"NONE":case 0:t.type=0;break;case"CREATE":case 1:t.type=1;break;case"DELETE":case 2:t.type=2;break;case"LEAVE":case 3:t.type=3;break;case"JOIN":case 4:t.type=4;break;case"UPDATE":case 5:t.type=5;break;case"GET":case 6:t.type=6;break;case"GET_LIST":case 7:t.type=7;break;case"ADD_MEMBER":case 8:t.type=8;break;case"KICK_MEMBER":case 9:t.type=9;break;case"MEMBERS":case 10:t.type=10;break;case"BLOCK":case 11:t.type=11;break;case"UNBLOCK":case 12:t.type=12;break;case"GET_BLOCK_LIST":case 13:t.type=13;break;case"BLOCK_MEMBER":case 14:t.type=14;break;case"UNBLOCK_MEMBER":case 15:t.type=15;break;case"GET_BLOCKED_MEMBER_LIST":case 16:t.type=16;break;case"CHANGE_OWNER":case 17:t.type=17;break;case"CHANGE_ROLE":case 18:t.type=18;break;case"GET_ROLES":case 19:t.type=19;break;case"DELETE_MESSAGES_FOR_ME":case 20:t.type=20;break;case"HIDE_CHANNELS":case 21:t.type=21;break;case"UNHIDE_CHANNELS":case 22:t.type=22;break;case"ARCHIVE_CHANNELS":case 23:t.type=23;break;case"UNARCHIVE_CHANNELS":case 24:t.type=24;break;case"GET_ARCHIVED_CHANNELS":case 25:t.type=25;break;case"GET_HIDDEN_CHANNELS":case 26:t.type=26;break;case"MARK_AS_UNREAD":case 27:t.type=27;break;case"GET_UNREADS":case 28:t.type=28;break;case"MUTE_CHANNELS":case 29:t.type=29;break;case"UNMUTE_CHANNELS":case 30:t.type=30;break;case"GET_MUTED_CHANNELS":case 31:t.type=31;break;case"MARK_AS_READ":case 32:t.type=32;break;case"ATTACHMENTS":case 33:t.type=33;break;case"PIN_CHANNELS":case 34:t.type=34;break;case"UNPIN_CHANNELS":case 35:t.type=35;break;case"CREATE_THREAD":case 36:t.type=36;break;case"GET_THREADS":case 37:t.type=37;break;case"DELETE_MESSAGES_FOR_EVERYONE":case 38:t.type=38;break;case"MESSAGE_AUTO_DELETE_PERIOD":case 39:t.type=39;break;case"FREEZE_CHANNEL":case 40:t.type=40;break;case"UNFREEZE_CHANNEL":case 41:t.type=41}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.from="",n.channel=null,n.type=t.enums===String?"NONE":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=p.bin_proto.Channel.toObject(e.channel,t)),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?p.bin_proto.ChannelQuery.Type[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Members=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channelId="",e.prototype.type=0,e.prototype.order=0,e.prototype.key=0,e.prototype.list=d.emptyArray,e.prototype.filter=0,e.prototype.filterData="",e.prototype.hasNext=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(10).string(e.channelId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(24).int32(e.order),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(32).int32(e.key),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.Member.encode(e.list[n],t.uint32(42).fork()).ldelim();return null!=e.filter&&Object.hasOwnProperty.call(e,"filter")&&t.uint32(48).int32(e.filter),null!=e.filterData&&Object.hasOwnProperty.call(e,"filterData")&&t.uint32(58).string(e.filterData),null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(64).bool(e.hasNext),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Members;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.channelId=e.string();break;case 2:r.type=e.int32();break;case 3:r.order=e.int32();break;case 4:r.key=e.int32();break;case 5:r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.Member.decode(e,e.uint32()));break;case 6:r.filter=e.int32();break;case 7:r.filterData=e.string();break;case 8:r.hasNext=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId))return"channelId: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:}if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:case 2:}if(null!=e.key&&e.hasOwnProperty("key"))switch(e.key){default:return"key: enum value expected";case 0:case 1:case 2:}if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.Member.verify(e.list[t]);if(n)return"list."+n}}if(null!=e.filter&&e.hasOwnProperty("filter"))switch(e.filter){default:return"filter: enum value expected";case 0:case 1:}return null!=e.filterData&&e.hasOwnProperty("filterData")&&!d.isString(e.filterData)?"filterData: string expected":null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext?"hasNext: boolean expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Members)return e;var t=new p.bin_proto.Members;switch(null!=e.channelId&&(t.channelId=String(e.channelId)),e.type){case"ALL":case 0:t.type=0;break;case"PRIVILEGED":case 1:t.type=1}switch(e.order){case"AFFILIATION":case 0:t.order=0;break;case"ASC":case 1:t.order=1;break;case"DESC":case 2:t.order=2}switch(e.key){case"USERNAME":case 0:t.key=0;break;case"FIRSTNAME":case 1:t.key=1;break;case"LASTNAME":case 2:t.key=2}if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Members.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Members.list: object expected");t.list[n]=p.bin_proto.Member.fromObject(e.list[n])}}switch(e.filter){case"NONE":case 0:t.filter=0;break;case"BY_ROLE":case 1:t.filter=1}return null!=e.filterData&&(t.filterData=String(e.filterData)),null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults&&(n.channelId="",n.type=t.enums===String?"ALL":0,n.order=t.enums===String?"AFFILIATION":0,n.key=t.enums===String?"USERNAME":0,n.filter=t.enums===String?"NONE":0,n.filterData="",n.hasNext=!1),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?p.bin_proto.Members.Type[e.type]:e.type),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?p.bin_proto.Members.Order[e.order]:e.order),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.enums===String?p.bin_proto.Members.OrderKey[e.key]:e.key),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=p.bin_proto.Member.toObject(e.list[r],t)}return null!=e.filter&&e.hasOwnProperty("filter")&&(n.filter=t.enums===String?p.bin_proto.Members.Filter[e.filter]:e.filter),null!=e.filterData&&e.hasOwnProperty("filterData")&&(n.filterData=e.filterData),null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(n.hasNext=e.hasNext),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="ALL"]=0,t[e[1]="PRIVILEGED"]=1,t}(),e.Order=function(){var e={},t=Object.create(e);return t[e[0]="AFFILIATION"]=0,t[e[1]="ASC"]=1,t[e[2]="DESC"]=2,t}(),e.OrderKey=function(){var e={},t=Object.create(e);return t[e[0]="USERNAME"]=0,t[e[1]="FIRSTNAME"]=1,t[e[2]="LASTNAME"]=2,t}(),e.Filter=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="BY_ROLE"]=1,t}(),e}(),i.Channels=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.order=0,e.prototype.list=d.emptyArray,e.prototype.HasNext=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(16).int32(e.order),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.Channel.encode(e.list[n],t.uint32(26).fork()).ldelim();return null!=e.HasNext&&Object.hasOwnProperty.call(e,"HasNext")&&t.uint32(32).bool(e.HasNext),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Channels;e.pos<n;){var o=e.uint32();switch(o>>>3){case 2:r.order=e.int32();break;case 3:r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.Channel.decode(e,e.uint32()));break;case 4:r.HasNext=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:}if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.Channel.verify(e.list[t]);if(n)return"list."+n}}return null!=e.HasNext&&e.hasOwnProperty("HasNext")&&"boolean"!=typeof e.HasNext?"HasNext: boolean expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Channels)return e;var t=new p.bin_proto.Channels;switch(e.order){case"LAST_MESSAGE":case 0:t.order=0;break;case"CREATED_AT":case 1:t.order=1}if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Channels.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Channels.list: object expected");t.list[n]=p.bin_proto.Channel.fromObject(e.list[n])}}return null!=e.HasNext&&(t.HasNext=Boolean(e.HasNext)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults&&(n.order=t.enums===String?"LAST_MESSAGE":0,n.HasNext=!1),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?p.bin_proto.Channels.Order[e.order]:e.order),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=p.bin_proto.Channel.toObject(e.list[r],t)}return null!=e.HasNext&&e.hasOwnProperty("HasNext")&&(n.HasNext=e.HasNext),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Order=function(){var e={},t=Object.create(e);return t[e[0]="LAST_MESSAGE"]=0,t[e[1]="CREATED_AT"]=1,t}(),e}(),i.ChannelAttachments=function(){function e(e){if(this.list=[],this.users={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.channelId="",e.prototype.search=null,e.prototype.list=d.emptyArray,e.prototype.hasNext=!1,e.prototype.TotalCount=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.users=d.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.search&&Object.hasOwnProperty.call(e,"search")&&p.bin_proto.ChannelAttachments.SearchOpts.encode(e.search,t.uint32(26).fork()).ldelim(),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.Attachment.encode(e.list[n],t.uint32(34).fork()).ldelim();if(null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(40).bool(e.hasNext),null!=e.TotalCount&&Object.hasOwnProperty.call(e,"TotalCount")&&t.uint32(48).int64(e.TotalCount),null!=e.users&&Object.hasOwnProperty.call(e,"users")){var r=Object.keys(e.users);for(n=0;n<r.length;++n)t.uint32(58).fork().uint32(10).string(r[n]),p.bin_proto.User.encode(e.users[r[n]],t.uint32(18).fork()).ldelim().ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.ChannelAttachments;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.id=e.string();break;case 2:i.channelId=e.string();break;case 3:i.search=p.bin_proto.ChannelAttachments.SearchOpts.decode(e,e.uint32());break;case 4:i.list&&i.list.length||(i.list=[]),i.list.push(p.bin_proto.Attachment.decode(e,e.uint32()));break;case 5:i.hasNext=e.bool();break;case 6:i.TotalCount=e.int64();break;case 7:i.users===d.emptyObject&&(i.users={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=p.bin_proto.User.decode(e,e.uint32());break;default:e.skipType(7&l)}}i.users[n]=r;break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId))return"channelId: string expected";if(null!=e.search&&e.hasOwnProperty("search")&&(r=p.bin_proto.ChannelAttachments.SearchOpts.verify(e.search)))return"search."+r;if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t)if(r=p.bin_proto.Attachment.verify(e.list[t]))return"list."+r}if(null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext)return"hasNext: boolean expected";if(null!=e.TotalCount&&e.hasOwnProperty("TotalCount")&&!(d.isInteger(e.TotalCount)||e.TotalCount&&d.isInteger(e.TotalCount.low)&&d.isInteger(e.TotalCount.high)))return"TotalCount: integer|Long expected";if(null!=e.users&&e.hasOwnProperty("users")){if(!d.isObject(e.users))return"users: object expected";var n=Object.keys(e.users);for(t=0;t<n.length;++t){var r;if(r=p.bin_proto.User.verify(e.users[n[t]]))return"users."+r}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ChannelAttachments)return e;var t=new p.bin_proto.ChannelAttachments;if(null!=e.id&&(t.id=String(e.id)),null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.search){if("object"!=typeof e.search)throw TypeError(".bin_proto.ChannelAttachments.search: object expected");t.search=p.bin_proto.ChannelAttachments.SearchOpts.fromObject(e.search)}if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.ChannelAttachments.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.ChannelAttachments.list: object expected");t.list[n]=p.bin_proto.Attachment.fromObject(e.list[n])}}if(null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),null!=e.TotalCount&&(d.Long?(t.TotalCount=d.Long.fromValue(e.TotalCount)).unsigned=!1:"string"==typeof e.TotalCount?t.TotalCount=parseInt(e.TotalCount,10):"number"==typeof e.TotalCount?t.TotalCount=e.TotalCount:"object"==typeof e.TotalCount&&(t.TotalCount=new d.LongBits(e.TotalCount.low>>>0,e.TotalCount.high>>>0).toNumber())),e.users){if("object"!=typeof e.users)throw TypeError(".bin_proto.ChannelAttachments.users: object expected");t.users={};var r=Object.keys(e.users);for(n=0;n<r.length;++n){if("object"!=typeof e.users[r[n]])throw TypeError(".bin_proto.ChannelAttachments.users: object expected");t.users[r[n]]=p.bin_proto.User.fromObject(e.users[r[n]])}}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.list=[]),(t.objects||t.defaults)&&(r.users={}),t.defaults)if(r.id="",r.channelId="",r.search=null,r.hasNext=!1,d.Long){var o=new d.Long(0,0,!1);r.TotalCount=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.TotalCount=t.longs===String?"0":0;if(null!=e.id&&e.hasOwnProperty("id")&&(r.id=e.id),null!=e.channelId&&e.hasOwnProperty("channelId")&&(r.channelId=e.channelId),null!=e.search&&e.hasOwnProperty("search")&&(r.search=p.bin_proto.ChannelAttachments.SearchOpts.toObject(e.search,t)),e.list&&e.list.length){r.list=[];for(var i=0;i<e.list.length;++i)r.list[i]=p.bin_proto.Attachment.toObject(e.list[i],t)}if(null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(r.hasNext=e.hasNext),null!=e.TotalCount&&e.hasOwnProperty("TotalCount")&&("number"==typeof e.TotalCount?r.TotalCount=t.longs===String?String(e.TotalCount):e.TotalCount:r.TotalCount=t.longs===String?d.Long.prototype.toString.call(e.TotalCount):t.longs===Number?new d.LongBits(e.TotalCount.low>>>0,e.TotalCount.high>>>0).toNumber():e.TotalCount),e.users&&(n=Object.keys(e.users)).length)for(r.users={},i=0;i<n.length;++i)r.users[n[i]]=p.bin_proto.User.toObject(e.users[n[i]],t);return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Direction=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="NEXT"]=1,t[e[2]="PREVIOUS"]=2,t[e[3]="NEAR"]=3,t}(),e.SearchOpts=function(){function e(e){if(this.types=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.count=0,e.prototype.direction=0,e.prototype.attachmentId=null,e.prototype.timestamp=null,e.prototype.types=d.emptyArray,Object.defineProperty(e.prototype,"sortby",{get:d.oneOfGetter(t=["attachmentId","timestamp"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(8).int32(e.count),null!=e.direction&&Object.hasOwnProperty.call(e,"direction")&&t.uint32(16).int32(e.direction),null!=e.attachmentId&&Object.hasOwnProperty.call(e,"attachmentId")&&t.uint32(32).uint64(e.attachmentId),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(40).int64(e.timestamp),null!=e.types&&e.types.length)for(var n=0;n<e.types.length;++n)t.uint32(50).string(e.types[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ChannelAttachments.SearchOpts;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.count=e.int32();break;case 2:r.direction=e.int32();break;case 4:r.attachmentId=e.uint64();break;case 5:r.timestamp=e.int64();break;case 6:r.types&&r.types.length||(r.types=[]),r.types.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count))return"count: integer expected";if(null!=e.direction&&e.hasOwnProperty("direction"))switch(e.direction){default:return"direction: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.attachmentId&&e.hasOwnProperty("attachmentId")&&(t.sortby=1,!(d.isInteger(e.attachmentId)||e.attachmentId&&d.isInteger(e.attachmentId.low)&&d.isInteger(e.attachmentId.high))))return"attachmentId: integer|Long expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){if(1===t.sortby)return"sortby: multiple values";if(t.sortby=1,!(d.isInteger(e.timestamp)||e.timestamp&&d.isInteger(e.timestamp.low)&&d.isInteger(e.timestamp.high)))return"timestamp: integer|Long expected"}if(null!=e.types&&e.hasOwnProperty("types")){if(!Array.isArray(e.types))return"types: array expected";for(var n=0;n<e.types.length;++n)if(!d.isString(e.types[n]))return"types: string[] expected"}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ChannelAttachments.SearchOpts)return e;var t=new p.bin_proto.ChannelAttachments.SearchOpts;switch(null!=e.count&&(t.count=0|e.count),e.direction){case"NONE":case 0:t.direction=0;break;case"NEXT":case 1:t.direction=1;break;case"PREVIOUS":case 2:t.direction=2;break;case"NEAR":case 3:t.direction=3}if(null!=e.attachmentId&&(d.Long?(t.attachmentId=d.Long.fromValue(e.attachmentId)).unsigned=!0:"string"==typeof e.attachmentId?t.attachmentId=parseInt(e.attachmentId,10):"number"==typeof e.attachmentId?t.attachmentId=e.attachmentId:"object"==typeof e.attachmentId&&(t.attachmentId=new d.LongBits(e.attachmentId.low>>>0,e.attachmentId.high>>>0).toNumber(!0))),null!=e.timestamp&&(d.Long?(t.timestamp=d.Long.fromValue(e.timestamp)).unsigned=!1:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new d.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),e.types){if(!Array.isArray(e.types))throw TypeError(".bin_proto.ChannelAttachments.SearchOpts.types: array expected");t.types=[];for(var n=0;n<e.types.length;++n)t.types[n]=String(e.types[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.types=[]),t.defaults&&(n.count=0,n.direction=t.enums===String?"NONE":0),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.direction&&e.hasOwnProperty("direction")&&(n.direction=t.enums===String?p.bin_proto.ChannelAttachments.Direction[e.direction]:e.direction),null!=e.attachmentId&&e.hasOwnProperty("attachmentId")&&("number"==typeof e.attachmentId?n.attachmentId=t.longs===String?String(e.attachmentId):e.attachmentId:n.attachmentId=t.longs===String?d.Long.prototype.toString.call(e.attachmentId):t.longs===Number?new d.LongBits(e.attachmentId.low>>>0,e.attachmentId.high>>>0).toNumber(!0):e.attachmentId,t.oneofs&&(n.sortby="attachmentId")),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?n.timestamp=t.longs===String?String(e.timestamp):e.timestamp:n.timestamp=t.longs===String?d.Long.prototype.toString.call(e.timestamp):t.longs===Number?new d.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp,t.oneofs&&(n.sortby="timestamp")),e.types&&e.types.length){n.types=[];for(var r=0;r<e.types.length;++r)n.types[r]=e.types[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),e}(),i.ChannelEvent=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.channelId="",e.prototype.from=null,e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&p.bin_proto.User.encode(e.from,t.uint32(26).fork()).ldelim(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(34).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ChannelEvent;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.channelId=e.string();break;case 3:r.from=p.bin_proto.User.decode(e,e.uint32());break;case 4:r.name=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId))return"channelId: string expected";if(null!=e.from&&e.hasOwnProperty("from")){var t=p.bin_proto.User.verify(e.from);if(t)return"from."+t}return null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ChannelEvent)return e;var t=new p.bin_proto.ChannelEvent;if(null!=e.id&&(t.id=String(e.id)),null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.ChannelEvent.from: object expected");t.from=p.bin_proto.User.fromObject(e.from)}return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.channelId="",n.from=null,n.name=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.from&&e.hasOwnProperty("from")&&(n.from=p.bin_proto.User.toObject(e.from,t)),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ThreadQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.parentChannelId="",e.prototype.parentMessageId=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.parentChannelId&&Object.hasOwnProperty.call(e,"parentChannelId")&&t.uint32(26).string(e.parentChannelId),null!=e.parentMessageId&&Object.hasOwnProperty.call(e,"parentMessageId")&&t.uint32(32).int64(e.parentMessageId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ThreadQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 3:r.parentChannelId=e.string();break;case 4:r.parentMessageId=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.parentChannelId&&e.hasOwnProperty("parentChannelId")&&!d.isString(e.parentChannelId)?"parentChannelId: string expected":null!=e.parentMessageId&&e.hasOwnProperty("parentMessageId")&&!(d.isInteger(e.parentMessageId)||e.parentMessageId&&d.isInteger(e.parentMessageId.low)&&d.isInteger(e.parentMessageId.high))?"parentMessageId: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ThreadQuery)return e;var t=new p.bin_proto.ThreadQuery;return null!=e.parentChannelId&&(t.parentChannelId=String(e.parentChannelId)),null!=e.parentMessageId&&(d.Long?(t.parentMessageId=d.Long.fromValue(e.parentMessageId)).unsigned=!1:"string"==typeof e.parentMessageId?t.parentMessageId=parseInt(e.parentMessageId,10):"number"==typeof e.parentMessageId?t.parentMessageId=e.parentMessageId:"object"==typeof e.parentMessageId&&(t.parentMessageId=new d.LongBits(e.parentMessageId.low>>>0,e.parentMessageId.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.parentChannelId="",d.Long){var r=new d.Long(0,0,!1);n.parentMessageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.parentMessageId=t.longs===String?"0":0;return null!=e.parentChannelId&&e.hasOwnProperty("parentChannelId")&&(n.parentChannelId=e.parentChannelId),null!=e.parentMessageId&&e.hasOwnProperty("parentMessageId")&&("number"==typeof e.parentMessageId?n.parentMessageId=t.longs===String?String(e.parentMessageId):e.parentMessageId:n.parentMessageId=t.longs===String?d.Long.prototype.toString.call(e.parentMessageId):t.longs===Number?new d.LongBits(e.parentMessageId.low>>>0,e.parentMessageId.high>>>0).toNumber():e.parentMessageId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.PinnedMessagesQuery=function(){function e(e){if(this.messageIds=[],this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.from="",e.prototype.type=0,e.prototype.channelId="",e.prototype.pinTill=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.messageIds=d.emptyArray,e.prototype.messages=d.emptyArray,e.prototype.nextToken="",e.prototype.order=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(18).string(e.from),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(24).int32(e.type),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(34).string(e.channelId),null!=e.pinTill&&Object.hasOwnProperty.call(e,"pinTill")&&t.uint32(40).int64(e.pinTill),null!=e.messageIds&&e.messageIds.length)for(var n=0;n<e.messageIds.length;++n)t.uint32(50).string(e.messageIds[n]);if(null!=e.messages&&e.messages.length)for(n=0;n<e.messages.length;++n)p.bin_proto.Message.encode(e.messages[n],t.uint32(58).fork()).ldelim();return null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(66).string(e.nextToken),null!=e.order&&Object.hasOwnProperty.call(e,"order")&&t.uint32(72).int32(e.order),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(80).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.PinnedMessagesQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.from=e.string();break;case 3:r.type=e.int32();break;case 4:r.channelId=e.string();break;case 5:r.pinTill=e.int64();break;case 6:r.messageIds&&r.messageIds.length||(r.messageIds=[]),r.messageIds.push(e.string());break;case 7:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(p.bin_proto.Message.decode(e,e.uint32()));break;case 8:r.nextToken=e.string();break;case 9:r.order=e.int32();break;case 10:r.count=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.from&&e.hasOwnProperty("from")&&!d.isString(e.from))return"from: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId))return"channelId: string expected";if(null!=e.pinTill&&e.hasOwnProperty("pinTill")&&!(d.isInteger(e.pinTill)||e.pinTill&&d.isInteger(e.pinTill.low)&&d.isInteger(e.pinTill.high)))return"pinTill: integer|Long expected";if(null!=e.messageIds&&e.hasOwnProperty("messageIds")){if(!Array.isArray(e.messageIds))return"messageIds: array expected";for(var t=0;t<e.messageIds.length;++t)if(!d.isString(e.messageIds[t]))return"messageIds: string[] expected"}if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(t=0;t<e.messages.length;++t){var n=p.bin_proto.Message.verify(e.messages[t]);if(n)return"messages."+n}}if(null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken))return"nextToken: string expected";if(null!=e.order&&e.hasOwnProperty("order"))switch(e.order){default:return"order: enum value expected";case 0:case 1:}return null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.PinnedMessagesQuery)return e;var t=new p.bin_proto.PinnedMessagesQuery;switch(null!=e.id&&(t.id=String(e.id)),null!=e.from&&(t.from=String(e.from)),e.type){case"PIN":case 0:t.type=0;break;case"UNPIN":case 1:t.type=1;break;case"GET_LIST":case 2:t.type=2}if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.pinTill&&(d.Long?(t.pinTill=d.Long.fromValue(e.pinTill)).unsigned=!1:"string"==typeof e.pinTill?t.pinTill=parseInt(e.pinTill,10):"number"==typeof e.pinTill?t.pinTill=e.pinTill:"object"==typeof e.pinTill&&(t.pinTill=new d.LongBits(e.pinTill.low>>>0,e.pinTill.high>>>0).toNumber())),e.messageIds){if(!Array.isArray(e.messageIds))throw TypeError(".bin_proto.PinnedMessagesQuery.messageIds: array expected");t.messageIds=[];for(var n=0;n<e.messageIds.length;++n)t.messageIds[n]=String(e.messageIds[n])}if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.PinnedMessagesQuery.messages: array expected");for(t.messages=[],n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.PinnedMessagesQuery.messages: object expected");t.messages[n]=p.bin_proto.Message.fromObject(e.messages[n])}}switch(null!=e.nextToken&&(t.nextToken=String(e.nextToken)),e.order){case"ASC":case 0:t.order=0;break;case"DESC":case 1:t.order=1}return null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messageIds=[],n.messages=[]),t.defaults){if(n.id="",n.from="",n.type=t.enums===String?"PIN":0,n.channelId="",d.Long){var r=new d.Long(0,0,!1);n.pinTill=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.pinTill=t.longs===String?"0":0;n.nextToken="",n.order=t.enums===String?"ASC":0,n.count=0}if(null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?p.bin_proto.PinnedMessagesQuery.Type[e.type]:e.type),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.pinTill&&e.hasOwnProperty("pinTill")&&("number"==typeof e.pinTill?n.pinTill=t.longs===String?String(e.pinTill):e.pinTill:n.pinTill=t.longs===String?d.Long.prototype.toString.call(e.pinTill):t.longs===Number?new d.LongBits(e.pinTill.low>>>0,e.pinTill.high>>>0).toNumber():e.pinTill),e.messageIds&&e.messageIds.length){n.messageIds=[];for(var o=0;o<e.messageIds.length;++o)n.messageIds[o]=e.messageIds[o]}if(e.messages&&e.messages.length)for(n.messages=[],o=0;o<e.messages.length;++o)n.messages[o]=p.bin_proto.Message.toObject(e.messages[o],t);return null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(n.nextToken=e.nextToken),null!=e.order&&e.hasOwnProperty("order")&&(n.order=t.enums===String?p.bin_proto.PinnedMessagesQuery.Order[e.order]:e.order),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="PIN"]=0,t[e[1]="UNPIN"]=1,t[e[2]="GET_LIST"]=2,t}(),e.Order=function(){var e={},t=Object.create(e);return t[e[0]="ASC"]=0,t[e[1]="DESC"]=1,t}(),e}(),i.Attachment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type="",e.prototype.meta="",e.prototype.data="",e.prototype.size=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.messageId=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.id=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.createdAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.userId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.meta&&Object.hasOwnProperty.call(e,"meta")&&t.uint32(26).string(e.meta),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(34).string(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).int64(e.size),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(48).uint64(e.messageId),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(56).uint64(e.id),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(64).int64(e.createdAt),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(74).string(e.userId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Attachment;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.type=e.string();break;case 3:r.meta=e.string();break;case 4:r.data=e.string();break;case 5:r.size=e.int64();break;case 6:r.messageId=e.uint64();break;case 7:r.id=e.uint64();break;case 8:r.createdAt=e.int64();break;case 9:r.userId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name)?"name: string expected":null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type)?"type: string expected":null!=e.meta&&e.hasOwnProperty("meta")&&!d.isString(e.meta)?"meta: string expected":null!=e.data&&e.hasOwnProperty("data")&&!d.isString(e.data)?"data: string expected":null!=e.size&&e.hasOwnProperty("size")&&!(d.isInteger(e.size)||e.size&&d.isInteger(e.size.low)&&d.isInteger(e.size.high))?"size: integer|Long expected":null!=e.messageId&&e.hasOwnProperty("messageId")&&!(d.isInteger(e.messageId)||e.messageId&&d.isInteger(e.messageId.low)&&d.isInteger(e.messageId.high))?"messageId: integer|Long expected":null!=e.id&&e.hasOwnProperty("id")&&!(d.isInteger(e.id)||e.id&&d.isInteger(e.id.low)&&d.isInteger(e.id.high))?"id: integer|Long expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!(d.isInteger(e.createdAt)||e.createdAt&&d.isInteger(e.createdAt.low)&&d.isInteger(e.createdAt.high))?"createdAt: integer|Long expected":null!=e.userId&&e.hasOwnProperty("userId")&&!d.isString(e.userId)?"userId: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Attachment)return e;var t=new p.bin_proto.Attachment;return null!=e.name&&(t.name=String(e.name)),null!=e.type&&(t.type=String(e.type)),null!=e.meta&&(t.meta=String(e.meta)),null!=e.data&&(t.data=String(e.data)),null!=e.size&&(d.Long?(t.size=d.Long.fromValue(e.size)).unsigned=!1:"string"==typeof e.size?t.size=parseInt(e.size,10):"number"==typeof e.size?t.size=e.size:"object"==typeof e.size&&(t.size=new d.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber())),null!=e.messageId&&(d.Long?(t.messageId=d.Long.fromValue(e.messageId)).unsigned=!0:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0))),null!=e.id&&(d.Long?(t.id=d.Long.fromValue(e.id)).unsigned=!0:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),null!=e.createdAt&&(d.Long?(t.createdAt=d.Long.fromValue(e.createdAt)).unsigned=!1:"string"==typeof e.createdAt?t.createdAt=parseInt(e.createdAt,10):"number"==typeof e.createdAt?t.createdAt=e.createdAt:"object"==typeof e.createdAt&&(t.createdAt=new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),null!=e.userId&&(t.userId=String(e.userId)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.name="",n.type="",n.meta="",n.data="",d.Long){var r=new d.Long(0,0,!1);n.size=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.size=t.longs===String?"0":0;d.Long?(r=new d.Long(0,0,!0),n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.messageId=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!0),n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.id=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!1),n.createdAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.createdAt=t.longs===String?"0":0,n.userId=""}return null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.meta&&e.hasOwnProperty("meta")&&(n.meta=e.meta),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.size&&e.hasOwnProperty("size")&&("number"==typeof e.size?n.size=t.longs===String?String(e.size):e.size:n.size=t.longs===String?d.Long.prototype.toString.call(e.size):t.longs===Number?new d.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber():e.size),null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?d.Long.prototype.toString.call(e.messageId):t.longs===Number?new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0):e.messageId),null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?d.Long.prototype.toString.call(e.id):t.longs===Number?new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&("number"==typeof e.createdAt?n.createdAt=t.longs===String?String(e.createdAt):e.createdAt:n.createdAt=t.longs===String?d.Long.prototype.toString.call(e.createdAt):t.longs===Number?new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),null!=e.userId&&e.hasOwnProperty("userId")&&(n.userId=e.userId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ReactionCount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.count=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.score=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(16).int64(e.count),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(24).int64(e.score),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ReactionCount;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.string();break;case 2:r.count=e.int64();break;case 3:r.score=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!d.isString(e.key)?"key: string expected":null!=e.count&&e.hasOwnProperty("count")&&!(d.isInteger(e.count)||e.count&&d.isInteger(e.count.low)&&d.isInteger(e.count.high))?"count: integer|Long expected":null!=e.score&&e.hasOwnProperty("score")&&!(d.isInteger(e.score)||e.score&&d.isInteger(e.score.low)&&d.isInteger(e.score.high))?"score: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ReactionCount)return e;var t=new p.bin_proto.ReactionCount;return null!=e.key&&(t.key=String(e.key)),null!=e.count&&(d.Long?(t.count=d.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new d.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.score&&(d.Long?(t.score=d.Long.fromValue(e.score)).unsigned=!1:"string"==typeof e.score?t.score=parseInt(e.score,10):"number"==typeof e.score?t.score=e.score:"object"==typeof e.score&&(t.score=new d.LongBits(e.score.low>>>0,e.score.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.key="",d.Long){var r=new d.Long(0,0,!1);n.count=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.count=t.longs===String?"0":0;d.Long?(r=new d.Long(0,0,!1),n.score=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.score=t.longs===String?"0":0}return null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?n.count=t.longs===String?String(e.count):e.count:n.count=t.longs===String?d.Long.prototype.toString.call(e.count):t.longs===Number?new d.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.score&&e.hasOwnProperty("score")&&("number"==typeof e.score?n.score=t.longs===String?String(e.score):e.score:n.score=t.longs===String?d.Long.prototype.toString.call(e.score):t.longs===Number?new d.LongBits(e.score.low>>>0,e.score.high>>>0).toNumber():e.score),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ReactionObj=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.score=0,e.prototype.reason="",e.prototype.user=null,e.prototype.createdAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.updatedAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.properties=0,e.prototype.id=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.messageId=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(16).int32(e.score),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(26).string(e.reason),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&p.bin_proto.User.encode(e.user,t.uint32(34).fork()).ldelim(),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(40).int64(e.createdAt),null!=e.updatedAt&&Object.hasOwnProperty.call(e,"updatedAt")&&t.uint32(48).int64(e.updatedAt),null!=e.properties&&Object.hasOwnProperty.call(e,"properties")&&t.uint32(56).int32(e.properties),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(64).int64(e.id),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(72).int64(e.messageId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ReactionObj;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.string();break;case 2:r.score=e.int32();break;case 3:r.reason=e.string();break;case 4:r.user=p.bin_proto.User.decode(e,e.uint32());break;case 5:r.createdAt=e.int64();break;case 6:r.updatedAt=e.int64();break;case 7:r.properties=e.int32();break;case 8:r.id=e.int64();break;case 9:r.messageId=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!d.isString(e.key))return"key: string expected";if(null!=e.score&&e.hasOwnProperty("score")&&!d.isInteger(e.score))return"score: integer expected";if(null!=e.reason&&e.hasOwnProperty("reason")&&!d.isString(e.reason))return"reason: string expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=p.bin_proto.User.verify(e.user);if(t)return"user."+t}return null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!(d.isInteger(e.createdAt)||e.createdAt&&d.isInteger(e.createdAt.low)&&d.isInteger(e.createdAt.high))?"createdAt: integer|Long expected":null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&!(d.isInteger(e.updatedAt)||e.updatedAt&&d.isInteger(e.updatedAt.low)&&d.isInteger(e.updatedAt.high))?"updatedAt: integer|Long expected":null!=e.properties&&e.hasOwnProperty("properties")&&!d.isInteger(e.properties)?"properties: integer expected":null!=e.id&&e.hasOwnProperty("id")&&!(d.isInteger(e.id)||e.id&&d.isInteger(e.id.low)&&d.isInteger(e.id.high))?"id: integer|Long expected":null!=e.messageId&&e.hasOwnProperty("messageId")&&!(d.isInteger(e.messageId)||e.messageId&&d.isInteger(e.messageId.low)&&d.isInteger(e.messageId.high))?"messageId: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ReactionObj)return e;var t=new p.bin_proto.ReactionObj;if(null!=e.key&&(t.key=String(e.key)),null!=e.score&&(t.score=0|e.score),null!=e.reason&&(t.reason=String(e.reason)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.ReactionObj.user: object expected");t.user=p.bin_proto.User.fromObject(e.user)}return null!=e.createdAt&&(d.Long?(t.createdAt=d.Long.fromValue(e.createdAt)).unsigned=!1:"string"==typeof e.createdAt?t.createdAt=parseInt(e.createdAt,10):"number"==typeof e.createdAt?t.createdAt=e.createdAt:"object"==typeof e.createdAt&&(t.createdAt=new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),null!=e.updatedAt&&(d.Long?(t.updatedAt=d.Long.fromValue(e.updatedAt)).unsigned=!1:"string"==typeof e.updatedAt?t.updatedAt=parseInt(e.updatedAt,10):"number"==typeof e.updatedAt?t.updatedAt=e.updatedAt:"object"==typeof e.updatedAt&&(t.updatedAt=new d.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber())),null!=e.properties&&(t.properties=0|e.properties),null!=e.id&&(d.Long?(t.id=d.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.messageId&&(d.Long?(t.messageId=d.Long.fromValue(e.messageId)).unsigned=!1:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.key="",n.score=0,n.reason="",n.user=null,d.Long){var r=new d.Long(0,0,!1);n.createdAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.createdAt=t.longs===String?"0":0;d.Long?(r=new d.Long(0,0,!1),n.updatedAt=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.updatedAt=t.longs===String?"0":0,n.properties=0,d.Long?(r=new d.Long(0,0,!1),n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.id=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!1),n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.messageId=t.longs===String?"0":0}return null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),null!=e.reason&&e.hasOwnProperty("reason")&&(n.reason=e.reason),null!=e.user&&e.hasOwnProperty("user")&&(n.user=p.bin_proto.User.toObject(e.user,t)),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&("number"==typeof e.createdAt?n.createdAt=t.longs===String?String(e.createdAt):e.createdAt:n.createdAt=t.longs===String?d.Long.prototype.toString.call(e.createdAt):t.longs===Number?new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&("number"==typeof e.updatedAt?n.updatedAt=t.longs===String?String(e.updatedAt):e.updatedAt:n.updatedAt=t.longs===String?d.Long.prototype.toString.call(e.updatedAt):t.longs===Number?new d.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber():e.updatedAt),null!=e.properties&&e.hasOwnProperty("properties")&&(n.properties=e.properties),null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?d.Long.prototype.toString.call(e.id):t.longs===Number?new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?d.Long.prototype.toString.call(e.messageId):t.longs===Number?new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber():e.messageId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.PropertyMask=function(){var e={},t=Object.create(e);return t[e[0]="PROPERTY_MASK_NONE"]=0,t[e[1]="PROPERTY_MASK_SILENT"]=1,t}(),e}(),i.Reaction=function(){function e(e){if(this.countList=[],this.selfObjs=[],this.reactionObjs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.messageId=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.isUnique=!1,e.prototype.countList=d.emptyArray,e.prototype.selfObjs=d.emptyArray,e.prototype.reactionObjs=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(8).uint64(e.messageId),null!=e.isUnique&&Object.hasOwnProperty.call(e,"isUnique")&&t.uint32(16).bool(e.isUnique),null!=e.countList&&e.countList.length)for(var n=0;n<e.countList.length;++n)p.bin_proto.ReactionCount.encode(e.countList[n],t.uint32(26).fork()).ldelim();if(null!=e.selfObjs&&e.selfObjs.length)for(n=0;n<e.selfObjs.length;++n)p.bin_proto.ReactionObj.encode(e.selfObjs[n],t.uint32(42).fork()).ldelim();if(null!=e.reactionObjs&&e.reactionObjs.length)for(n=0;n<e.reactionObjs.length;++n)p.bin_proto.ReactionObj.encode(e.reactionObjs[n],t.uint32(50).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Reaction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.messageId=e.uint64();break;case 2:r.isUnique=e.bool();break;case 3:r.countList&&r.countList.length||(r.countList=[]),r.countList.push(p.bin_proto.ReactionCount.decode(e,e.uint32()));break;case 5:r.selfObjs&&r.selfObjs.length||(r.selfObjs=[]),r.selfObjs.push(p.bin_proto.ReactionObj.decode(e,e.uint32()));break;case 6:r.reactionObjs&&r.reactionObjs.length||(r.reactionObjs=[]),r.reactionObjs.push(p.bin_proto.ReactionObj.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messageId&&e.hasOwnProperty("messageId")&&!(d.isInteger(e.messageId)||e.messageId&&d.isInteger(e.messageId.low)&&d.isInteger(e.messageId.high)))return"messageId: integer|Long expected";if(null!=e.isUnique&&e.hasOwnProperty("isUnique")&&"boolean"!=typeof e.isUnique)return"isUnique: boolean expected";if(null!=e.countList&&e.hasOwnProperty("countList")){if(!Array.isArray(e.countList))return"countList: array expected";for(var t=0;t<e.countList.length;++t)if(n=p.bin_proto.ReactionCount.verify(e.countList[t]))return"countList."+n}if(null!=e.selfObjs&&e.hasOwnProperty("selfObjs")){if(!Array.isArray(e.selfObjs))return"selfObjs: array expected";for(t=0;t<e.selfObjs.length;++t)if(n=p.bin_proto.ReactionObj.verify(e.selfObjs[t]))return"selfObjs."+n}if(null!=e.reactionObjs&&e.hasOwnProperty("reactionObjs")){if(!Array.isArray(e.reactionObjs))return"reactionObjs: array expected";for(t=0;t<e.reactionObjs.length;++t){var n;if(n=p.bin_proto.ReactionObj.verify(e.reactionObjs[t]))return"reactionObjs."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Reaction)return e;var t=new p.bin_proto.Reaction;if(null!=e.messageId&&(d.Long?(t.messageId=d.Long.fromValue(e.messageId)).unsigned=!0:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0))),null!=e.isUnique&&(t.isUnique=Boolean(e.isUnique)),e.countList){if(!Array.isArray(e.countList))throw TypeError(".bin_proto.Reaction.countList: array expected");t.countList=[];for(var n=0;n<e.countList.length;++n){if("object"!=typeof e.countList[n])throw TypeError(".bin_proto.Reaction.countList: object expected");t.countList[n]=p.bin_proto.ReactionCount.fromObject(e.countList[n])}}if(e.selfObjs){if(!Array.isArray(e.selfObjs))throw TypeError(".bin_proto.Reaction.selfObjs: array expected");for(t.selfObjs=[],n=0;n<e.selfObjs.length;++n){if("object"!=typeof e.selfObjs[n])throw TypeError(".bin_proto.Reaction.selfObjs: object expected");t.selfObjs[n]=p.bin_proto.ReactionObj.fromObject(e.selfObjs[n])}}if(e.reactionObjs){if(!Array.isArray(e.reactionObjs))throw TypeError(".bin_proto.Reaction.reactionObjs: array expected");for(t.reactionObjs=[],n=0;n<e.reactionObjs.length;++n){if("object"!=typeof e.reactionObjs[n])throw TypeError(".bin_proto.Reaction.reactionObjs: object expected");t.reactionObjs[n]=p.bin_proto.ReactionObj.fromObject(e.reactionObjs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.countList=[],n.selfObjs=[],n.reactionObjs=[]),t.defaults){if(d.Long){var r=new d.Long(0,0,!0);n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.messageId=t.longs===String?"0":0;n.isUnique=!1}if(null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?d.Long.prototype.toString.call(e.messageId):t.longs===Number?new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0):e.messageId),null!=e.isUnique&&e.hasOwnProperty("isUnique")&&(n.isUnique=e.isUnique),e.countList&&e.countList.length){n.countList=[];for(var o=0;o<e.countList.length;++o)n.countList[o]=p.bin_proto.ReactionCount.toObject(e.countList[o],t)}if(e.selfObjs&&e.selfObjs.length)for(n.selfObjs=[],o=0;o<e.selfObjs.length;++o)n.selfObjs[o]=p.bin_proto.ReactionObj.toObject(e.selfObjs[o],t);if(e.reactionObjs&&e.reactionObjs.length)for(n.reactionObjs=[],o=0;o<e.reactionObjs.length;++o)n.reactionObjs[o]=p.bin_proto.ReactionObj.toObject(e.reactionObjs[o],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ReactionSearchQuery=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.messageId=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.list=d.emptyArray,e.prototype.hasNext=!1,e.prototype.nextToken="",e.prototype.limit=0,e.prototype.reactionId=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.reactionKey="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(24).uint64(e.messageId),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.ReactionObj.encode(e.list[n],t.uint32(42).fork()).ldelim();return null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(48).bool(e.hasNext),null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(58).string(e.nextToken),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(64).int32(e.limit),null!=e.reactionId&&Object.hasOwnProperty.call(e,"reactionId")&&t.uint32(72).int64(e.reactionId),null!=e.reactionKey&&Object.hasOwnProperty.call(e,"reactionKey")&&t.uint32(82).string(e.reactionKey),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ReactionSearchQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 3:r.messageId=e.uint64();break;case 5:r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.ReactionObj.decode(e,e.uint32()));break;case 6:r.hasNext=e.bool();break;case 7:r.nextToken=e.string();break;case 8:r.limit=e.int32();break;case 9:r.reactionId=e.int64();break;case 10:r.reactionKey=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.messageId&&e.hasOwnProperty("messageId")&&!(d.isInteger(e.messageId)||e.messageId&&d.isInteger(e.messageId.low)&&d.isInteger(e.messageId.high)))return"messageId: integer|Long expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.ReactionObj.verify(e.list[t]);if(n)return"list."+n}}return null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext?"hasNext: boolean expected":null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken)?"nextToken: string expected":null!=e.limit&&e.hasOwnProperty("limit")&&!d.isInteger(e.limit)?"limit: integer expected":null!=e.reactionId&&e.hasOwnProperty("reactionId")&&!(d.isInteger(e.reactionId)||e.reactionId&&d.isInteger(e.reactionId.low)&&d.isInteger(e.reactionId.high))?"reactionId: integer|Long expected":null!=e.reactionKey&&e.hasOwnProperty("reactionKey")&&!d.isString(e.reactionKey)?"reactionKey: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ReactionSearchQuery)return e;var t=new p.bin_proto.ReactionSearchQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.messageId&&(d.Long?(t.messageId=d.Long.fromValue(e.messageId)).unsigned=!0:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0))),e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.ReactionSearchQuery.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.ReactionSearchQuery.list: object expected");t.list[n]=p.bin_proto.ReactionObj.fromObject(e.list[n])}}return null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),null!=e.nextToken&&(t.nextToken=String(e.nextToken)),null!=e.limit&&(t.limit=0|e.limit),null!=e.reactionId&&(d.Long?(t.reactionId=d.Long.fromValue(e.reactionId)).unsigned=!1:"string"==typeof e.reactionId?t.reactionId=parseInt(e.reactionId,10):"number"==typeof e.reactionId?t.reactionId=e.reactionId:"object"==typeof e.reactionId&&(t.reactionId=new d.LongBits(e.reactionId.low>>>0,e.reactionId.high>>>0).toNumber())),null!=e.reactionKey&&(t.reactionKey=String(e.reactionKey)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),t.defaults){if(n.id="",d.Long){var r=new d.Long(0,0,!0);n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.messageId=t.longs===String?"0":0;n.hasNext=!1,n.nextToken="",n.limit=0,d.Long?(r=new d.Long(0,0,!1),n.reactionId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.reactionId=t.longs===String?"0":0,n.reactionKey=""}if(null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?d.Long.prototype.toString.call(e.messageId):t.longs===Number?new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0):e.messageId),e.list&&e.list.length){n.list=[];for(var o=0;o<e.list.length;++o)n.list[o]=p.bin_proto.ReactionObj.toObject(e.list[o],t)}return null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(n.hasNext=e.hasNext),null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(n.nextToken=e.nextToken),null!=e.limit&&e.hasOwnProperty("limit")&&(n.limit=e.limit),null!=e.reactionId&&e.hasOwnProperty("reactionId")&&("number"==typeof e.reactionId?n.reactionId=t.longs===String?String(e.reactionId):e.reactionId:n.reactionId=t.longs===String?d.Long.prototype.toString.call(e.reactionId):t.longs===Number?new d.LongBits(e.reactionId.low>>>0,e.reactionId.high>>>0).toNumber():e.reactionId),null!=e.reactionKey&&e.hasOwnProperty("reactionKey")&&(n.reactionKey=e.reactionKey),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Mention=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.user=null,Object.defineProperty(e.prototype,"data",{get:d.oneOfGetter(t=["user"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&p.bin_proto.User.encode(e.user,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Mention;e.pos<n;){var o=e.uint32();o>>>3==1?r.user=p.bin_proto.User.decode(e,e.uint32()):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=p.bin_proto.User.verify(e.user);if(t)return"user."+t}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Mention)return e;var t=new p.bin_proto.Mention;if(null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.Mention.user: object expected");t.user=p.bin_proto.User.fromObject(e.user)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.user&&e.hasOwnProperty("user")&&(n.user=p.bin_proto.User.toObject(e.user,t),t.oneofs&&(n.data="user")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ForwardingDetails=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.messageId=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.channelId="",e.prototype.user=null,e.prototype.hops=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(8).uint64(e.messageId),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&p.bin_proto.User.encode(e.user,t.uint32(26).fork()).ldelim(),null!=e.hops&&Object.hasOwnProperty.call(e,"hops")&&t.uint32(32).int32(e.hops),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ForwardingDetails;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.messageId=e.uint64();break;case 2:r.channelId=e.string();break;case 3:r.user=p.bin_proto.User.decode(e,e.uint32());break;case 4:r.hops=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messageId&&e.hasOwnProperty("messageId")&&!(d.isInteger(e.messageId)||e.messageId&&d.isInteger(e.messageId.low)&&d.isInteger(e.messageId.high)))return"messageId: integer|Long expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId))return"channelId: string expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=p.bin_proto.User.verify(e.user);if(t)return"user."+t}return null!=e.hops&&e.hasOwnProperty("hops")&&!d.isInteger(e.hops)?"hops: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ForwardingDetails)return e;var t=new p.bin_proto.ForwardingDetails;if(null!=e.messageId&&(d.Long?(t.messageId=d.Long.fromValue(e.messageId)).unsigned=!0:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0))),null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.ForwardingDetails.user: object expected");t.user=p.bin_proto.User.fromObject(e.user)}return null!=e.hops&&(t.hops=0|e.hops),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(d.Long){var r=new d.Long(0,0,!0);n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.messageId=t.longs===String?"0":0;n.channelId="",n.user=null,n.hops=0}return null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?d.Long.prototype.toString.call(e.messageId):t.longs===Number?new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0):e.messageId),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.user&&e.hasOwnProperty("user")&&(n.user=p.bin_proto.User.toObject(e.user,t)),null!=e.hops&&e.hasOwnProperty("hops")&&(n.hops=e.hops),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ReplyingDetails=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.replyInThreadCount=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.replyCount=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.threadId=d.Long?d.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.replyInThreadCount&&Object.hasOwnProperty.call(e,"replyInThreadCount")&&t.uint32(8).uint64(e.replyInThreadCount),null!=e.replyCount&&Object.hasOwnProperty.call(e,"replyCount")&&t.uint32(16).uint64(e.replyCount),null!=e.threadId&&Object.hasOwnProperty.call(e,"threadId")&&t.uint32(24).uint64(e.threadId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ReplyingDetails;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.replyInThreadCount=e.uint64();break;case 2:r.replyCount=e.uint64();break;case 3:r.threadId=e.uint64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.replyInThreadCount&&e.hasOwnProperty("replyInThreadCount")&&!(d.isInteger(e.replyInThreadCount)||e.replyInThreadCount&&d.isInteger(e.replyInThreadCount.low)&&d.isInteger(e.replyInThreadCount.high))?"replyInThreadCount: integer|Long expected":null!=e.replyCount&&e.hasOwnProperty("replyCount")&&!(d.isInteger(e.replyCount)||e.replyCount&&d.isInteger(e.replyCount.low)&&d.isInteger(e.replyCount.high))?"replyCount: integer|Long expected":null!=e.threadId&&e.hasOwnProperty("threadId")&&!(d.isInteger(e.threadId)||e.threadId&&d.isInteger(e.threadId.low)&&d.isInteger(e.threadId.high))?"threadId: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ReplyingDetails)return e;var t=new p.bin_proto.ReplyingDetails;return null!=e.replyInThreadCount&&(d.Long?(t.replyInThreadCount=d.Long.fromValue(e.replyInThreadCount)).unsigned=!0:"string"==typeof e.replyInThreadCount?t.replyInThreadCount=parseInt(e.replyInThreadCount,10):"number"==typeof e.replyInThreadCount?t.replyInThreadCount=e.replyInThreadCount:"object"==typeof e.replyInThreadCount&&(t.replyInThreadCount=new d.LongBits(e.replyInThreadCount.low>>>0,e.replyInThreadCount.high>>>0).toNumber(!0))),null!=e.replyCount&&(d.Long?(t.replyCount=d.Long.fromValue(e.replyCount)).unsigned=!0:"string"==typeof e.replyCount?t.replyCount=parseInt(e.replyCount,10):"number"==typeof e.replyCount?t.replyCount=e.replyCount:"object"==typeof e.replyCount&&(t.replyCount=new d.LongBits(e.replyCount.low>>>0,e.replyCount.high>>>0).toNumber(!0))),null!=e.threadId&&(d.Long?(t.threadId=d.Long.fromValue(e.threadId)).unsigned=!0:"string"==typeof e.threadId?t.threadId=parseInt(e.threadId,10):"number"==typeof e.threadId?t.threadId=e.threadId:"object"==typeof e.threadId&&(t.threadId=new d.LongBits(e.threadId.low>>>0,e.threadId.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(d.Long){var r=new d.Long(0,0,!0);n.replyInThreadCount=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.replyInThreadCount=t.longs===String?"0":0;d.Long?(r=new d.Long(0,0,!0),n.replyCount=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.replyCount=t.longs===String?"0":0,d.Long?(r=new d.Long(0,0,!0),n.threadId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.threadId=t.longs===String?"0":0}return null!=e.replyInThreadCount&&e.hasOwnProperty("replyInThreadCount")&&("number"==typeof e.replyInThreadCount?n.replyInThreadCount=t.longs===String?String(e.replyInThreadCount):e.replyInThreadCount:n.replyInThreadCount=t.longs===String?d.Long.prototype.toString.call(e.replyInThreadCount):t.longs===Number?new d.LongBits(e.replyInThreadCount.low>>>0,e.replyInThreadCount.high>>>0).toNumber(!0):e.replyInThreadCount),null!=e.replyCount&&e.hasOwnProperty("replyCount")&&("number"==typeof e.replyCount?n.replyCount=t.longs===String?String(e.replyCount):e.replyCount:n.replyCount=t.longs===String?d.Long.prototype.toString.call(e.replyCount):t.longs===Number?new d.LongBits(e.replyCount.low>>>0,e.replyCount.high>>>0).toNumber(!0):e.replyCount),null!=e.threadId&&e.hasOwnProperty("threadId")&&("number"==typeof e.threadId?n.threadId=t.longs===String?String(e.threadId):e.threadId:n.threadId=t.longs===String?d.Long.prototype.toString.call(e.threadId):t.longs===Number?new d.LongBits(e.threadId.low>>>0,e.threadId.high>>>0).toNumber(!0):e.threadId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Thread=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.parent=null,e.prototype.messages=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.parent&&Object.hasOwnProperty.call(e,"parent")&&p.bin_proto.MessageObj.encode(e.parent,t.uint32(10).fork()).ldelim(),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)p.bin_proto.MessageObj.encode(e.messages[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Thread;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.parent=p.bin_proto.MessageObj.decode(e,e.uint32());break;case 2:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(p.bin_proto.MessageObj.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.parent&&e.hasOwnProperty("parent")&&(n=p.bin_proto.MessageObj.verify(e.parent)))return"parent."+n;if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n;if(n=p.bin_proto.MessageObj.verify(e.messages[t]))return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Thread)return e;var t=new p.bin_proto.Thread;if(null!=e.parent){if("object"!=typeof e.parent)throw TypeError(".bin_proto.Thread.parent: object expected");t.parent=p.bin_proto.MessageObj.fromObject(e.parent)}if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.Thread.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.Thread.messages: object expected");t.messages[n]=p.bin_proto.MessageObj.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),t.defaults&&(n.parent=null),null!=e.parent&&e.hasOwnProperty("parent")&&(n.parent=p.bin_proto.MessageObj.toObject(e.parent,t)),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=p.bin_proto.MessageObj.toObject(e.messages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Threads=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.Thread.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Threads;e.pos<n;){var o=e.uint32();o>>>3==1?(r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.Thread.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.Thread.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Threads)return e;var t=new p.bin_proto.Threads;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Threads.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Threads.list: object expected");t.list[n]=p.bin_proto.Thread.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=p.bin_proto.Thread.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.BodyAttribute=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type="",e.prototype.offset=0,e.prototype.length=0,e.prototype.metadata="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(16).int32(e.offset),null!=e.length&&Object.hasOwnProperty.call(e,"length")&&t.uint32(24).int32(e.length),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(34).string(e.metadata),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.BodyAttribute;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.string();break;case 2:r.offset=e.int32();break;case 3:r.length=e.int32();break;case 4:r.metadata=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type)?"type: string expected":null!=e.offset&&e.hasOwnProperty("offset")&&!d.isInteger(e.offset)?"offset: integer expected":null!=e.length&&e.hasOwnProperty("length")&&!d.isInteger(e.length)?"length: integer expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&!d.isString(e.metadata)?"metadata: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.BodyAttribute)return e;var t=new p.bin_proto.BodyAttribute;return null!=e.type&&(t.type=String(e.type)),null!=e.offset&&(t.offset=0|e.offset),null!=e.length&&(t.length=0|e.length),null!=e.metadata&&(t.metadata=String(e.metadata)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type="",n.offset=0,n.length=0,n.metadata=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset),null!=e.length&&e.hasOwnProperty("length")&&(n.length=e.length),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=e.metadata),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.BodyAttributes=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.BodyAttribute.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.BodyAttributes;e.pos<n;){var o=e.uint32();o>>>3==1?(r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.BodyAttribute.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.BodyAttribute.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.BodyAttributes)return e;var t=new p.bin_proto.BodyAttributes;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.BodyAttributes.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.BodyAttributes.list: object expected");t.list[n]=p.bin_proto.BodyAttribute.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=p.bin_proto.BodyAttribute.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageObj=function(){function e(e){if(this.attachments=[],this.mentions=[],this.markers={},this.selfMarkers=[],this.userMarkers=[],this.bodyAttributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.from=null,e.prototype.to="",e.prototype.text="",e.prototype.type="",e.prototype.date=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.tid=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.receipt=!1,e.prototype.status=0,e.prototype.chStatus=0,e.prototype.attachments=d.emptyArray,e.prototype.metadata="",e.prototype.reaction=null,e.prototype.mentions=d.emptyArray,e.prototype.replyCount=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.updatedAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.properties=0,e.prototype.markers=d.emptyObject,e.prototype.cid="",e.prototype.selfMarkers=d.emptyArray,e.prototype.assignedReadCount=0,e.prototype.saved=!1,e.prototype.forwardingDetails=null,e.prototype.userMarkers=d.emptyArray,e.prototype.replyingDetails=null,e.prototype.createdAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.bodyAttributes=d.emptyArray,e.prototype.autoDeleteAt=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.pinned=!1,e.prototype.pinnedTill=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint64(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&p.bin_proto.User.encode(e.from,t.uint32(18).fork()).ldelim(),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(26).string(e.to),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(34).string(e.text),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(42).string(e.type),null!=e.date&&Object.hasOwnProperty.call(e,"date")&&t.uint32(48).int64(e.date),null!=e.tid&&Object.hasOwnProperty.call(e,"tid")&&t.uint32(56).int64(e.tid),null!=e.receipt&&Object.hasOwnProperty.call(e,"receipt")&&t.uint32(64).bool(e.receipt),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(72).int32(e.status),null!=e.chStatus&&Object.hasOwnProperty.call(e,"chStatus")&&t.uint32(80).int32(e.chStatus),null!=e.attachments&&e.attachments.length)for(var n=0;n<e.attachments.length;++n)p.bin_proto.Attachment.encode(e.attachments[n],t.uint32(90).fork()).ldelim();if(null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(98).string(e.metadata),null!=e.reaction&&Object.hasOwnProperty.call(e,"reaction")&&p.bin_proto.Reaction.encode(e.reaction,t.uint32(106).fork()).ldelim(),null!=e.mentions&&e.mentions.length)for(n=0;n<e.mentions.length;++n)p.bin_proto.Mention.encode(e.mentions[n],t.uint32(114).fork()).ldelim();if(null!=e.replyCount&&Object.hasOwnProperty.call(e,"replyCount")&&t.uint32(120).int64(e.replyCount),null!=e.updatedAt&&Object.hasOwnProperty.call(e,"updatedAt")&&t.uint32(128).int64(e.updatedAt),null!=e.properties&&Object.hasOwnProperty.call(e,"properties")&&t.uint32(136).int32(e.properties),null!=e.markers&&Object.hasOwnProperty.call(e,"markers")){var r=Object.keys(e.markers);for(n=0;n<r.length;++n)t.uint32(146).fork().uint32(10).string(r[n]).uint32(16).uint64(e.markers[r[n]]).ldelim()}if(null!=e.cid&&Object.hasOwnProperty.call(e,"cid")&&t.uint32(154).string(e.cid),null!=e.selfMarkers&&e.selfMarkers.length)for(n=0;n<e.selfMarkers.length;++n)t.uint32(162).string(e.selfMarkers[n]);if(null!=e.assignedReadCount&&Object.hasOwnProperty.call(e,"assignedReadCount")&&t.uint32(168).int32(e.assignedReadCount),null!=e.saved&&Object.hasOwnProperty.call(e,"saved")&&t.uint32(176).bool(e.saved),null!=e.forwardingDetails&&Object.hasOwnProperty.call(e,"forwardingDetails")&&p.bin_proto.ForwardingDetails.encode(e.forwardingDetails,t.uint32(186).fork()).ldelim(),null!=e.userMarkers&&e.userMarkers.length)for(n=0;n<e.userMarkers.length;++n)p.bin_proto.MessageMarker.encode(e.userMarkers[n],t.uint32(194).fork()).ldelim();if(null!=e.replyingDetails&&Object.hasOwnProperty.call(e,"replyingDetails")&&p.bin_proto.ReplyingDetails.encode(e.replyingDetails,t.uint32(202).fork()).ldelim(),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&t.uint32(208).int64(e.createdAt),null!=e.bodyAttributes&&e.bodyAttributes.length)for(n=0;n<e.bodyAttributes.length;++n)p.bin_proto.BodyAttribute.encode(e.bodyAttributes[n],t.uint32(218).fork()).ldelim();return null!=e.autoDeleteAt&&Object.hasOwnProperty.call(e,"autoDeleteAt")&&t.uint32(224).int64(e.autoDeleteAt),null!=e.pinned&&Object.hasOwnProperty.call(e,"pinned")&&t.uint32(232).bool(e.pinned),null!=e.pinnedTill&&Object.hasOwnProperty.call(e,"pinnedTill")&&t.uint32(240).int64(e.pinnedTill),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.MessageObj;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.id=e.uint64();break;case 2:i.from=p.bin_proto.User.decode(e,e.uint32());break;case 3:i.to=e.string();break;case 4:i.text=e.string();break;case 5:i.type=e.string();break;case 6:i.date=e.int64();break;case 7:i.tid=e.int64();break;case 8:i.receipt=e.bool();break;case 9:i.status=e.int32();break;case 10:i.chStatus=e.int32();break;case 11:i.attachments&&i.attachments.length||(i.attachments=[]),i.attachments.push(p.bin_proto.Attachment.decode(e,e.uint32()));break;case 12:i.metadata=e.string();break;case 13:i.reaction=p.bin_proto.Reaction.decode(e,e.uint32());break;case 14:i.mentions&&i.mentions.length||(i.mentions=[]),i.mentions.push(p.bin_proto.Mention.decode(e,e.uint32()));break;case 15:i.replyCount=e.int64();break;case 16:i.updatedAt=e.int64();break;case 17:i.properties=e.int32();break;case 18:i.markers===d.emptyObject&&(i.markers={});var a=e.uint32()+e.pos;for(n="",r=0;e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=e.uint64();break;default:e.skipType(7&l)}}i.markers[n]=r;break;case 19:i.cid=e.string();break;case 20:i.selfMarkers&&i.selfMarkers.length||(i.selfMarkers=[]),i.selfMarkers.push(e.string());break;case 21:i.assignedReadCount=e.int32();break;case 22:i.saved=e.bool();break;case 23:i.forwardingDetails=p.bin_proto.ForwardingDetails.decode(e,e.uint32());break;case 24:i.userMarkers&&i.userMarkers.length||(i.userMarkers=[]),i.userMarkers.push(p.bin_proto.MessageMarker.decode(e,e.uint32()));break;case 25:i.replyingDetails=p.bin_proto.ReplyingDetails.decode(e,e.uint32());break;case 26:i.createdAt=e.int64();break;case 27:i.bodyAttributes&&i.bodyAttributes.length||(i.bodyAttributes=[]),i.bodyAttributes.push(p.bin_proto.BodyAttribute.decode(e,e.uint32()));break;case 28:i.autoDeleteAt=e.int64();break;case 29:i.pinned=e.bool();break;case 30:i.pinnedTill=e.int64();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(d.isInteger(e.id)||e.id&&d.isInteger(e.id.low)&&d.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.from&&e.hasOwnProperty("from")&&(r=p.bin_proto.User.verify(e.from)))return"from."+r;if(null!=e.to&&e.hasOwnProperty("to")&&!d.isString(e.to))return"to: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!d.isString(e.text))return"text: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type))return"type: string expected";if(null!=e.date&&e.hasOwnProperty("date")&&!(d.isInteger(e.date)||e.date&&d.isInteger(e.date.low)&&d.isInteger(e.date.high)))return"date: integer|Long expected";if(null!=e.tid&&e.hasOwnProperty("tid")&&!(d.isInteger(e.tid)||e.tid&&d.isInteger(e.tid.low)&&d.isInteger(e.tid.high)))return"tid: integer|Long expected";if(null!=e.receipt&&e.hasOwnProperty("receipt")&&"boolean"!=typeof e.receipt)return"receipt: boolean expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.chStatus&&e.hasOwnProperty("chStatus"))switch(e.chStatus){default:return"chStatus: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:}if(null!=e.attachments&&e.hasOwnProperty("attachments")){if(!Array.isArray(e.attachments))return"attachments: array expected";for(var t=0;t<e.attachments.length;++t)if(r=p.bin_proto.Attachment.verify(e.attachments[t]))return"attachments."+r}if(null!=e.metadata&&e.hasOwnProperty("metadata")&&!d.isString(e.metadata))return"metadata: string expected";if(null!=e.reaction&&e.hasOwnProperty("reaction")&&(r=p.bin_proto.Reaction.verify(e.reaction)))return"reaction."+r;if(null!=e.mentions&&e.hasOwnProperty("mentions")){if(!Array.isArray(e.mentions))return"mentions: array expected";for(t=0;t<e.mentions.length;++t)if(r=p.bin_proto.Mention.verify(e.mentions[t]))return"mentions."+r}if(null!=e.replyCount&&e.hasOwnProperty("replyCount")&&!(d.isInteger(e.replyCount)||e.replyCount&&d.isInteger(e.replyCount.low)&&d.isInteger(e.replyCount.high)))return"replyCount: integer|Long expected";if(null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&!(d.isInteger(e.updatedAt)||e.updatedAt&&d.isInteger(e.updatedAt.low)&&d.isInteger(e.updatedAt.high)))return"updatedAt: integer|Long expected";if(null!=e.properties&&e.hasOwnProperty("properties")&&!d.isInteger(e.properties))return"properties: integer expected";if(null!=e.markers&&e.hasOwnProperty("markers")){if(!d.isObject(e.markers))return"markers: object expected";var n=Object.keys(e.markers);for(t=0;t<n.length;++t)if(!(d.isInteger(e.markers[n[t]])||e.markers[n[t]]&&d.isInteger(e.markers[n[t]].low)&&d.isInteger(e.markers[n[t]].high)))return"markers: integer|Long{k:string} expected"}if(null!=e.cid&&e.hasOwnProperty("cid")&&!d.isString(e.cid))return"cid: string expected";if(null!=e.selfMarkers&&e.hasOwnProperty("selfMarkers")){if(!Array.isArray(e.selfMarkers))return"selfMarkers: array expected";for(t=0;t<e.selfMarkers.length;++t)if(!d.isString(e.selfMarkers[t]))return"selfMarkers: string[] expected"}if(null!=e.assignedReadCount&&e.hasOwnProperty("assignedReadCount")&&!d.isInteger(e.assignedReadCount))return"assignedReadCount: integer expected";if(null!=e.saved&&e.hasOwnProperty("saved")&&"boolean"!=typeof e.saved)return"saved: boolean expected";if(null!=e.forwardingDetails&&e.hasOwnProperty("forwardingDetails")&&(r=p.bin_proto.ForwardingDetails.verify(e.forwardingDetails)))return"forwardingDetails."+r;if(null!=e.userMarkers&&e.hasOwnProperty("userMarkers")){if(!Array.isArray(e.userMarkers))return"userMarkers: array expected";for(t=0;t<e.userMarkers.length;++t)if(r=p.bin_proto.MessageMarker.verify(e.userMarkers[t]))return"userMarkers."+r}if(null!=e.replyingDetails&&e.hasOwnProperty("replyingDetails")&&(r=p.bin_proto.ReplyingDetails.verify(e.replyingDetails)))return"replyingDetails."+r;if(null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!(d.isInteger(e.createdAt)||e.createdAt&&d.isInteger(e.createdAt.low)&&d.isInteger(e.createdAt.high)))return"createdAt: integer|Long expected";if(null!=e.bodyAttributes&&e.hasOwnProperty("bodyAttributes")){if(!Array.isArray(e.bodyAttributes))return"bodyAttributes: array expected";for(t=0;t<e.bodyAttributes.length;++t){var r;if(r=p.bin_proto.BodyAttribute.verify(e.bodyAttributes[t]))return"bodyAttributes."+r}}return null!=e.autoDeleteAt&&e.hasOwnProperty("autoDeleteAt")&&!(d.isInteger(e.autoDeleteAt)||e.autoDeleteAt&&d.isInteger(e.autoDeleteAt.low)&&d.isInteger(e.autoDeleteAt.high))?"autoDeleteAt: integer|Long expected":null!=e.pinned&&e.hasOwnProperty("pinned")&&"boolean"!=typeof e.pinned?"pinned: boolean expected":null!=e.pinnedTill&&e.hasOwnProperty("pinnedTill")&&!(d.isInteger(e.pinnedTill)||e.pinnedTill&&d.isInteger(e.pinnedTill.low)&&d.isInteger(e.pinnedTill.high))?"pinnedTill: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageObj)return e;var t=new p.bin_proto.MessageObj;if(null!=e.id&&(d.Long?(t.id=d.Long.fromValue(e.id)).unsigned=!0:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.MessageObj.from: object expected");t.from=p.bin_proto.User.fromObject(e.from)}switch(null!=e.to&&(t.to=String(e.to)),null!=e.text&&(t.text=String(e.text)),null!=e.type&&(t.type=String(e.type)),null!=e.date&&(d.Long?(t.date=d.Long.fromValue(e.date)).unsigned=!1:"string"==typeof e.date?t.date=parseInt(e.date,10):"number"==typeof e.date?t.date=e.date:"object"==typeof e.date&&(t.date=new d.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber())),null!=e.tid&&(d.Long?(t.tid=d.Long.fromValue(e.tid)).unsigned=!1:"string"==typeof e.tid?t.tid=parseInt(e.tid,10):"number"==typeof e.tid?t.tid=e.tid:"object"==typeof e.tid&&(t.tid=new d.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber())),null!=e.receipt&&(t.receipt=Boolean(e.receipt)),e.status){case"NONE":case 0:t.status=0;break;case"SERVER":case 1:t.status=1;break;case"DELIVERED":case 2:t.status=2;break;case"READ":case 3:t.status=3}switch(e.chStatus){case"NORMAL":case 0:t.chStatus=0;break;case"EDIT":case 1:t.chStatus=1;break;case"DELETE":case 2:t.chStatus=2;break;case"COMPOSING":case 3:t.chStatus=3;break;case"PAUSED":case 4:t.chStatus=4;break;case"DELETE_FOR_ME":case 5:t.chStatus=5;break;case"DELETE_HARD":case 6:t.chStatus=6;break;case"MODERATED":case 7:t.chStatus=7}if(e.attachments){if(!Array.isArray(e.attachments))throw TypeError(".bin_proto.MessageObj.attachments: array expected");t.attachments=[];for(var n=0;n<e.attachments.length;++n){if("object"!=typeof e.attachments[n])throw TypeError(".bin_proto.MessageObj.attachments: object expected");t.attachments[n]=p.bin_proto.Attachment.fromObject(e.attachments[n])}}if(null!=e.metadata&&(t.metadata=String(e.metadata)),null!=e.reaction){if("object"!=typeof e.reaction)throw TypeError(".bin_proto.MessageObj.reaction: object expected");t.reaction=p.bin_proto.Reaction.fromObject(e.reaction)}if(e.mentions){if(!Array.isArray(e.mentions))throw TypeError(".bin_proto.MessageObj.mentions: array expected");for(t.mentions=[],n=0;n<e.mentions.length;++n){if("object"!=typeof e.mentions[n])throw TypeError(".bin_proto.MessageObj.mentions: object expected");t.mentions[n]=p.bin_proto.Mention.fromObject(e.mentions[n])}}if(null!=e.replyCount&&(d.Long?(t.replyCount=d.Long.fromValue(e.replyCount)).unsigned=!1:"string"==typeof e.replyCount?t.replyCount=parseInt(e.replyCount,10):"number"==typeof e.replyCount?t.replyCount=e.replyCount:"object"==typeof e.replyCount&&(t.replyCount=new d.LongBits(e.replyCount.low>>>0,e.replyCount.high>>>0).toNumber())),null!=e.updatedAt&&(d.Long?(t.updatedAt=d.Long.fromValue(e.updatedAt)).unsigned=!1:"string"==typeof e.updatedAt?t.updatedAt=parseInt(e.updatedAt,10):"number"==typeof e.updatedAt?t.updatedAt=e.updatedAt:"object"==typeof e.updatedAt&&(t.updatedAt=new d.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber())),null!=e.properties&&(t.properties=0|e.properties),e.markers){if("object"!=typeof e.markers)throw TypeError(".bin_proto.MessageObj.markers: object expected");t.markers={};var r=Object.keys(e.markers);for(n=0;n<r.length;++n)d.Long?(t.markers[r[n]]=d.Long.fromValue(e.markers[r[n]])).unsigned=!0:"string"==typeof e.markers[r[n]]?t.markers[r[n]]=parseInt(e.markers[r[n]],10):"number"==typeof e.markers[r[n]]?t.markers[r[n]]=e.markers[r[n]]:"object"==typeof e.markers[r[n]]&&(t.markers[r[n]]=new d.LongBits(e.markers[r[n]].low>>>0,e.markers[r[n]].high>>>0).toNumber(!0))}if(null!=e.cid&&(t.cid=String(e.cid)),e.selfMarkers){if(!Array.isArray(e.selfMarkers))throw TypeError(".bin_proto.MessageObj.selfMarkers: array expected");for(t.selfMarkers=[],n=0;n<e.selfMarkers.length;++n)t.selfMarkers[n]=String(e.selfMarkers[n])}if(null!=e.assignedReadCount&&(t.assignedReadCount=0|e.assignedReadCount),null!=e.saved&&(t.saved=Boolean(e.saved)),null!=e.forwardingDetails){if("object"!=typeof e.forwardingDetails)throw TypeError(".bin_proto.MessageObj.forwardingDetails: object expected");t.forwardingDetails=p.bin_proto.ForwardingDetails.fromObject(e.forwardingDetails)}if(e.userMarkers){if(!Array.isArray(e.userMarkers))throw TypeError(".bin_proto.MessageObj.userMarkers: array expected");for(t.userMarkers=[],n=0;n<e.userMarkers.length;++n){if("object"!=typeof e.userMarkers[n])throw TypeError(".bin_proto.MessageObj.userMarkers: object expected");t.userMarkers[n]=p.bin_proto.MessageMarker.fromObject(e.userMarkers[n])}}if(null!=e.replyingDetails){if("object"!=typeof e.replyingDetails)throw TypeError(".bin_proto.MessageObj.replyingDetails: object expected");t.replyingDetails=p.bin_proto.ReplyingDetails.fromObject(e.replyingDetails)}if(null!=e.createdAt&&(d.Long?(t.createdAt=d.Long.fromValue(e.createdAt)).unsigned=!1:"string"==typeof e.createdAt?t.createdAt=parseInt(e.createdAt,10):"number"==typeof e.createdAt?t.createdAt=e.createdAt:"object"==typeof e.createdAt&&(t.createdAt=new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),e.bodyAttributes){if(!Array.isArray(e.bodyAttributes))throw TypeError(".bin_proto.MessageObj.bodyAttributes: array expected");for(t.bodyAttributes=[],n=0;n<e.bodyAttributes.length;++n){if("object"!=typeof e.bodyAttributes[n])throw TypeError(".bin_proto.MessageObj.bodyAttributes: object expected");t.bodyAttributes[n]=p.bin_proto.BodyAttribute.fromObject(e.bodyAttributes[n])}}return null!=e.autoDeleteAt&&(d.Long?(t.autoDeleteAt=d.Long.fromValue(e.autoDeleteAt)).unsigned=!1:"string"==typeof e.autoDeleteAt?t.autoDeleteAt=parseInt(e.autoDeleteAt,10):"number"==typeof e.autoDeleteAt?t.autoDeleteAt=e.autoDeleteAt:"object"==typeof e.autoDeleteAt&&(t.autoDeleteAt=new d.LongBits(e.autoDeleteAt.low>>>0,e.autoDeleteAt.high>>>0).toNumber())),null!=e.pinned&&(t.pinned=Boolean(e.pinned)),null!=e.pinnedTill&&(d.Long?(t.pinnedTill=d.Long.fromValue(e.pinnedTill)).unsigned=!1:"string"==typeof e.pinnedTill?t.pinnedTill=parseInt(e.pinnedTill,10):"number"==typeof e.pinnedTill?t.pinnedTill=e.pinnedTill:"object"==typeof e.pinnedTill&&(t.pinnedTill=new d.LongBits(e.pinnedTill.low>>>0,e.pinnedTill.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.attachments=[],r.mentions=[],r.selfMarkers=[],r.userMarkers=[],r.bodyAttributes=[]),(t.objects||t.defaults)&&(r.markers={}),t.defaults){if(d.Long){var o=new d.Long(0,0,!0);r.id=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.id=t.longs===String?"0":0;r.from=null,r.to="",r.text="",r.type="",d.Long?(o=new d.Long(0,0,!1),r.date=t.longs===String?o.toString():t.longs===Number?o.toNumber():o):r.date=t.longs===String?"0":0,d.Long?(o=new d.Long(0,0,!1),r.tid=t.longs===String?o.toString():t.longs===Number?o.toNumber():o):r.tid=t.longs===String?"0":0,r.receipt=!1,r.status=t.enums===String?"NONE":0,r.chStatus=t.enums===String?"NORMAL":0,r.metadata="",r.reaction=null,d.Long?(o=new d.Long(0,0,!1),r.replyCount=t.longs===String?o.toString():t.longs===Number?o.toNumber():o):r.replyCount=t.longs===String?"0":0,d.Long?(o=new d.Long(0,0,!1),r.updatedAt=t.longs===String?o.toString():t.longs===Number?o.toNumber():o):r.updatedAt=t.longs===String?"0":0,r.properties=0,r.cid="",r.assignedReadCount=0,r.saved=!1,r.forwardingDetails=null,r.replyingDetails=null,d.Long?(o=new d.Long(0,0,!1),r.createdAt=t.longs===String?o.toString():t.longs===Number?o.toNumber():o):r.createdAt=t.longs===String?"0":0,d.Long?(o=new d.Long(0,0,!1),r.autoDeleteAt=t.longs===String?o.toString():t.longs===Number?o.toNumber():o):r.autoDeleteAt=t.longs===String?"0":0,r.pinned=!1,d.Long?(o=new d.Long(0,0,!1),r.pinnedTill=t.longs===String?o.toString():t.longs===Number?o.toNumber():o):r.pinnedTill=t.longs===String?"0":0}if(null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?d.Long.prototype.toString.call(e.id):t.longs===Number?new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),null!=e.from&&e.hasOwnProperty("from")&&(r.from=p.bin_proto.User.toObject(e.from,t)),null!=e.to&&e.hasOwnProperty("to")&&(r.to=e.to),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.date&&e.hasOwnProperty("date")&&("number"==typeof e.date?r.date=t.longs===String?String(e.date):e.date:r.date=t.longs===String?d.Long.prototype.toString.call(e.date):t.longs===Number?new d.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber():e.date),null!=e.tid&&e.hasOwnProperty("tid")&&("number"==typeof e.tid?r.tid=t.longs===String?String(e.tid):e.tid:r.tid=t.longs===String?d.Long.prototype.toString.call(e.tid):t.longs===Number?new d.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber():e.tid),null!=e.receipt&&e.hasOwnProperty("receipt")&&(r.receipt=e.receipt),null!=e.status&&e.hasOwnProperty("status")&&(r.status=t.enums===String?p.bin_proto.MessageObj.DeliveryStatus[e.status]:e.status),null!=e.chStatus&&e.hasOwnProperty("chStatus")&&(r.chStatus=t.enums===String?p.bin_proto.MessageObj.UpdateStatus[e.chStatus]:e.chStatus),e.attachments&&e.attachments.length){r.attachments=[];for(var i=0;i<e.attachments.length;++i)r.attachments[i]=p.bin_proto.Attachment.toObject(e.attachments[i],t)}if(null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=e.metadata),null!=e.reaction&&e.hasOwnProperty("reaction")&&(r.reaction=p.bin_proto.Reaction.toObject(e.reaction,t)),e.mentions&&e.mentions.length)for(r.mentions=[],i=0;i<e.mentions.length;++i)r.mentions[i]=p.bin_proto.Mention.toObject(e.mentions[i],t);if(null!=e.replyCount&&e.hasOwnProperty("replyCount")&&("number"==typeof e.replyCount?r.replyCount=t.longs===String?String(e.replyCount):e.replyCount:r.replyCount=t.longs===String?d.Long.prototype.toString.call(e.replyCount):t.longs===Number?new d.LongBits(e.replyCount.low>>>0,e.replyCount.high>>>0).toNumber():e.replyCount),null!=e.updatedAt&&e.hasOwnProperty("updatedAt")&&("number"==typeof e.updatedAt?r.updatedAt=t.longs===String?String(e.updatedAt):e.updatedAt:r.updatedAt=t.longs===String?d.Long.prototype.toString.call(e.updatedAt):t.longs===Number?new d.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber():e.updatedAt),null!=e.properties&&e.hasOwnProperty("properties")&&(r.properties=e.properties),e.markers&&(n=Object.keys(e.markers)).length)for(r.markers={},i=0;i<n.length;++i)"number"==typeof e.markers[n[i]]?r.markers[n[i]]=t.longs===String?String(e.markers[n[i]]):e.markers[n[i]]:r.markers[n[i]]=t.longs===String?d.Long.prototype.toString.call(e.markers[n[i]]):t.longs===Number?new d.LongBits(e.markers[n[i]].low>>>0,e.markers[n[i]].high>>>0).toNumber(!0):e.markers[n[i]];if(null!=e.cid&&e.hasOwnProperty("cid")&&(r.cid=e.cid),e.selfMarkers&&e.selfMarkers.length)for(r.selfMarkers=[],i=0;i<e.selfMarkers.length;++i)r.selfMarkers[i]=e.selfMarkers[i];if(null!=e.assignedReadCount&&e.hasOwnProperty("assignedReadCount")&&(r.assignedReadCount=e.assignedReadCount),null!=e.saved&&e.hasOwnProperty("saved")&&(r.saved=e.saved),null!=e.forwardingDetails&&e.hasOwnProperty("forwardingDetails")&&(r.forwardingDetails=p.bin_proto.ForwardingDetails.toObject(e.forwardingDetails,t)),e.userMarkers&&e.userMarkers.length)for(r.userMarkers=[],i=0;i<e.userMarkers.length;++i)r.userMarkers[i]=p.bin_proto.MessageMarker.toObject(e.userMarkers[i],t);if(null!=e.replyingDetails&&e.hasOwnProperty("replyingDetails")&&(r.replyingDetails=p.bin_proto.ReplyingDetails.toObject(e.replyingDetails,t)),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&("number"==typeof e.createdAt?r.createdAt=t.longs===String?String(e.createdAt):e.createdAt:r.createdAt=t.longs===String?d.Long.prototype.toString.call(e.createdAt):t.longs===Number?new d.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),e.bodyAttributes&&e.bodyAttributes.length)for(r.bodyAttributes=[],i=0;i<e.bodyAttributes.length;++i)r.bodyAttributes[i]=p.bin_proto.BodyAttribute.toObject(e.bodyAttributes[i],t);return null!=e.autoDeleteAt&&e.hasOwnProperty("autoDeleteAt")&&("number"==typeof e.autoDeleteAt?r.autoDeleteAt=t.longs===String?String(e.autoDeleteAt):e.autoDeleteAt:r.autoDeleteAt=t.longs===String?d.Long.prototype.toString.call(e.autoDeleteAt):t.longs===Number?new d.LongBits(e.autoDeleteAt.low>>>0,e.autoDeleteAt.high>>>0).toNumber():e.autoDeleteAt),null!=e.pinned&&e.hasOwnProperty("pinned")&&(r.pinned=e.pinned),null!=e.pinnedTill&&e.hasOwnProperty("pinnedTill")&&("number"==typeof e.pinnedTill?r.pinnedTill=t.longs===String?String(e.pinnedTill):e.pinnedTill:r.pinnedTill=t.longs===String?d.Long.prototype.toString.call(e.pinnedTill):t.longs===Number?new d.LongBits(e.pinnedTill.low>>>0,e.pinnedTill.high>>>0).toNumber():e.pinnedTill),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.DeliveryStatus=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="SERVER"]=1,t[e[2]="DELIVERED"]=2,t[e[3]="READ"]=3,t}(),e.UpdateStatus=function(){var e={},t=Object.create(e);return t[e[0]="NORMAL"]=0,t[e[1]="EDIT"]=1,t[e[2]="DELETE"]=2,t[e[3]="COMPOSING"]=3,t[e[4]="PAUSED"]=4,t[e[5]="DELETE_FOR_ME"]=5,t[e[6]="DELETE_HARD"]=6,t[e[7]="MODERATED"]=7,t}(),e.PropertyMask=function(){var e={},t=Object.create(e);return t[e[0]="PROPERTY_MASK_NONE"]=0,t[e[1]="PROPERTY_MASK_TRANSIENT"]=1,t[e[2]="PROPERTY_MASK_SILENT"]=2,t}(),e}(),i.Message=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.message=null,e.prototype.parent=null,e.prototype.replyInThread=!1,e.prototype.direct=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&p.bin_proto.MessageObj.encode(e.message,t.uint32(10).fork()).ldelim(),null!=e.parent&&Object.hasOwnProperty.call(e,"parent")&&p.bin_proto.MessageObj.encode(e.parent,t.uint32(18).fork()).ldelim(),null!=e.replyInThread&&Object.hasOwnProperty.call(e,"replyInThread")&&t.uint32(24).bool(e.replyInThread),null!=e.direct&&Object.hasOwnProperty.call(e,"direct")&&t.uint32(32).bool(e.direct),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Message;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.message=p.bin_proto.MessageObj.decode(e,e.uint32());break;case 2:r.parent=p.bin_proto.MessageObj.decode(e,e.uint32());break;case 3:r.replyInThread=e.bool();break;case 4:r.direct=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&(t=p.bin_proto.MessageObj.verify(e.message))?"message."+t:null!=e.parent&&e.hasOwnProperty("parent")&&(t=p.bin_proto.MessageObj.verify(e.parent))?"parent."+t:null!=e.replyInThread&&e.hasOwnProperty("replyInThread")&&"boolean"!=typeof e.replyInThread?"replyInThread: boolean expected":null!=e.direct&&e.hasOwnProperty("direct")&&"boolean"!=typeof e.direct?"direct: boolean expected":null;var t},e.fromObject=function(e){if(e instanceof p.bin_proto.Message)return e;var t=new p.bin_proto.Message;if(null!=e.message){if("object"!=typeof e.message)throw TypeError(".bin_proto.Message.message: object expected");t.message=p.bin_proto.MessageObj.fromObject(e.message)}if(null!=e.parent){if("object"!=typeof e.parent)throw TypeError(".bin_proto.Message.parent: object expected");t.parent=p.bin_proto.MessageObj.fromObject(e.parent)}return null!=e.replyInThread&&(t.replyInThread=Boolean(e.replyInThread)),null!=e.direct&&(t.direct=Boolean(e.direct)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.message=null,n.parent=null,n.replyInThread=!1,n.direct=!1),null!=e.message&&e.hasOwnProperty("message")&&(n.message=p.bin_proto.MessageObj.toObject(e.message,t)),null!=e.parent&&e.hasOwnProperty("parent")&&(n.parent=p.bin_proto.MessageObj.toObject(e.parent,t)),null!=e.replyInThread&&e.hasOwnProperty("replyInThread")&&(n.replyInThread=e.replyInThread),null!=e.direct&&e.hasOwnProperty("direct")&&(n.direct=e.direct),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.SystemMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.from="",e.prototype.to="",e.prototype.text="",e.prototype.date=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.unreadCount=null,Object.defineProperty(e.prototype,"data",{get:d.oneOfGetter(t=["unreadCount"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint64(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(18).string(e.from),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(26).string(e.to),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(34).string(e.text),null!=e.date&&Object.hasOwnProperty.call(e,"date")&&t.uint32(40).int64(e.date),null!=e.unreadCount&&Object.hasOwnProperty.call(e,"unreadCount")&&p.bin_proto.UnreadCount.encode(e.unreadCount,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.SystemMessage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.uint64();break;case 2:r.from=e.string();break;case 3:r.to=e.string();break;case 4:r.text=e.string();break;case 5:r.date=e.int64();break;case 6:r.unreadCount=p.bin_proto.UnreadCount.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(d.isInteger(e.id)||e.id&&d.isInteger(e.id.low)&&d.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.from&&e.hasOwnProperty("from")&&!d.isString(e.from))return"from: string expected";if(null!=e.to&&e.hasOwnProperty("to")&&!d.isString(e.to))return"to: string expected";if(null!=e.text&&e.hasOwnProperty("text")&&!d.isString(e.text))return"text: string expected";if(null!=e.date&&e.hasOwnProperty("date")&&!(d.isInteger(e.date)||e.date&&d.isInteger(e.date.low)&&d.isInteger(e.date.high)))return"date: integer|Long expected";if(null!=e.unreadCount&&e.hasOwnProperty("unreadCount")){var t=p.bin_proto.UnreadCount.verify(e.unreadCount);if(t)return"unreadCount."+t}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.SystemMessage)return e;var t=new p.bin_proto.SystemMessage;if(null!=e.id&&(d.Long?(t.id=d.Long.fromValue(e.id)).unsigned=!0:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),null!=e.from&&(t.from=String(e.from)),null!=e.to&&(t.to=String(e.to)),null!=e.text&&(t.text=String(e.text)),null!=e.date&&(d.Long?(t.date=d.Long.fromValue(e.date)).unsigned=!1:"string"==typeof e.date?t.date=parseInt(e.date,10):"number"==typeof e.date?t.date=e.date:"object"==typeof e.date&&(t.date=new d.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber())),null!=e.unreadCount){if("object"!=typeof e.unreadCount)throw TypeError(".bin_proto.SystemMessage.unreadCount: object expected");t.unreadCount=p.bin_proto.UnreadCount.fromObject(e.unreadCount)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(d.Long){var r=new d.Long(0,0,!0);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.from="",n.to="",n.text="",d.Long?(r=new d.Long(0,0,!1),n.date=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.date=t.longs===String?"0":0}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?d.Long.prototype.toString.call(e.id):t.longs===Number?new d.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),null!=e.date&&e.hasOwnProperty("date")&&("number"==typeof e.date?n.date=t.longs===String?String(e.date):e.date:n.date=t.longs===String?d.Long.prototype.toString.call(e.date):t.longs===Number?new d.LongBits(e.date.low>>>0,e.date.high>>>0).toNumber():e.date),null!=e.unreadCount&&e.hasOwnProperty("unreadCount")&&(n.unreadCount=p.bin_proto.UnreadCount.toObject(e.unreadCount,t),t.oneofs&&(n.data="unreadCount")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.UnreadCount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.totalUnread=0,e.prototype.channelUnreadCount=0,e.prototype.unreadChannels=0,e.prototype.channelUnreadFlag=!1,e.prototype.channelUnreadReactions=0,e.prototype.channelUnreadMentions=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.totalUnread&&Object.hasOwnProperty.call(e,"totalUnread")&&t.uint32(8).int32(e.totalUnread),null!=e.channelUnreadCount&&Object.hasOwnProperty.call(e,"channelUnreadCount")&&t.uint32(16).int32(e.channelUnreadCount),null!=e.unreadChannels&&Object.hasOwnProperty.call(e,"unreadChannels")&&t.uint32(24).int32(e.unreadChannels),null!=e.channelUnreadFlag&&Object.hasOwnProperty.call(e,"channelUnreadFlag")&&t.uint32(32).bool(e.channelUnreadFlag),null!=e.channelUnreadReactions&&Object.hasOwnProperty.call(e,"channelUnreadReactions")&&t.uint32(40).int32(e.channelUnreadReactions),null!=e.channelUnreadMentions&&Object.hasOwnProperty.call(e,"channelUnreadMentions")&&t.uint32(48).int32(e.channelUnreadMentions),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.UnreadCount;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.totalUnread=e.int32();break;case 2:r.channelUnreadCount=e.int32();break;case 3:r.unreadChannels=e.int32();break;case 4:r.channelUnreadFlag=e.bool();break;case 5:r.channelUnreadReactions=e.int32();break;case 6:r.channelUnreadMentions=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&!d.isInteger(e.totalUnread)?"totalUnread: integer expected":null!=e.channelUnreadCount&&e.hasOwnProperty("channelUnreadCount")&&!d.isInteger(e.channelUnreadCount)?"channelUnreadCount: integer expected":null!=e.unreadChannels&&e.hasOwnProperty("unreadChannels")&&!d.isInteger(e.unreadChannels)?"unreadChannels: integer expected":null!=e.channelUnreadFlag&&e.hasOwnProperty("channelUnreadFlag")&&"boolean"!=typeof e.channelUnreadFlag?"channelUnreadFlag: boolean expected":null!=e.channelUnreadReactions&&e.hasOwnProperty("channelUnreadReactions")&&!d.isInteger(e.channelUnreadReactions)?"channelUnreadReactions: integer expected":null!=e.channelUnreadMentions&&e.hasOwnProperty("channelUnreadMentions")&&!d.isInteger(e.channelUnreadMentions)?"channelUnreadMentions: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.UnreadCount)return e;var t=new p.bin_proto.UnreadCount;return null!=e.totalUnread&&(t.totalUnread=0|e.totalUnread),null!=e.channelUnreadCount&&(t.channelUnreadCount=0|e.channelUnreadCount),null!=e.unreadChannels&&(t.unreadChannels=0|e.unreadChannels),null!=e.channelUnreadFlag&&(t.channelUnreadFlag=Boolean(e.channelUnreadFlag)),null!=e.channelUnreadReactions&&(t.channelUnreadReactions=0|e.channelUnreadReactions),null!=e.channelUnreadMentions&&(t.channelUnreadMentions=0|e.channelUnreadMentions),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.totalUnread=0,n.channelUnreadCount=0,n.unreadChannels=0,n.channelUnreadFlag=!1,n.channelUnreadReactions=0,n.channelUnreadMentions=0),null!=e.totalUnread&&e.hasOwnProperty("totalUnread")&&(n.totalUnread=e.totalUnread),null!=e.channelUnreadCount&&e.hasOwnProperty("channelUnreadCount")&&(n.channelUnreadCount=e.channelUnreadCount),null!=e.unreadChannels&&e.hasOwnProperty("unreadChannels")&&(n.unreadChannels=e.unreadChannels),null!=e.channelUnreadFlag&&e.hasOwnProperty("channelUnreadFlag")&&(n.channelUnreadFlag=e.channelUnreadFlag),null!=e.channelUnreadReactions&&e.hasOwnProperty("channelUnreadReactions")&&(n.channelUnreadReactions=e.channelUnreadReactions),null!=e.channelUnreadMentions&&e.hasOwnProperty("channelUnreadMentions")&&(n.channelUnreadMentions=e.channelUnreadMentions),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageMarkerStatus=function(){function e(e){if(this.ids=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.ids=d.emptyArray,e.prototype.marker="",e.prototype.channelId="",e.prototype.tid=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.from=null,e.prototype.time=d.Long?d.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.ids&&e.ids.length){t.uint32(10).fork();for(var n=0;n<e.ids.length;++n)t.uint64(e.ids[n]);t.ldelim()}return null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(18).string(e.marker),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(26).string(e.channelId),null!=e.tid&&Object.hasOwnProperty.call(e,"tid")&&t.uint32(32).int64(e.tid),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&p.bin_proto.User.encode(e.from,t.uint32(42).fork()).ldelim(),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(48).uint64(e.time),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageMarkerStatus;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(r.ids&&r.ids.length||(r.ids=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.ids.push(e.uint64());else r.ids.push(e.uint64());break;case 2:r.marker=e.string();break;case 3:r.channelId=e.string();break;case 4:r.tid=e.int64();break;case 5:r.from=p.bin_proto.User.decode(e,e.uint32());break;case 6:r.time=e.uint64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ids&&e.hasOwnProperty("ids")){if(!Array.isArray(e.ids))return"ids: array expected";for(var t=0;t<e.ids.length;++t)if(!(d.isInteger(e.ids[t])||e.ids[t]&&d.isInteger(e.ids[t].low)&&d.isInteger(e.ids[t].high)))return"ids: integer|Long[] expected"}if(null!=e.marker&&e.hasOwnProperty("marker")&&!d.isString(e.marker))return"marker: string expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId))return"channelId: string expected";if(null!=e.tid&&e.hasOwnProperty("tid")&&!(d.isInteger(e.tid)||e.tid&&d.isInteger(e.tid.low)&&d.isInteger(e.tid.high)))return"tid: integer|Long expected";if(null!=e.from&&e.hasOwnProperty("from")){var n=p.bin_proto.User.verify(e.from);if(n)return"from."+n}return null!=e.time&&e.hasOwnProperty("time")&&!(d.isInteger(e.time)||e.time&&d.isInteger(e.time.low)&&d.isInteger(e.time.high))?"time: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageMarkerStatus)return e;var t=new p.bin_proto.MessageMarkerStatus;if(e.ids){if(!Array.isArray(e.ids))throw TypeError(".bin_proto.MessageMarkerStatus.ids: array expected");t.ids=[];for(var n=0;n<e.ids.length;++n)d.Long?(t.ids[n]=d.Long.fromValue(e.ids[n])).unsigned=!0:"string"==typeof e.ids[n]?t.ids[n]=parseInt(e.ids[n],10):"number"==typeof e.ids[n]?t.ids[n]=e.ids[n]:"object"==typeof e.ids[n]&&(t.ids[n]=new d.LongBits(e.ids[n].low>>>0,e.ids[n].high>>>0).toNumber(!0))}if(null!=e.marker&&(t.marker=String(e.marker)),null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.tid&&(d.Long?(t.tid=d.Long.fromValue(e.tid)).unsigned=!1:"string"==typeof e.tid?t.tid=parseInt(e.tid,10):"number"==typeof e.tid?t.tid=e.tid:"object"==typeof e.tid&&(t.tid=new d.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber())),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.MessageMarkerStatus.from: object expected");t.from=p.bin_proto.User.fromObject(e.from)}return null!=e.time&&(d.Long?(t.time=d.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new d.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.ids=[]),t.defaults){if(n.marker="",n.channelId="",d.Long){var r=new d.Long(0,0,!1);n.tid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.tid=t.longs===String?"0":0;n.from=null,d.Long?(r=new d.Long(0,0,!0),n.time=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.time=t.longs===String?"0":0}if(e.ids&&e.ids.length){n.ids=[];for(var o=0;o<e.ids.length;++o)"number"==typeof e.ids[o]?n.ids[o]=t.longs===String?String(e.ids[o]):e.ids[o]:n.ids[o]=t.longs===String?d.Long.prototype.toString.call(e.ids[o]):t.longs===Number?new d.LongBits(e.ids[o].low>>>0,e.ids[o].high>>>0).toNumber(!0):e.ids[o]}return null!=e.marker&&e.hasOwnProperty("marker")&&(n.marker=e.marker),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.tid&&e.hasOwnProperty("tid")&&("number"==typeof e.tid?n.tid=t.longs===String?String(e.tid):e.tid:n.tid=t.longs===String?d.Long.prototype.toString.call(e.tid):t.longs===Number?new d.LongBits(e.tid.low>>>0,e.tid.high>>>0).toNumber():e.tid),null!=e.from&&e.hasOwnProperty("from")&&(n.from=p.bin_proto.User.toObject(e.from,t)),null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?d.Long.prototype.toString.call(e.time):t.longs===Number?new d.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageMarkerStatusGroup=function(){function e(e){if(this.markersByUser={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.markersByUser=d.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.markersByUser&&Object.hasOwnProperty.call(e,"markersByUser"))for(var n=Object.keys(e.markersByUser),r=0;r<n.length;++r)t.uint32(10).fork().uint32(10).string(n[r]),p.bin_proto.MessageMarkersStatuses.encode(e.markersByUser[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.MessageMarkerStatusGroup;e.pos<o;){var s=e.uint32();if(s>>>3==1){i.markersByUser===d.emptyObject&&(i.markersByUser={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=p.bin_proto.MessageMarkersStatuses.decode(e,e.uint32());break;default:e.skipType(7&l)}}i.markersByUser[n]=r}else e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.markersByUser&&e.hasOwnProperty("markersByUser")){if(!d.isObject(e.markersByUser))return"markersByUser: object expected";for(var t=Object.keys(e.markersByUser),n=0;n<t.length;++n){var r=p.bin_proto.MessageMarkersStatuses.verify(e.markersByUser[t[n]]);if(r)return"markersByUser."+r}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageMarkerStatusGroup)return e;var t=new p.bin_proto.MessageMarkerStatusGroup;if(e.markersByUser){if("object"!=typeof e.markersByUser)throw TypeError(".bin_proto.MessageMarkerStatusGroup.markersByUser: object expected");t.markersByUser={};for(var n=Object.keys(e.markersByUser),r=0;r<n.length;++r){if("object"!=typeof e.markersByUser[n[r]])throw TypeError(".bin_proto.MessageMarkerStatusGroup.markersByUser: object expected");t.markersByUser[n[r]]=p.bin_proto.MessageMarkersStatuses.fromObject(e.markersByUser[n[r]])}}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.markersByUser={}),e.markersByUser&&(n=Object.keys(e.markersByUser)).length){r.markersByUser={};for(var o=0;o<n.length;++o)r.markersByUser[n[o]]=p.bin_proto.MessageMarkersStatuses.toObject(e.markersByUser[n[o]],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageMarkersStatuses=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.MessageMarkerStatus.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageMarkersStatuses;e.pos<n;){var o=e.uint32();o>>>3==1?(r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.MessageMarkerStatus.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.MessageMarkerStatus.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageMarkersStatuses)return e;var t=new p.bin_proto.MessageMarkersStatuses;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.MessageMarkersStatuses.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.MessageMarkersStatuses.list: object expected");t.list[n]=p.bin_proto.MessageMarkerStatus.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=p.bin_proto.MessageMarkerStatus.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Messages=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.Message.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Messages;e.pos<n;){var o=e.uint32();o>>>3==1?(r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.Message.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.Message.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Messages)return e;var t=new p.bin_proto.Messages;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Messages.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Messages.list: object expected");t.list[n]=p.bin_proto.Message.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=p.bin_proto.Message.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageIds=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length){t.uint32(10).fork();for(var n=0;n<e.list.length;++n)t.int64(e.list[n]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageIds;e.pos<n;){var o=e.uint32();if(o>>>3==1)if(r.list&&r.list.length||(r.list=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.list.push(e.int64());else r.list.push(e.int64());else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t)if(!(d.isInteger(e.list[t])||e.list[t]&&d.isInteger(e.list[t].low)&&d.isInteger(e.list[t].high)))return"list: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageIds)return e;var t=new p.bin_proto.MessageIds;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.MessageIds.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n)d.Long?(t.list[n]=d.Long.fromValue(e.list[n])).unsigned=!1:"string"==typeof e.list[n]?t.list[n]=parseInt(e.list[n],10):"number"==typeof e.list[n]?t.list[n]=e.list[n]:"object"==typeof e.list[n]&&(t.list[n]=new d.LongBits(e.list[n].low>>>0,e.list[n].high>>>0).toNumber())}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)"number"==typeof e.list[r]?n.list[r]=t.longs===String?String(e.list[r]):e.list[r]:n.list[r]=t.longs===String?d.Long.prototype.toString.call(e.list[r]):t.longs===Number?new d.LongBits(e.list[r].low>>>0,e.list[r].high>>>0).toNumber():e.list[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Attachments=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)p.bin_proto.Attachment.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Attachments;e.pos<n;){var o=e.uint32();o>>>3==1?(r.list&&r.list.length||(r.list=[]),r.list.push(p.bin_proto.Attachment.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=p.bin_proto.Attachment.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Attachments)return e;var t=new p.bin_proto.Attachments;if(e.list){if(!Array.isArray(e.list))throw TypeError(".bin_proto.Attachments.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!=typeof e.list[n])throw TypeError(".bin_proto.Attachments.list: object expected");t.list[n]=p.bin_proto.Attachment.fromObject(e.list[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var r=0;r<e.list.length;++r)n.list[r]=p.bin_proto.Attachment.toObject(e.list[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageEvent=function(){var e={},t=Object.create(e);return t[e[0]="SEARCH"]=0,t[e[1]="UPDATE"]=1,t[e[2]="ADD_REACTION"]=2,t[e[3]="DELETE_REACTION"]=3,t[e[4]="UPDATE_REACTION"]=4,t[e[5]="ATTACHMENTS"]=5,t[e[6]="REACTIONS"]=6,t[e[7]="THREADS"]=7,t[e[8]="SEARCH_IN_THREAD"]=8,t[e[9]="SAVE"]=9,t[e[10]="UN_SAVE"]=10,t[e[11]="MARKERS"]=11,t[e[12]="GET_MESSAGES_BY_IDS"]=12,t[e[13]="UNREAD_MENTIONS"]=13,t[e[14]="UNREAD_REACTIONS"]=14,t}(),i.MessageQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id="",e.prototype.event=0,e.prototype.channelId="",e.prototype.search=null,e.prototype.messages=null,e.prototype.attachments=null,e.prototype.threads=null,e.prototype.messageIds=null,Object.defineProperty(e.prototype,"data",{get:d.oneOfGetter(t=["messages","attachments","threads","messageIds"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(16).int32(e.event),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(26).string(e.channelId),null!=e.search&&Object.hasOwnProperty.call(e,"search")&&p.bin_proto.MessageQuery.SearchOpts.encode(e.search,t.uint32(34).fork()).ldelim(),null!=e.messages&&Object.hasOwnProperty.call(e,"messages")&&p.bin_proto.Messages.encode(e.messages,t.uint32(42).fork()).ldelim(),null!=e.attachments&&Object.hasOwnProperty.call(e,"attachments")&&p.bin_proto.Attachments.encode(e.attachments,t.uint32(50).fork()).ldelim(),null!=e.threads&&Object.hasOwnProperty.call(e,"threads")&&p.bin_proto.Threads.encode(e.threads,t.uint32(58).fork()).ldelim(),null!=e.messageIds&&Object.hasOwnProperty.call(e,"messageIds")&&p.bin_proto.MessageIds.encode(e.messageIds,t.uint32(66).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.event=e.int32();break;case 3:r.channelId=e.string();break;case 4:r.search=p.bin_proto.MessageQuery.SearchOpts.decode(e,e.uint32());break;case 5:r.messages=p.bin_proto.Messages.decode(e,e.uint32());break;case 6:r.attachments=p.bin_proto.Attachments.decode(e,e.uint32());break;case 7:r.threads=p.bin_proto.Threads.decode(e,e.uint32());break;case 8:r.messageIds=p.bin_proto.MessageIds.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.event&&e.hasOwnProperty("event"))switch(e.event){default:return"event: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId))return"channelId: string expected";if(null!=e.search&&e.hasOwnProperty("search")&&(n=p.bin_proto.MessageQuery.SearchOpts.verify(e.search)))return"search."+n;if(null!=e.messages&&e.hasOwnProperty("messages")&&(t.data=1,n=p.bin_proto.Messages.verify(e.messages)))return"messages."+n;if(null!=e.attachments&&e.hasOwnProperty("attachments")){if(1===t.data)return"data: multiple values";if(t.data=1,n=p.bin_proto.Attachments.verify(e.attachments))return"attachments."+n}if(null!=e.threads&&e.hasOwnProperty("threads")){if(1===t.data)return"data: multiple values";if(t.data=1,n=p.bin_proto.Threads.verify(e.threads))return"threads."+n}if(null!=e.messageIds&&e.hasOwnProperty("messageIds")){if(1===t.data)return"data: multiple values";var n;if(t.data=1,n=p.bin_proto.MessageIds.verify(e.messageIds))return"messageIds."+n}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageQuery)return e;var t=new p.bin_proto.MessageQuery;switch(null!=e.id&&(t.id=String(e.id)),e.event){case"SEARCH":case 0:t.event=0;break;case"UPDATE":case 1:t.event=1;break;case"ADD_REACTION":case 2:t.event=2;break;case"DELETE_REACTION":case 3:t.event=3;break;case"UPDATE_REACTION":case 4:t.event=4;break;case"ATTACHMENTS":case 5:t.event=5;break;case"REACTIONS":case 6:t.event=6;break;case"THREADS":case 7:t.event=7;break;case"SEARCH_IN_THREAD":case 8:t.event=8;break;case"SAVE":case 9:t.event=9;break;case"UN_SAVE":case 10:t.event=10;break;case"MARKERS":case 11:t.event=11;break;case"GET_MESSAGES_BY_IDS":case 12:t.event=12;break;case"UNREAD_MENTIONS":case 13:t.event=13;break;case"UNREAD_REACTIONS":case 14:t.event=14}if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.search){if("object"!=typeof e.search)throw TypeError(".bin_proto.MessageQuery.search: object expected");t.search=p.bin_proto.MessageQuery.SearchOpts.fromObject(e.search)}if(null!=e.messages){if("object"!=typeof e.messages)throw TypeError(".bin_proto.MessageQuery.messages: object expected");t.messages=p.bin_proto.Messages.fromObject(e.messages)}if(null!=e.attachments){if("object"!=typeof e.attachments)throw TypeError(".bin_proto.MessageQuery.attachments: object expected");t.attachments=p.bin_proto.Attachments.fromObject(e.attachments)}if(null!=e.threads){if("object"!=typeof e.threads)throw TypeError(".bin_proto.MessageQuery.threads: object expected");t.threads=p.bin_proto.Threads.fromObject(e.threads)}if(null!=e.messageIds){if("object"!=typeof e.messageIds)throw TypeError(".bin_proto.MessageQuery.messageIds: object expected");t.messageIds=p.bin_proto.MessageIds.fromObject(e.messageIds)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.event=t.enums===String?"SEARCH":0,n.channelId="",n.search=null),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.event&&e.hasOwnProperty("event")&&(n.event=t.enums===String?p.bin_proto.MessageEvent[e.event]:e.event),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.search&&e.hasOwnProperty("search")&&(n.search=p.bin_proto.MessageQuery.SearchOpts.toObject(e.search,t)),null!=e.messages&&e.hasOwnProperty("messages")&&(n.messages=p.bin_proto.Messages.toObject(e.messages,t),t.oneofs&&(n.data="messages")),null!=e.attachments&&e.hasOwnProperty("attachments")&&(n.attachments=p.bin_proto.Attachments.toObject(e.attachments,t),t.oneofs&&(n.data="attachments")),null!=e.threads&&e.hasOwnProperty("threads")&&(n.threads=p.bin_proto.Threads.toObject(e.threads,t),t.oneofs&&(n.data="threads")),null!=e.messageIds&&e.hasOwnProperty("messageIds")&&(n.messageIds=p.bin_proto.MessageIds.toObject(e.messageIds,t),t.oneofs&&(n.data="messageIds")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Direction=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="NEXT"]=1,t[e[2]="PREVIOUS"]=2,t[e[3]="NEAR"]=3,t}(),e.SearchOpts=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.count=0,e.prototype.direction=0,e.prototype.hasNext=!1,e.prototype.msgId=null,e.prototype.timestamp=null,e.prototype.type="",e.prototype.filter=null,Object.defineProperty(e.prototype,"sortby",{get:d.oneOfGetter(t=["msgId","timestamp"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(8).int32(e.count),null!=e.direction&&Object.hasOwnProperty.call(e,"direction")&&t.uint32(16).int32(e.direction),null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(24).bool(e.hasNext),null!=e.msgId&&Object.hasOwnProperty.call(e,"msgId")&&t.uint32(32).uint64(e.msgId),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(40).int64(e.timestamp),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),null!=e.filter&&Object.hasOwnProperty.call(e,"filter")&&p.bin_proto.MessageSearchQuery.encode(e.filter,t.uint32(58).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageQuery.SearchOpts;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.count=e.int32();break;case 2:r.direction=e.int32();break;case 3:r.hasNext=e.bool();break;case 4:r.msgId=e.uint64();break;case 5:r.timestamp=e.int64();break;case 6:r.type=e.string();break;case 7:r.filter=p.bin_proto.MessageSearchQuery.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count))return"count: integer expected";if(null!=e.direction&&e.hasOwnProperty("direction"))switch(e.direction){default:return"direction: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext)return"hasNext: boolean expected";if(null!=e.msgId&&e.hasOwnProperty("msgId")&&(t.sortby=1,!(d.isInteger(e.msgId)||e.msgId&&d.isInteger(e.msgId.low)&&d.isInteger(e.msgId.high))))return"msgId: integer|Long expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){if(1===t.sortby)return"sortby: multiple values";if(t.sortby=1,!(d.isInteger(e.timestamp)||e.timestamp&&d.isInteger(e.timestamp.low)&&d.isInteger(e.timestamp.high)))return"timestamp: integer|Long expected"}if(null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type))return"type: string expected";if(null!=e.filter&&e.hasOwnProperty("filter")){var n=p.bin_proto.MessageSearchQuery.verify(e.filter);if(n)return"filter."+n}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageQuery.SearchOpts)return e;var t=new p.bin_proto.MessageQuery.SearchOpts;switch(null!=e.count&&(t.count=0|e.count),e.direction){case"NONE":case 0:t.direction=0;break;case"NEXT":case 1:t.direction=1;break;case"PREVIOUS":case 2:t.direction=2;break;case"NEAR":case 3:t.direction=3}if(null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),null!=e.msgId&&(d.Long?(t.msgId=d.Long.fromValue(e.msgId)).unsigned=!0:"string"==typeof e.msgId?t.msgId=parseInt(e.msgId,10):"number"==typeof e.msgId?t.msgId=e.msgId:"object"==typeof e.msgId&&(t.msgId=new d.LongBits(e.msgId.low>>>0,e.msgId.high>>>0).toNumber(!0))),null!=e.timestamp&&(d.Long?(t.timestamp=d.Long.fromValue(e.timestamp)).unsigned=!1:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new d.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),null!=e.type&&(t.type=String(e.type)),null!=e.filter){if("object"!=typeof e.filter)throw TypeError(".bin_proto.MessageQuery.SearchOpts.filter: object expected");t.filter=p.bin_proto.MessageSearchQuery.fromObject(e.filter)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.count=0,n.direction=t.enums===String?"NONE":0,n.hasNext=!1,n.type="",n.filter=null),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.direction&&e.hasOwnProperty("direction")&&(n.direction=t.enums===String?p.bin_proto.MessageQuery.Direction[e.direction]:e.direction),null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(n.hasNext=e.hasNext),null!=e.msgId&&e.hasOwnProperty("msgId")&&("number"==typeof e.msgId?n.msgId=t.longs===String?String(e.msgId):e.msgId:n.msgId=t.longs===String?d.Long.prototype.toString.call(e.msgId):t.longs===Number?new d.LongBits(e.msgId.low>>>0,e.msgId.high>>>0).toNumber(!0):e.msgId,t.oneofs&&(n.sortby="msgId")),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?n.timestamp=t.longs===String?String(e.timestamp):e.timestamp:n.timestamp=t.longs===String?d.Long.prototype.toString.call(e.timestamp):t.longs===Number?new d.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp,t.oneofs&&(n.sortby="timestamp")),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.filter&&e.hasOwnProperty("filter")&&(n.filter=p.bin_proto.MessageSearchQuery.toObject(e.filter,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),e}(),i.MessageAction=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.from=null,e.prototype.event=0,e.prototype.messages=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&p.bin_proto.User.encode(e.from,t.uint32(18).fork()).ldelim(),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(24).int32(e.event),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)p.bin_proto.Message.encode(e.messages[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageAction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.from=p.bin_proto.User.decode(e,e.uint32());break;case 3:r.event=e.int32();break;case 4:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(p.bin_proto.Message.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.from&&e.hasOwnProperty("from")&&(n=p.bin_proto.User.verify(e.from)))return"from."+n;if(null!=e.event&&e.hasOwnProperty("event"))switch(e.event){default:return"event: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:}if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n;if(n=p.bin_proto.Message.verify(e.messages[t]))return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageAction)return e;var t=new p.bin_proto.MessageAction;if(null!=e.id&&(t.id=String(e.id)),null!=e.from){if("object"!=typeof e.from)throw TypeError(".bin_proto.MessageAction.from: object expected");t.from=p.bin_proto.User.fromObject(e.from)}switch(e.event){case"SEARCH":case 0:t.event=0;break;case"UPDATE":case 1:t.event=1;break;case"ADD_REACTION":case 2:t.event=2;break;case"DELETE_REACTION":case 3:t.event=3;break;case"UPDATE_REACTION":case 4:t.event=4;break;case"ATTACHMENTS":case 5:t.event=5;break;case"REACTIONS":case 6:t.event=6;break;case"THREADS":case 7:t.event=7;break;case"SEARCH_IN_THREAD":case 8:t.event=8;break;case"SAVE":case 9:t.event=9;break;case"UN_SAVE":case 10:t.event=10;break;case"MARKERS":case 11:t.event=11;break;case"GET_MESSAGES_BY_IDS":case 12:t.event=12;break;case"UNREAD_MENTIONS":case 13:t.event=13;break;case"UNREAD_REACTIONS":case 14:t.event=14}if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.MessageAction.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.MessageAction.messages: object expected");t.messages[n]=p.bin_proto.Message.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),t.defaults&&(n.id="",n.from=null,n.event=t.enums===String?"SEARCH":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.from&&e.hasOwnProperty("from")&&(n.from=p.bin_proto.User.toObject(e.from,t)),null!=e.event&&e.hasOwnProperty("event")&&(n.event=t.enums===String?p.bin_proto.MessageEvent[e.event]:e.event),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=p.bin_proto.Message.toObject(e.messages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageMarkerQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.messageId=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.marker="",e.prototype.limit=0,e.prototype.nextToken="",e.prototype.result=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(16).int64(e.messageId),null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(26).string(e.marker),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(32).int32(e.limit),null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(42).string(e.nextToken),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&p.bin_proto.MessageMarkerResult.encode(e.result,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageMarkerQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.messageId=e.int64();break;case 3:r.marker=e.string();break;case 4:r.limit=e.int32();break;case 5:r.nextToken=e.string();break;case 6:r.result=p.bin_proto.MessageMarkerResult.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.messageId&&e.hasOwnProperty("messageId")&&!(d.isInteger(e.messageId)||e.messageId&&d.isInteger(e.messageId.low)&&d.isInteger(e.messageId.high)))return"messageId: integer|Long expected";if(null!=e.marker&&e.hasOwnProperty("marker")&&!d.isString(e.marker))return"marker: string expected";if(null!=e.limit&&e.hasOwnProperty("limit")&&!d.isInteger(e.limit))return"limit: integer expected";if(null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken))return"nextToken: string expected";if(null!=e.result&&e.hasOwnProperty("result")){var t=p.bin_proto.MessageMarkerResult.verify(e.result);if(t)return"result."+t}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageMarkerQuery)return e;var t=new p.bin_proto.MessageMarkerQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.messageId&&(d.Long?(t.messageId=d.Long.fromValue(e.messageId)).unsigned=!1:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber())),null!=e.marker&&(t.marker=String(e.marker)),null!=e.limit&&(t.limit=0|e.limit),null!=e.nextToken&&(t.nextToken=String(e.nextToken)),null!=e.result){if("object"!=typeof e.result)throw TypeError(".bin_proto.MessageMarkerQuery.result: object expected");t.result=p.bin_proto.MessageMarkerResult.fromObject(e.result)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.id="",d.Long){var r=new d.Long(0,0,!1);n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.messageId=t.longs===String?"0":0;n.marker="",n.limit=0,n.nextToken="",n.result=null}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?d.Long.prototype.toString.call(e.messageId):t.longs===Number?new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber():e.messageId),null!=e.marker&&e.hasOwnProperty("marker")&&(n.marker=e.marker),null!=e.limit&&e.hasOwnProperty("limit")&&(n.limit=e.limit),null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(n.nextToken=e.nextToken),null!=e.result&&e.hasOwnProperty("result")&&(n.result=p.bin_proto.MessageMarkerResult.toObject(e.result,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageMarkerResult=function(){function e(e){if(this.markers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.hasNext=!1,e.prototype.markers=d.emptyArray,e.prototype.nextToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(16).bool(e.hasNext),null!=e.markers&&e.markers.length)for(var n=0;n<e.markers.length;++n)p.bin_proto.MessageMarker.encode(e.markers[n],t.uint32(26).fork()).ldelim();return null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(34).string(e.nextToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageMarkerResult;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.hasNext=e.bool();break;case 3:r.markers&&r.markers.length||(r.markers=[]),r.markers.push(p.bin_proto.MessageMarker.decode(e,e.uint32()));break;case 4:r.nextToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext)return"hasNext: boolean expected";if(null!=e.markers&&e.hasOwnProperty("markers")){if(!Array.isArray(e.markers))return"markers: array expected";for(var t=0;t<e.markers.length;++t){var n=p.bin_proto.MessageMarker.verify(e.markers[t]);if(n)return"markers."+n}}return null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken)?"nextToken: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageMarkerResult)return e;var t=new p.bin_proto.MessageMarkerResult;if(null!=e.id&&(t.id=String(e.id)),null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),e.markers){if(!Array.isArray(e.markers))throw TypeError(".bin_proto.MessageMarkerResult.markers: array expected");t.markers=[];for(var n=0;n<e.markers.length;++n){if("object"!=typeof e.markers[n])throw TypeError(".bin_proto.MessageMarkerResult.markers: object expected");t.markers[n]=p.bin_proto.MessageMarker.fromObject(e.markers[n])}}return null!=e.nextToken&&(t.nextToken=String(e.nextToken)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.markers=[]),t.defaults&&(n.id="",n.hasNext=!1,n.nextToken=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(n.hasNext=e.hasNext),e.markers&&e.markers.length){n.markers=[];for(var r=0;r<e.markers.length;++r)n.markers[r]=p.bin_proto.MessageMarker.toObject(e.markers[r],t)}return null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(n.nextToken=e.nextToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageMarker=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.user=null,e.prototype.time=d.Long?d.Long.fromBits(0,0,!0):0,e.prototype.messageId=d.Long?d.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&p.bin_proto.User.encode(e.user,t.uint32(18).fork()).ldelim(),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(24).uint64(e.time),null!=e.messageId&&Object.hasOwnProperty.call(e,"messageId")&&t.uint32(32).uint64(e.messageId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageMarker;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.user=p.bin_proto.User.decode(e,e.uint32());break;case 3:r.time=e.uint64();break;case 4:r.messageId=e.uint64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.user&&e.hasOwnProperty("user")){var t=p.bin_proto.User.verify(e.user);if(t)return"user."+t}return null!=e.time&&e.hasOwnProperty("time")&&!(d.isInteger(e.time)||e.time&&d.isInteger(e.time.low)&&d.isInteger(e.time.high))?"time: integer|Long expected":null!=e.messageId&&e.hasOwnProperty("messageId")&&!(d.isInteger(e.messageId)||e.messageId&&d.isInteger(e.messageId.low)&&d.isInteger(e.messageId.high))?"messageId: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageMarker)return e;var t=new p.bin_proto.MessageMarker;if(null!=e.name&&(t.name=String(e.name)),null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.MessageMarker.user: object expected");t.user=p.bin_proto.User.fromObject(e.user)}return null!=e.time&&(d.Long?(t.time=d.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new d.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),null!=e.messageId&&(d.Long?(t.messageId=d.Long.fromValue(e.messageId)).unsigned=!0:"string"==typeof e.messageId?t.messageId=parseInt(e.messageId,10):"number"==typeof e.messageId?t.messageId=e.messageId:"object"==typeof e.messageId&&(t.messageId=new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.name="",n.user=null,d.Long){var r=new d.Long(0,0,!0);n.time=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.time=t.longs===String?"0":0;d.Long?(r=new d.Long(0,0,!0),n.messageId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.messageId=t.longs===String?"0":0}return null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.user&&e.hasOwnProperty("user")&&(n.user=p.bin_proto.User.toObject(e.user,t)),null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?d.Long.prototype.toString.call(e.time):t.longs===Number?new d.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),null!=e.messageId&&e.hasOwnProperty("messageId")&&("number"==typeof e.messageId?n.messageId=t.longs===String?String(e.messageId):e.messageId:n.messageId=t.longs===String?d.Long.prototype.toString.call(e.messageId):t.longs===Number?new d.LongBits(e.messageId.low>>>0,e.messageId.high>>>0).toNumber(!0):e.messageId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.SavedMessageQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.channelId="",e.prototype.index=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(24).int32(e.index),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(32).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.SavedMessageQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.channelId=e.string();break;case 3:r.index=e.int32();break;case 4:r.count=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id)?"id: string expected":null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId)?"channelId: string expected":null!=e.index&&e.hasOwnProperty("index")&&!d.isInteger(e.index)?"index: integer expected":null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.SavedMessageQuery)return e;var t=new p.bin_proto.SavedMessageQuery;return null!=e.id&&(t.id=String(e.id)),null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.index&&(t.index=0|e.index),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.channelId="",n.index=0,n.count=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.SavedMessageQueryResult=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.messages=d.emptyArray,e.prototype.hasNext=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)p.bin_proto.Message.encode(e.messages[n],t.uint32(18).fork()).ldelim();return null!=e.hasNext&&Object.hasOwnProperty.call(e,"hasNext")&&t.uint32(24).bool(e.hasNext),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.SavedMessageQueryResult;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(p.bin_proto.Message.decode(e,e.uint32()));break;case 3:r.hasNext=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=p.bin_proto.Message.verify(e.messages[t]);if(n)return"messages."+n}}return null!=e.hasNext&&e.hasOwnProperty("hasNext")&&"boolean"!=typeof e.hasNext?"hasNext: boolean expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.SavedMessageQueryResult)return e;var t=new p.bin_proto.SavedMessageQueryResult;if(null!=e.id&&(t.id=String(e.id)),e.messages){if(!Array.isArray(e.messages))throw TypeError(".bin_proto.SavedMessageQueryResult.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".bin_proto.SavedMessageQueryResult.messages: object expected");t.messages[n]=p.bin_proto.Message.fromObject(e.messages[n])}}return null!=e.hasNext&&(t.hasNext=Boolean(e.hasNext)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),t.defaults&&(n.id="",n.hasNext=!1),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=p.bin_proto.Message.toObject(e.messages[r],t)}return null!=e.hasNext&&e.hasOwnProperty("hasNext")&&(n.hasNext=e.hasNext),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageLinkOGQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.url="",e.prototype.og=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(18).string(e.url),null!=e.og&&Object.hasOwnProperty.call(e,"og")&&p.bin_proto.OpenGraph.encode(e.og,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageLinkOGQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.url=e.string();break;case 3:r.og=p.bin_proto.OpenGraph.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.url&&e.hasOwnProperty("url")&&!d.isString(e.url))return"url: string expected";if(null!=e.og&&e.hasOwnProperty("og")){var t=p.bin_proto.OpenGraph.verify(e.og);if(t)return"og."+t}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageLinkOGQuery)return e;var t=new p.bin_proto.MessageLinkOGQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.url&&(t.url=String(e.url)),null!=e.og){if("object"!=typeof e.og)throw TypeError(".bin_proto.MessageLinkOGQuery.og: object expected");t.og=p.bin_proto.OpenGraph.fromObject(e.og)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.url="",n.og=null),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),null!=e.og&&e.hasOwnProperty("og")&&(n.og=p.bin_proto.OpenGraph.toObject(e.og,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.OpenGraph=function(){function e(e){if(this.image=[],this.audio=[],this.localeAlternate=[],this.video=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.title="",e.prototype.type="",e.prototype.image=d.emptyArray,e.prototype.url="",e.prototype.audio=d.emptyArray,e.prototype.description="",e.prototype.locale="",e.prototype.localeAlternate=d.emptyArray,e.prototype.siteName="",e.prototype.video=d.emptyArray,e.prototype.favicon=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.title&&Object.hasOwnProperty.call(e,"title")&&t.uint32(10).string(e.title),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.image&&e.image.length)for(var n=0;n<e.image.length;++n)p.bin_proto.OGImage.encode(e.image[n],t.uint32(26).fork()).ldelim();if(null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(34).string(e.url),null!=e.audio&&e.audio.length)for(n=0;n<e.audio.length;++n)p.bin_proto.OGAudio.encode(e.audio[n],t.uint32(42).fork()).ldelim();if(null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(50).string(e.description),null!=e.locale&&Object.hasOwnProperty.call(e,"locale")&&t.uint32(58).string(e.locale),null!=e.localeAlternate&&e.localeAlternate.length)for(n=0;n<e.localeAlternate.length;++n)t.uint32(66).string(e.localeAlternate[n]);if(null!=e.siteName&&Object.hasOwnProperty.call(e,"siteName")&&t.uint32(74).string(e.siteName),null!=e.video&&e.video.length)for(n=0;n<e.video.length;++n)p.bin_proto.OGVideo.encode(e.video[n],t.uint32(82).fork()).ldelim();return null!=e.favicon&&Object.hasOwnProperty.call(e,"favicon")&&p.bin_proto.OGFavicon.encode(e.favicon,t.uint32(90).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.OpenGraph;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.title=e.string();break;case 2:r.type=e.string();break;case 3:r.image&&r.image.length||(r.image=[]),r.image.push(p.bin_proto.OGImage.decode(e,e.uint32()));break;case 4:r.url=e.string();break;case 5:r.audio&&r.audio.length||(r.audio=[]),r.audio.push(p.bin_proto.OGAudio.decode(e,e.uint32()));break;case 6:r.description=e.string();break;case 7:r.locale=e.string();break;case 8:r.localeAlternate&&r.localeAlternate.length||(r.localeAlternate=[]),r.localeAlternate.push(e.string());break;case 9:r.siteName=e.string();break;case 10:r.video&&r.video.length||(r.video=[]),r.video.push(p.bin_proto.OGVideo.decode(e,e.uint32()));break;case 11:r.favicon=p.bin_proto.OGFavicon.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.title&&e.hasOwnProperty("title")&&!d.isString(e.title))return"title: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type))return"type: string expected";if(null!=e.image&&e.hasOwnProperty("image")){if(!Array.isArray(e.image))return"image: array expected";for(var t=0;t<e.image.length;++t)if(n=p.bin_proto.OGImage.verify(e.image[t]))return"image."+n}if(null!=e.url&&e.hasOwnProperty("url")&&!d.isString(e.url))return"url: string expected";if(null!=e.audio&&e.hasOwnProperty("audio")){if(!Array.isArray(e.audio))return"audio: array expected";for(t=0;t<e.audio.length;++t)if(n=p.bin_proto.OGAudio.verify(e.audio[t]))return"audio."+n}if(null!=e.description&&e.hasOwnProperty("description")&&!d.isString(e.description))return"description: string expected";if(null!=e.locale&&e.hasOwnProperty("locale")&&!d.isString(e.locale))return"locale: string expected";if(null!=e.localeAlternate&&e.hasOwnProperty("localeAlternate")){if(!Array.isArray(e.localeAlternate))return"localeAlternate: array expected";for(t=0;t<e.localeAlternate.length;++t)if(!d.isString(e.localeAlternate[t]))return"localeAlternate: string[] expected"}if(null!=e.siteName&&e.hasOwnProperty("siteName")&&!d.isString(e.siteName))return"siteName: string expected";if(null!=e.video&&e.hasOwnProperty("video")){if(!Array.isArray(e.video))return"video: array expected";for(t=0;t<e.video.length;++t)if(n=p.bin_proto.OGVideo.verify(e.video[t]))return"video."+n}var n;return null!=e.favicon&&e.hasOwnProperty("favicon")&&(n=p.bin_proto.OGFavicon.verify(e.favicon))?"favicon."+n:null},e.fromObject=function(e){if(e instanceof p.bin_proto.OpenGraph)return e;var t=new p.bin_proto.OpenGraph;if(null!=e.title&&(t.title=String(e.title)),null!=e.type&&(t.type=String(e.type)),e.image){if(!Array.isArray(e.image))throw TypeError(".bin_proto.OpenGraph.image: array expected");t.image=[];for(var n=0;n<e.image.length;++n){if("object"!=typeof e.image[n])throw TypeError(".bin_proto.OpenGraph.image: object expected");t.image[n]=p.bin_proto.OGImage.fromObject(e.image[n])}}if(null!=e.url&&(t.url=String(e.url)),e.audio){if(!Array.isArray(e.audio))throw TypeError(".bin_proto.OpenGraph.audio: array expected");for(t.audio=[],n=0;n<e.audio.length;++n){if("object"!=typeof e.audio[n])throw TypeError(".bin_proto.OpenGraph.audio: object expected");t.audio[n]=p.bin_proto.OGAudio.fromObject(e.audio[n])}}if(null!=e.description&&(t.description=String(e.description)),null!=e.locale&&(t.locale=String(e.locale)),e.localeAlternate){if(!Array.isArray(e.localeAlternate))throw TypeError(".bin_proto.OpenGraph.localeAlternate: array expected");for(t.localeAlternate=[],n=0;n<e.localeAlternate.length;++n)t.localeAlternate[n]=String(e.localeAlternate[n])}if(null!=e.siteName&&(t.siteName=String(e.siteName)),e.video){if(!Array.isArray(e.video))throw TypeError(".bin_proto.OpenGraph.video: array expected");for(t.video=[],n=0;n<e.video.length;++n){if("object"!=typeof e.video[n])throw TypeError(".bin_proto.OpenGraph.video: object expected");t.video[n]=p.bin_proto.OGVideo.fromObject(e.video[n])}}if(null!=e.favicon){if("object"!=typeof e.favicon)throw TypeError(".bin_proto.OpenGraph.favicon: object expected");t.favicon=p.bin_proto.OGFavicon.fromObject(e.favicon)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.image=[],n.audio=[],n.localeAlternate=[],n.video=[]),t.defaults&&(n.title="",n.type="",n.url="",n.description="",n.locale="",n.siteName="",n.favicon=null),null!=e.title&&e.hasOwnProperty("title")&&(n.title=e.title),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),e.image&&e.image.length){n.image=[];for(var r=0;r<e.image.length;++r)n.image[r]=p.bin_proto.OGImage.toObject(e.image[r],t)}if(null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),e.audio&&e.audio.length)for(n.audio=[],r=0;r<e.audio.length;++r)n.audio[r]=p.bin_proto.OGAudio.toObject(e.audio[r],t);if(null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),null!=e.locale&&e.hasOwnProperty("locale")&&(n.locale=e.locale),e.localeAlternate&&e.localeAlternate.length)for(n.localeAlternate=[],r=0;r<e.localeAlternate.length;++r)n.localeAlternate[r]=e.localeAlternate[r];if(null!=e.siteName&&e.hasOwnProperty("siteName")&&(n.siteName=e.siteName),e.video&&e.video.length)for(n.video=[],r=0;r<e.video.length;++r)n.video[r]=p.bin_proto.OGVideo.toObject(e.video[r],t);return null!=e.favicon&&e.hasOwnProperty("favicon")&&(n.favicon=p.bin_proto.OGFavicon.toObject(e.favicon,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.OGImage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.url="",e.prototype.secureUrl="",e.prototype.type="",e.prototype.width=0,e.prototype.height=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(10).string(e.url),null!=e.secureUrl&&Object.hasOwnProperty.call(e,"secureUrl")&&t.uint32(18).string(e.secureUrl),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(26).string(e.type),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(32).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(40).int32(e.height),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.OGImage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.url=e.string();break;case 2:r.secureUrl=e.string();break;case 3:r.type=e.string();break;case 4:r.width=e.int32();break;case 5:r.height=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.url&&e.hasOwnProperty("url")&&!d.isString(e.url)?"url: string expected":null!=e.secureUrl&&e.hasOwnProperty("secureUrl")&&!d.isString(e.secureUrl)?"secureUrl: string expected":null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type)?"type: string expected":null!=e.width&&e.hasOwnProperty("width")&&!d.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!d.isInteger(e.height)?"height: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.OGImage)return e;var t=new p.bin_proto.OGImage;return null!=e.url&&(t.url=String(e.url)),null!=e.secureUrl&&(t.secureUrl=String(e.secureUrl)),null!=e.type&&(t.type=String(e.type)),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.url="",n.secureUrl="",n.type="",n.width=0,n.height=0),null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),null!=e.secureUrl&&e.hasOwnProperty("secureUrl")&&(n.secureUrl=e.secureUrl),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.OGVideo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.url="",e.prototype.secureUrl="",e.prototype.type="",e.prototype.width=0,e.prototype.height=0,e.prototype.duration=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(10).string(e.url),null!=e.secureUrl&&Object.hasOwnProperty.call(e,"secureUrl")&&t.uint32(18).string(e.secureUrl),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(26).string(e.type),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(32).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(40).int32(e.height),null!=e.duration&&Object.hasOwnProperty.call(e,"duration")&&t.uint32(48).int32(e.duration),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.OGVideo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.url=e.string();break;case 2:r.secureUrl=e.string();break;case 3:r.type=e.string();break;case 4:r.width=e.int32();break;case 5:r.height=e.int32();break;case 6:r.duration=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.url&&e.hasOwnProperty("url")&&!d.isString(e.url)?"url: string expected":null!=e.secureUrl&&e.hasOwnProperty("secureUrl")&&!d.isString(e.secureUrl)?"secureUrl: string expected":null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type)?"type: string expected":null!=e.width&&e.hasOwnProperty("width")&&!d.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!d.isInteger(e.height)?"height: integer expected":null!=e.duration&&e.hasOwnProperty("duration")&&!d.isInteger(e.duration)?"duration: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.OGVideo)return e;var t=new p.bin_proto.OGVideo;return null!=e.url&&(t.url=String(e.url)),null!=e.secureUrl&&(t.secureUrl=String(e.secureUrl)),null!=e.type&&(t.type=String(e.type)),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.duration&&(t.duration=0|e.duration),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.url="",n.secureUrl="",n.type="",n.width=0,n.height=0,n.duration=0),null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),null!=e.secureUrl&&e.hasOwnProperty("secureUrl")&&(n.secureUrl=e.secureUrl),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.duration&&e.hasOwnProperty("duration")&&(n.duration=e.duration),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.OGAudio=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.url="",e.prototype.secureUrl="",e.prototype.type="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(10).string(e.url),null!=e.secureUrl&&Object.hasOwnProperty.call(e,"secureUrl")&&t.uint32(18).string(e.secureUrl),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(26).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.OGAudio;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.url=e.string();break;case 2:r.secureUrl=e.string();break;case 3:r.type=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.url&&e.hasOwnProperty("url")&&!d.isString(e.url)?"url: string expected":null!=e.secureUrl&&e.hasOwnProperty("secureUrl")&&!d.isString(e.secureUrl)?"secureUrl: string expected":null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type)?"type: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.OGAudio)return e;var t=new p.bin_proto.OGAudio;return null!=e.url&&(t.url=String(e.url)),null!=e.secureUrl&&(t.secureUrl=String(e.secureUrl)),null!=e.type&&(t.type=String(e.type)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.url="",n.secureUrl="",n.type=""),null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),null!=e.secureUrl&&e.hasOwnProperty("secureUrl")&&(n.secureUrl=e.secureUrl),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.OGFavicon=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.url="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(10).string(e.url),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.OGFavicon;e.pos<n;){var o=e.uint32();o>>>3==1?r.url=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.url&&e.hasOwnProperty("url")&&!d.isString(e.url)?"url: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.OGFavicon)return e;var t=new p.bin_proto.OGFavicon;return null!=e.url&&(t.url=String(e.url)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.url=""),null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.MessageFilter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.word="",e.prototype.op=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.word&&Object.hasOwnProperty.call(e,"word")&&t.uint32(10).string(e.word),null!=e.op&&Object.hasOwnProperty.call(e,"op")&&t.uint32(16).int32(e.op),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageFilter;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.word=e.string();break;case 2:r.op=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.word&&e.hasOwnProperty("word")&&!d.isString(e.word))return"word: string expected";if(null!=e.op&&e.hasOwnProperty("op"))switch(e.op){default:return"op: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageFilter)return e;var t=new p.bin_proto.MessageFilter;switch(null!=e.word&&(t.word=String(e.word)),e.op){case"NONE":case 0:t.op=0;break;case"CONTAINS":case 1:t.op=1;break;case"BEGINS":case 2:t.op=2;break;case"EQ":case 3:t.op=3;break;case"LT":case 4:t.op=4;break;case"LTE":case 5:t.op=5;break;case"GT":case 6:t.op=6;break;case"GTE":case 7:t.op=7;break;case"IN":case 8:t.op=8;break;case"BETWEEN":case 9:t.op=9}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.word="",n.op=t.enums===String?"NONE":0),null!=e.word&&e.hasOwnProperty("word")&&(n.word=e.word),null!=e.op&&e.hasOwnProperty("op")&&(n.op=t.enums===String?p.bin_proto.MessageFilter.Operator[e.op]:e.op),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Operator=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="CONTAINS"]=1,t[e[2]="BEGINS"]=2,t[e[3]="EQ"]=3,t[e[4]="LT"]=4,t[e[5]="LTE"]=5,t[e[6]="GT"]=6,t[e[7]="GTE"]=7,t[e[8]="IN"]=8,t[e[9]="BETWEEN"]=9,t}(),e}(),i.MessageSearchQuery=function(){function e(e){if(this.fields=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.channelId="",e.prototype.fields=d.emptyArray,e.prototype.count=0,e.prototype.nextToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.fields&&e.fields.length)for(var n=0;n<e.fields.length;++n)p.bin_proto.MessageSearchQuery.Fields.encode(e.fields[n],t.uint32(26).fork()).ldelim();return null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(40).int32(e.count),null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(74).string(e.nextToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageSearchQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.channelId=e.string();break;case 3:r.fields&&r.fields.length||(r.fields=[]),r.fields.push(p.bin_proto.MessageSearchQuery.Fields.decode(e,e.uint32()));break;case 5:r.count=e.int32();break;case 9:r.nextToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!d.isString(e.channelId))return"channelId: string expected";if(null!=e.fields&&e.hasOwnProperty("fields")){if(!Array.isArray(e.fields))return"fields: array expected";for(var t=0;t<e.fields.length;++t){var n=p.bin_proto.MessageSearchQuery.Fields.verify(e.fields[t]);if(n)return"fields."+n}}return null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count)?"count: integer expected":null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken)?"nextToken: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageSearchQuery)return e;var t=new p.bin_proto.MessageSearchQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.channelId&&(t.channelId=String(e.channelId)),e.fields){if(!Array.isArray(e.fields))throw TypeError(".bin_proto.MessageSearchQuery.fields: array expected");t.fields=[];for(var n=0;n<e.fields.length;++n){if("object"!=typeof e.fields[n])throw TypeError(".bin_proto.MessageSearchQuery.fields: object expected");t.fields[n]=p.bin_proto.MessageSearchQuery.Fields.fromObject(e.fields[n])}}return null!=e.count&&(t.count=0|e.count),null!=e.nextToken&&(t.nextToken=String(e.nextToken)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fields=[]),t.defaults&&(n.id="",n.channelId="",n.count=0,n.nextToken=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),e.fields&&e.fields.length){n.fields=[];for(var r=0;r<e.fields.length;++r)n.fields[r]=p.bin_proto.MessageSearchQuery.Fields.toObject(e.fields[r],t)}return null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(n.nextToken=e.nextToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.SearchQueryKey=function(){var e={},t=Object.create(e);return t[e[0]="BODY"]=0,t[e[1]="TYPE"]=1,t[e[2]="ATTACHMENT_TYPE"]=2,t}(),e.Fields=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key=0,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(8).int32(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&p.bin_proto.MessageFilter.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.MessageSearchQuery.Fields;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.int32();break;case 2:r.value=p.bin_proto.MessageFilter.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key"))switch(e.key){default:return"key: enum value expected";case 0:case 1:case 2:}if(null!=e.value&&e.hasOwnProperty("value")){var t=p.bin_proto.MessageFilter.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.MessageSearchQuery.Fields)return e;var t=new p.bin_proto.MessageSearchQuery.Fields;switch(e.key){case"BODY":case 0:t.key=0;break;case"TYPE":case 1:t.key=1;break;case"ATTACHMENT_TYPE":case 2:t.key=2}if(null!=e.value){if("object"!=typeof e.value)throw TypeError(".bin_proto.MessageSearchQuery.Fields.value: object expected");t.value=p.bin_proto.MessageFilter.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key=t.enums===String?"BODY":0,n.value=null),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.enums===String?p.bin_proto.MessageSearchQuery.SearchQueryKey[e.key]:e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=p.bin_proto.MessageFilter.toObject(e.value,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),e}(),i.Error=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.codeV1=0,e.prototype.messageV1="",e.prototype.idV1="",e.prototype.additionalDataV1=d.newBuffer([]),e.prototype.id="",e.prototype.type="",e.prototype.code=0,e.prototype.message="",e.prototype.traceId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.codeV1&&Object.hasOwnProperty.call(e,"codeV1")&&t.uint32(8).int32(e.codeV1),null!=e.messageV1&&Object.hasOwnProperty.call(e,"messageV1")&&t.uint32(18).string(e.messageV1),null!=e.idV1&&Object.hasOwnProperty.call(e,"idV1")&&t.uint32(26).string(e.idV1),null!=e.additionalDataV1&&Object.hasOwnProperty.call(e,"additionalDataV1")&&t.uint32(34).bytes(e.additionalDataV1),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(42).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(56).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(66).string(e.message),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(74).string(e.traceId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Error;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.codeV1=e.int32();break;case 2:r.messageV1=e.string();break;case 3:r.idV1=e.string();break;case 4:r.additionalDataV1=e.bytes();break;case 5:r.id=e.string();break;case 6:r.type=e.string();break;case 7:r.code=e.int32();break;case 8:r.message=e.string();break;case 9:r.traceId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.codeV1&&e.hasOwnProperty("codeV1")&&!d.isInteger(e.codeV1)?"codeV1: integer expected":null!=e.messageV1&&e.hasOwnProperty("messageV1")&&!d.isString(e.messageV1)?"messageV1: string expected":null!=e.idV1&&e.hasOwnProperty("idV1")&&!d.isString(e.idV1)?"idV1: string expected":null!=e.additionalDataV1&&e.hasOwnProperty("additionalDataV1")&&!(e.additionalDataV1&&"number"==typeof e.additionalDataV1.length||d.isString(e.additionalDataV1))?"additionalDataV1: buffer expected":null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id)?"id: string expected":null!=e.type&&e.hasOwnProperty("type")&&!d.isString(e.type)?"type: string expected":null!=e.code&&e.hasOwnProperty("code")&&!d.isInteger(e.code)?"code: integer expected":null!=e.message&&e.hasOwnProperty("message")&&!d.isString(e.message)?"message: string expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!d.isString(e.traceId)?"traceId: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Error)return e;var t=new p.bin_proto.Error;return null!=e.codeV1&&(t.codeV1=0|e.codeV1),null!=e.messageV1&&(t.messageV1=String(e.messageV1)),null!=e.idV1&&(t.idV1=String(e.idV1)),null!=e.additionalDataV1&&("string"==typeof e.additionalDataV1?d.base64.decode(e.additionalDataV1,t.additionalDataV1=d.newBuffer(d.base64.length(e.additionalDataV1)),0):e.additionalDataV1.length&&(t.additionalDataV1=e.additionalDataV1)),null!=e.id&&(t.id=String(e.id)),null!=e.type&&(t.type=String(e.type)),null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),null!=e.traceId&&(t.traceId=String(e.traceId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.codeV1=0,n.messageV1="",n.idV1="",t.bytes===String?n.additionalDataV1="":(n.additionalDataV1=[],t.bytes!==Array&&(n.additionalDataV1=d.newBuffer(n.additionalDataV1))),n.id="",n.type="",n.code=0,n.message="",n.traceId=""),null!=e.codeV1&&e.hasOwnProperty("codeV1")&&(n.codeV1=e.codeV1),null!=e.messageV1&&e.hasOwnProperty("messageV1")&&(n.messageV1=e.messageV1),null!=e.idV1&&e.hasOwnProperty("idV1")&&(n.idV1=e.idV1),null!=e.additionalDataV1&&e.hasOwnProperty("additionalDataV1")&&(n.additionalDataV1=t.bytes===String?d.base64.encode(e.additionalDataV1,0,e.additionalDataV1.length):t.bytes===Array?Array.prototype.slice.call(e.additionalDataV1):e.additionalDataV1),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),null!=e.traceId&&e.hasOwnProperty("traceId")&&(n.traceId=e.traceId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.SearchQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.word="",e.prototype.op=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.word&&Object.hasOwnProperty.call(e,"word")&&t.uint32(10).string(e.word),null!=e.op&&Object.hasOwnProperty.call(e,"op")&&t.uint32(16).int32(e.op),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.SearchQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.word=e.string();break;case 2:r.op=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.word&&e.hasOwnProperty("word")&&!d.isString(e.word))return"word: string expected";if(null!=e.op&&e.hasOwnProperty("op"))switch(e.op){default:return"op: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.SearchQuery)return e;var t=new p.bin_proto.SearchQuery;switch(null!=e.word&&(t.word=String(e.word)),e.op){case"NONE":case 0:t.op=0;break;case"CONTAINS":case 1:t.op=1;break;case"BEGINS":case 2:t.op=2;break;case"EQ":case 3:t.op=3;break;case"LT":case 4:t.op=4;break;case"LTE":case 5:t.op=5;break;case"GT":case 6:t.op=6;break;case"GTE":case 7:t.op=7;break;case"IN":case 8:t.op=8;break;case"BETWEEN":case 9:t.op=9}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.word="",n.op=t.enums===String?"NONE":0),null!=e.word&&e.hasOwnProperty("word")&&(n.word=e.word),null!=e.op&&e.hasOwnProperty("op")&&(n.op=t.enums===String?p.bin_proto.SearchQuery.Operator[e.op]:e.op),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.Operator=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="CONTAINS"]=1,t[e[2]="BEGINS"]=2,t[e[3]="EQ"]=3,t[e[4]="LT"]=4,t[e[5]="LTE"]=5,t[e[6]="GT"]=6,t[e[7]="GTE"]=7,t[e[8]="IN"]=8,t[e[9]="BETWEEN"]=9,t}(),e}(),i.ChannelSearchQuery=function(){function e(e){if(this.fields=[],this.reqParams={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.channelType="",e.prototype.fields=d.emptyArray,e.prototype.index=0,e.prototype.count=0,e.prototype.to="",e.prototype.sort=0,e.prototype.reqParams=d.emptyObject,e.prototype.nextToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.channelType&&Object.hasOwnProperty.call(e,"channelType")&&t.uint32(18).string(e.channelType),null!=e.fields&&e.fields.length)for(var n=0;n<e.fields.length;++n)p.bin_proto.ChannelSearchQuery.Fields.encode(e.fields[n],t.uint32(26).fork()).ldelim();if(null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(32).int32(e.index),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(40).int32(e.count),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(50).string(e.to),null!=e.sort&&Object.hasOwnProperty.call(e,"sort")&&t.uint32(56).int32(e.sort),null!=e.reqParams&&Object.hasOwnProperty.call(e,"reqParams")){var r=Object.keys(e.reqParams);for(n=0;n<r.length;++n)t.uint32(66).fork().uint32(8).int32(r[n]),p.bin_proto.Any.encode(e.reqParams[r[n]],t.uint32(18).fork()).ldelim().ldelim()}return null!=e.nextToken&&Object.hasOwnProperty.call(e,"nextToken")&&t.uint32(74).string(e.nextToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.ChannelSearchQuery;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.id=e.string();break;case 2:i.channelType=e.string();break;case 3:i.fields&&i.fields.length||(i.fields=[]),i.fields.push(p.bin_proto.ChannelSearchQuery.Fields.decode(e,e.uint32()));break;case 4:i.index=e.int32();break;case 5:i.count=e.int32();break;case 6:i.to=e.string();break;case 7:i.sort=e.int32();break;case 8:i.reqParams===d.emptyObject&&(i.reqParams={});var a=e.uint32()+e.pos;for(n=0,r=null;e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.int32();break;case 2:r=p.bin_proto.Any.decode(e,e.uint32());break;default:e.skipType(7&l)}}i.reqParams[n]=r;break;case 9:i.nextToken=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.channelType&&e.hasOwnProperty("channelType")&&!d.isString(e.channelType))return"channelType: string expected";if(null!=e.fields&&e.hasOwnProperty("fields")){if(!Array.isArray(e.fields))return"fields: array expected";for(var t=0;t<e.fields.length;++t)if(r=p.bin_proto.ChannelSearchQuery.Fields.verify(e.fields[t]))return"fields."+r}if(null!=e.index&&e.hasOwnProperty("index")&&!d.isInteger(e.index))return"index: integer expected";if(null!=e.count&&e.hasOwnProperty("count")&&!d.isInteger(e.count))return"count: integer expected";if(null!=e.to&&e.hasOwnProperty("to")&&!d.isString(e.to))return"to: string expected";if(null!=e.sort&&e.hasOwnProperty("sort"))switch(e.sort){default:return"sort: enum value expected";case 0:case 1:}if(null!=e.reqParams&&e.hasOwnProperty("reqParams")){if(!d.isObject(e.reqParams))return"reqParams: object expected";var n=Object.keys(e.reqParams);for(t=0;t<n.length;++t){if(!d.key32Re.test(n[t]))return"reqParams: integer key{k:int32} expected";var r;if(r=p.bin_proto.Any.verify(e.reqParams[n[t]]))return"reqParams."+r}}return null!=e.nextToken&&e.hasOwnProperty("nextToken")&&!d.isString(e.nextToken)?"nextToken: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ChannelSearchQuery)return e;var t=new p.bin_proto.ChannelSearchQuery;if(null!=e.id&&(t.id=String(e.id)),null!=e.channelType&&(t.channelType=String(e.channelType)),e.fields){if(!Array.isArray(e.fields))throw TypeError(".bin_proto.ChannelSearchQuery.fields: array expected");t.fields=[];for(var n=0;n<e.fields.length;++n){if("object"!=typeof e.fields[n])throw TypeError(".bin_proto.ChannelSearchQuery.fields: object expected");t.fields[n]=p.bin_proto.ChannelSearchQuery.Fields.fromObject(e.fields[n])}}switch(null!=e.index&&(t.index=0|e.index),null!=e.count&&(t.count=0|e.count),null!=e.to&&(t.to=String(e.to)),e.sort){case"SORT_BY_LAST_MESSAGE":case 0:t.sort=0;break;case"SORT_BY_CREATED_AT":case 1:t.sort=1}if(e.reqParams){if("object"!=typeof e.reqParams)throw TypeError(".bin_proto.ChannelSearchQuery.reqParams: object expected");t.reqParams={};var r=Object.keys(e.reqParams);for(n=0;n<r.length;++n){if("object"!=typeof e.reqParams[r[n]])throw TypeError(".bin_proto.ChannelSearchQuery.reqParams: object expected");t.reqParams[r[n]]=p.bin_proto.Any.fromObject(e.reqParams[r[n]])}}return null!=e.nextToken&&(t.nextToken=String(e.nextToken)),t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.fields=[]),(t.objects||t.defaults)&&(r.reqParams={}),t.defaults&&(r.id="",r.channelType="",r.index=0,r.count=0,r.to="",r.sort=t.enums===String?"SORT_BY_LAST_MESSAGE":0,r.nextToken=""),null!=e.id&&e.hasOwnProperty("id")&&(r.id=e.id),null!=e.channelType&&e.hasOwnProperty("channelType")&&(r.channelType=e.channelType),e.fields&&e.fields.length){r.fields=[];for(var o=0;o<e.fields.length;++o)r.fields[o]=p.bin_proto.ChannelSearchQuery.Fields.toObject(e.fields[o],t)}if(null!=e.index&&e.hasOwnProperty("index")&&(r.index=e.index),null!=e.count&&e.hasOwnProperty("count")&&(r.count=e.count),null!=e.to&&e.hasOwnProperty("to")&&(r.to=e.to),null!=e.sort&&e.hasOwnProperty("sort")&&(r.sort=t.enums===String?p.bin_proto.ChannelSearchQuery.SortOption[e.sort]:e.sort),e.reqParams&&(n=Object.keys(e.reqParams)).length)for(r.reqParams={},o=0;o<n.length;++o)r.reqParams[n[o]]=p.bin_proto.Any.toObject(e.reqParams[n[o]],t);return null!=e.nextToken&&e.hasOwnProperty("nextToken")&&(r.nextToken=e.nextToken),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.SearchQueryKey=function(){var e={},t=Object.create(e);return t[e[0]="SUBJECT"]=0,t[e[1]="URI"]=1,t[e[2]="LABEL"]=2,t[e[3]="USER"]=3,t[e[4]="STATE"]=4,t[e[5]="TYPE"]=5,t[e[6]="CREATED_AT"]=6,t}(),e.SortOption=function(){var e={},t=Object.create(e);return t[e[0]="SORT_BY_LAST_MESSAGE"]=0,t[e[1]="SORT_BY_CREATED_AT"]=1,t}(),e.Fields=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key=0,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(8).int32(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&p.bin_proto.SearchQuery.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ChannelSearchQuery.Fields;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.int32();break;case 2:r.value=p.bin_proto.SearchQuery.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key"))switch(e.key){default:return"key: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}if(null!=e.value&&e.hasOwnProperty("value")){var t=p.bin_proto.SearchQuery.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ChannelSearchQuery.Fields)return e;var t=new p.bin_proto.ChannelSearchQuery.Fields;switch(e.key){case"SUBJECT":case 0:t.key=0;break;case"URI":case 1:t.key=1;break;case"LABEL":case 2:t.key=2;break;case"USER":case 3:t.key=3;break;case"STATE":case 4:t.key=4;break;case"TYPE":case 5:t.key=5;break;case"CREATED_AT":case 6:t.key=6}if(null!=e.value){if("object"!=typeof e.value)throw TypeError(".bin_proto.ChannelSearchQuery.Fields.value: object expected");t.value=p.bin_proto.SearchQuery.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key=t.enums===String?"SUBJECT":0,n.value=null),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.enums===String?p.bin_proto.ChannelSearchQuery.SearchQueryKey[e.key]:e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=p.bin_proto.SearchQuery.toObject(e.value,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),e}(),i.TokenQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.deviceToken="",e.prototype.deviceType="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.deviceToken&&Object.hasOwnProperty.call(e,"deviceToken")&&t.uint32(18).string(e.deviceToken),null!=e.deviceType&&Object.hasOwnProperty.call(e,"deviceType")&&t.uint32(26).string(e.deviceType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.TokenQuery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.deviceToken=e.string();break;case 3:r.deviceType=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id)?"id: string expected":null!=e.deviceToken&&e.hasOwnProperty("deviceToken")&&!d.isString(e.deviceToken)?"deviceToken: string expected":null!=e.deviceType&&e.hasOwnProperty("deviceType")&&!d.isString(e.deviceType)?"deviceType: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.TokenQuery)return e;var t=new p.bin_proto.TokenQuery;return null!=e.id&&(t.id=String(e.id)),null!=e.deviceToken&&(t.deviceToken=String(e.deviceToken)),null!=e.deviceType&&(t.deviceType=String(e.deviceType)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.deviceToken="",n.deviceType=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.deviceToken&&e.hasOwnProperty("deviceToken")&&(n.deviceToken=e.deviceToken),null!=e.deviceType&&e.hasOwnProperty("deviceType")&&(n.deviceType=e.deviceType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Contact=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.user=null,e.prototype.keys=d.emptyArray,e.prototype.metadata=null,e.prototype.firstName=null,e.prototype.lastName=null,Object.defineProperty(e.prototype,"_metadata",{get:d.oneOfGetter(t=["metadata"]),set:d.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_firstName",{get:d.oneOfGetter(t=["firstName"]),set:d.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_lastName",{get:d.oneOfGetter(t=["lastName"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&p.bin_proto.User.encode(e.user,t.uint32(10).fork()).ldelim(),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(26).string(e.metadata),null!=e.firstName&&Object.hasOwnProperty.call(e,"firstName")&&t.uint32(34).string(e.firstName),null!=e.lastName&&Object.hasOwnProperty.call(e,"lastName")&&t.uint32(42).string(e.lastName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Contact;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.user=p.bin_proto.User.decode(e,e.uint32());break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(e.string());break;case 3:r.metadata=e.string();break;case 4:r.firstName=e.string();break;case 5:r.lastName=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.user&&e.hasOwnProperty("user")){var n=p.bin_proto.User.verify(e.user);if(n)return"user."+n}if(null!=e.keys&&e.hasOwnProperty("keys")){if(!Array.isArray(e.keys))return"keys: array expected";for(var r=0;r<e.keys.length;++r)if(!d.isString(e.keys[r]))return"keys: string[] expected"}return null!=e.metadata&&e.hasOwnProperty("metadata")&&(t._metadata=1,!d.isString(e.metadata))?"metadata: string expected":null!=e.firstName&&e.hasOwnProperty("firstName")&&(t._firstName=1,!d.isString(e.firstName))?"firstName: string expected":null!=e.lastName&&e.hasOwnProperty("lastName")&&(t._lastName=1,!d.isString(e.lastName))?"lastName: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Contact)return e;var t=new p.bin_proto.Contact;if(null!=e.user){if("object"!=typeof e.user)throw TypeError(".bin_proto.Contact.user: object expected");t.user=p.bin_proto.User.fromObject(e.user)}if(e.keys){if(!Array.isArray(e.keys))throw TypeError(".bin_proto.Contact.keys: array expected");t.keys=[];for(var n=0;n<e.keys.length;++n)t.keys[n]=String(e.keys[n])}return null!=e.metadata&&(t.metadata=String(e.metadata)),null!=e.firstName&&(t.firstName=String(e.firstName)),null!=e.lastName&&(t.lastName=String(e.lastName)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.keys=[]),t.defaults&&(n.user=null),null!=e.user&&e.hasOwnProperty("user")&&(n.user=p.bin_proto.User.toObject(e.user,t)),e.keys&&e.keys.length){n.keys=[];for(var r=0;r<e.keys.length;++r)n.keys[r]=e.keys[r]}return null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=e.metadata,t.oneofs&&(n._metadata="metadata")),null!=e.firstName&&e.hasOwnProperty("firstName")&&(n.firstName=e.firstName,t.oneofs&&(n._firstName="firstName")),null!=e.lastName&&e.hasOwnProperty("lastName")&&(n.lastName=e.lastName,t.oneofs&&(n._lastName="lastName")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ContactsRequest=function(){function e(e){if(this.contacts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.contacts=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.contacts&&e.contacts.length)for(var n=0;n<e.contacts.length;++n)p.bin_proto.Contact.encode(e.contacts[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ContactsRequest;e.pos<n;){var o=e.uint32();o>>>3==1?(r.contacts&&r.contacts.length||(r.contacts=[]),r.contacts.push(p.bin_proto.Contact.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.contacts&&e.hasOwnProperty("contacts")){if(!Array.isArray(e.contacts))return"contacts: array expected";for(var t=0;t<e.contacts.length;++t){var n=p.bin_proto.Contact.verify(e.contacts[t]);if(n)return"contacts."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ContactsRequest)return e;var t=new p.bin_proto.ContactsRequest;if(e.contacts){if(!Array.isArray(e.contacts))throw TypeError(".bin_proto.ContactsRequest.contacts: array expected");t.contacts=[];for(var n=0;n<e.contacts.length;++n){if("object"!=typeof e.contacts[n])throw TypeError(".bin_proto.ContactsRequest.contacts: object expected");t.contacts[n]=p.bin_proto.Contact.fromObject(e.contacts[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.contacts=[]),e.contacts&&e.contacts.length){n.contacts=[];for(var r=0;r<e.contacts.length;++r)n.contacts[r]=p.bin_proto.Contact.toObject(e.contacts[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ContactsResponse=function(){function e(e){if(this.contacts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.contacts=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.contacts&&e.contacts.length)for(var n=0;n<e.contacts.length;++n)p.bin_proto.Contact.encode(e.contacts[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ContactsResponse;e.pos<n;){var o=e.uint32();o>>>3==1?(r.contacts&&r.contacts.length||(r.contacts=[]),r.contacts.push(p.bin_proto.Contact.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.contacts&&e.hasOwnProperty("contacts")){if(!Array.isArray(e.contacts))return"contacts: array expected";for(var t=0;t<e.contacts.length;++t){var n=p.bin_proto.Contact.verify(e.contacts[t]);if(n)return"contacts."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ContactsResponse)return e;var t=new p.bin_proto.ContactsResponse;if(e.contacts){if(!Array.isArray(e.contacts))throw TypeError(".bin_proto.ContactsResponse.contacts: array expected");t.contacts=[];for(var n=0;n<e.contacts.length;++n){if("object"!=typeof e.contacts[n])throw TypeError(".bin_proto.ContactsResponse.contacts: object expected");t.contacts[n]=p.bin_proto.Contact.fromObject(e.contacts[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.contacts=[]),e.contacts&&e.contacts.length){n.contacts=[];for(var r=0;r<e.contacts.length;++r)n.contacts[r]=p.bin_proto.Contact.toObject(e.contacts[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ContactDiscovery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.key="",e.prototype.metadata=null,e.prototype.firstName=null,e.prototype.lastName=null,Object.defineProperty(e.prototype,"_metadata",{get:d.oneOfGetter(t=["metadata"]),set:d.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_firstName",{get:d.oneOfGetter(t=["firstName"]),set:d.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_lastName",{get:d.oneOfGetter(t=["lastName"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(18).string(e.metadata),null!=e.firstName&&Object.hasOwnProperty.call(e,"firstName")&&t.uint32(26).string(e.firstName),null!=e.lastName&&Object.hasOwnProperty.call(e,"lastName")&&t.uint32(34).string(e.lastName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ContactDiscovery;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.string();break;case 2:r.metadata=e.string();break;case 3:r.firstName=e.string();break;case 4:r.lastName=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};return null!=e.key&&e.hasOwnProperty("key")&&!d.isString(e.key)?"key: string expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&(t._metadata=1,!d.isString(e.metadata))?"metadata: string expected":null!=e.firstName&&e.hasOwnProperty("firstName")&&(t._firstName=1,!d.isString(e.firstName))?"firstName: string expected":null!=e.lastName&&e.hasOwnProperty("lastName")&&(t._lastName=1,!d.isString(e.lastName))?"lastName: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.ContactDiscovery)return e;var t=new p.bin_proto.ContactDiscovery;return null!=e.key&&(t.key=String(e.key)),null!=e.metadata&&(t.metadata=String(e.metadata)),null!=e.firstName&&(t.firstName=String(e.firstName)),null!=e.lastName&&(t.lastName=String(e.lastName)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=e.metadata,t.oneofs&&(n._metadata="metadata")),null!=e.firstName&&e.hasOwnProperty("firstName")&&(n.firstName=e.firstName,t.oneofs&&(n._firstName="firstName")),null!=e.lastName&&e.hasOwnProperty("lastName")&&(n.lastName=e.lastName,t.oneofs&&(n._lastName="lastName")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ContactsDiscoveryRequest=function(){function e(e){if(this.discoveries=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.discoveries=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.discoveries&&e.discoveries.length)for(var n=0;n<e.discoveries.length;++n)p.bin_proto.ContactDiscovery.encode(e.discoveries[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ContactsDiscoveryRequest;e.pos<n;){var o=e.uint32();o>>>3==1?(r.discoveries&&r.discoveries.length||(r.discoveries=[]),r.discoveries.push(p.bin_proto.ContactDiscovery.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.discoveries&&e.hasOwnProperty("discoveries")){if(!Array.isArray(e.discoveries))return"discoveries: array expected";for(var t=0;t<e.discoveries.length;++t){var n=p.bin_proto.ContactDiscovery.verify(e.discoveries[t]);if(n)return"discoveries."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ContactsDiscoveryRequest)return e;var t=new p.bin_proto.ContactsDiscoveryRequest;if(e.discoveries){if(!Array.isArray(e.discoveries))throw TypeError(".bin_proto.ContactsDiscoveryRequest.discoveries: array expected");t.discoveries=[];for(var n=0;n<e.discoveries.length;++n){if("object"!=typeof e.discoveries[n])throw TypeError(".bin_proto.ContactsDiscoveryRequest.discoveries: object expected");t.discoveries[n]=p.bin_proto.ContactDiscovery.fromObject(e.discoveries[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.discoveries=[]),e.discoveries&&e.discoveries.length){n.discoveries=[];for(var r=0;r<e.discoveries.length;++r)n.discoveries[r]=p.bin_proto.ContactDiscovery.toObject(e.discoveries[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ContactsDiscoveryResponse=function(){function e(e){if(this.discoveries=[],this.contacts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.discoveries=d.emptyArray,e.prototype.contacts=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.discoveries&&e.discoveries.length)for(var n=0;n<e.discoveries.length;++n)p.bin_proto.ContactDiscovery.encode(e.discoveries[n],t.uint32(10).fork()).ldelim();if(null!=e.contacts&&e.contacts.length)for(n=0;n<e.contacts.length;++n)p.bin_proto.Contact.encode(e.contacts[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.ContactsDiscoveryResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.discoveries&&r.discoveries.length||(r.discoveries=[]),r.discoveries.push(p.bin_proto.ContactDiscovery.decode(e,e.uint32()));break;case 2:r.contacts&&r.contacts.length||(r.contacts=[]),r.contacts.push(p.bin_proto.Contact.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.discoveries&&e.hasOwnProperty("discoveries")){if(!Array.isArray(e.discoveries))return"discoveries: array expected";for(var t=0;t<e.discoveries.length;++t)if(n=p.bin_proto.ContactDiscovery.verify(e.discoveries[t]))return"discoveries."+n}if(null!=e.contacts&&e.hasOwnProperty("contacts")){if(!Array.isArray(e.contacts))return"contacts: array expected";for(t=0;t<e.contacts.length;++t){var n;if(n=p.bin_proto.Contact.verify(e.contacts[t]))return"contacts."+n}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.ContactsDiscoveryResponse)return e;var t=new p.bin_proto.ContactsDiscoveryResponse;if(e.discoveries){if(!Array.isArray(e.discoveries))throw TypeError(".bin_proto.ContactsDiscoveryResponse.discoveries: array expected");t.discoveries=[];for(var n=0;n<e.discoveries.length;++n){if("object"!=typeof e.discoveries[n])throw TypeError(".bin_proto.ContactsDiscoveryResponse.discoveries: object expected");t.discoveries[n]=p.bin_proto.ContactDiscovery.fromObject(e.discoveries[n])}}if(e.contacts){if(!Array.isArray(e.contacts))throw TypeError(".bin_proto.ContactsDiscoveryResponse.contacts: array expected");for(t.contacts=[],n=0;n<e.contacts.length;++n){if("object"!=typeof e.contacts[n])throw TypeError(".bin_proto.ContactsDiscoveryResponse.contacts: object expected");t.contacts[n]=p.bin_proto.Contact.fromObject(e.contacts[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.discoveries=[],n.contacts=[]),e.discoveries&&e.discoveries.length){n.discoveries=[];for(var r=0;r<e.discoveries.length;++r)n.discoveries[r]=p.bin_proto.ContactDiscovery.toObject(e.discoveries[r],t)}if(e.contacts&&e.contacts.length)for(n.contacts=[],r=0;r<e.contacts.length;++r)n.contacts[r]=p.bin_proto.Contact.toObject(e.contacts[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.NewContactForUsers=function(){function e(e){if(this.userContact={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.contactUsername="",e.prototype.userContact=d.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.contactUsername&&Object.hasOwnProperty.call(e,"contactUsername")&&t.uint32(10).string(e.contactUsername),null!=e.userContact&&Object.hasOwnProperty.call(e,"userContact"))for(var n=Object.keys(e.userContact),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]),p.bin_proto.Contact.encode(e.userContact[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.NewContactForUsers;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.contactUsername=e.string();break;case 2:i.userContact===d.emptyObject&&(i.userContact={});var a=e.uint32()+e.pos;for(n="",r=null;e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=p.bin_proto.Contact.decode(e,e.uint32());break;default:e.skipType(7&l)}}i.userContact[n]=r;break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.contactUsername&&e.hasOwnProperty("contactUsername")&&!d.isString(e.contactUsername))return"contactUsername: string expected";if(null!=e.userContact&&e.hasOwnProperty("userContact")){if(!d.isObject(e.userContact))return"userContact: object expected";for(var t=Object.keys(e.userContact),n=0;n<t.length;++n){var r=p.bin_proto.Contact.verify(e.userContact[t[n]]);if(r)return"userContact."+r}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.NewContactForUsers)return e;var t=new p.bin_proto.NewContactForUsers;if(null!=e.contactUsername&&(t.contactUsername=String(e.contactUsername)),e.userContact){if("object"!=typeof e.userContact)throw TypeError(".bin_proto.NewContactForUsers.userContact: object expected");t.userContact={};for(var n=Object.keys(e.userContact),r=0;r<n.length;++r){if("object"!=typeof e.userContact[n[r]])throw TypeError(".bin_proto.NewContactForUsers.userContact: object expected");t.userContact[n[r]]=p.bin_proto.Contact.fromObject(e.userContact[n[r]])}}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.userContact={}),t.defaults&&(r.contactUsername=""),null!=e.contactUsername&&e.hasOwnProperty("contactUsername")&&(r.contactUsername=e.contactUsername),e.userContact&&(n=Object.keys(e.userContact)).length){r.userContact={};for(var o=0;o<n.length;++o)r.userContact[n[o]]=p.bin_proto.Contact.toObject(e.userContact[n[o]],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Signal=function(){function e(e){if(this.calls=[],this.participants=[],this.metadata={},this.turnServers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.requestId="",e.prototype.event=0,e.prototype.callId="",e.prototype.sessionId="",e.prototype.mediaFlow=0,e.prototype.from="",e.prototype.to="",e.prototype.calls=d.emptyArray,e.prototype.participants=d.emptyArray,e.prototype.sdp="",e.prototype.ice=null,e.prototype.metadata=d.emptyObject,e.prototype.turnServers=d.emptyArray,e.prototype.error=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.requestId&&Object.hasOwnProperty.call(e,"requestId")&&t.uint32(10).string(e.requestId),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(16).int32(e.event),null!=e.callId&&Object.hasOwnProperty.call(e,"callId")&&t.uint32(26).string(e.callId),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(34).string(e.sessionId),null!=e.mediaFlow&&Object.hasOwnProperty.call(e,"mediaFlow")&&t.uint32(40).int32(e.mediaFlow),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(50).string(e.from),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(58).string(e.to),null!=e.calls&&e.calls.length)for(var n=0;n<e.calls.length;++n)p.bin_proto.Call.encode(e.calls[n],t.uint32(66).fork()).ldelim();if(null!=e.participants&&e.participants.length)for(n=0;n<e.participants.length;++n)p.bin_proto.Participant.encode(e.participants[n],t.uint32(74).fork()).ldelim();if(null!=e.sdp&&Object.hasOwnProperty.call(e,"sdp")&&t.uint32(82).string(e.sdp),null!=e.ice&&Object.hasOwnProperty.call(e,"ice")&&p.bin_proto.Ice.encode(e.ice,t.uint32(90).fork()).ldelim(),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")){var r=Object.keys(e.metadata);for(n=0;n<r.length;++n)t.uint32(98).fork().uint32(10).string(r[n]).uint32(18).string(e.metadata[r[n]]).ldelim()}if(null!=e.turnServers&&e.turnServers.length)for(n=0;n<e.turnServers.length;++n)p.bin_proto.TurnServer.encode(e.turnServers[n],t.uint32(106).fork()).ldelim();return null!=e.error&&Object.hasOwnProperty.call(e,"error")&&p.bin_proto.SignalError.encode(e.error,t.uint32(114).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.Signal;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.requestId=e.string();break;case 2:i.event=e.int32();break;case 3:i.callId=e.string();break;case 4:i.sessionId=e.string();break;case 5:i.mediaFlow=e.int32();break;case 6:i.from=e.string();break;case 7:i.to=e.string();break;case 8:i.calls&&i.calls.length||(i.calls=[]),i.calls.push(p.bin_proto.Call.decode(e,e.uint32()));break;case 9:i.participants&&i.participants.length||(i.participants=[]),i.participants.push(p.bin_proto.Participant.decode(e,e.uint32()));break;case 10:i.sdp=e.string();break;case 11:i.ice=p.bin_proto.Ice.decode(e,e.uint32());break;case 12:i.metadata===d.emptyObject&&(i.metadata={});var a=e.uint32()+e.pos;for(n="",r="";e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&l)}}i.metadata[n]=r;break;case 13:i.turnServers&&i.turnServers.length||(i.turnServers=[]),i.turnServers.push(p.bin_proto.TurnServer.decode(e,e.uint32()));break;case 14:i.error=p.bin_proto.SignalError.decode(e,e.uint32());break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.requestId&&e.hasOwnProperty("requestId")&&!d.isString(e.requestId))return"requestId: string expected";if(null!=e.event&&e.hasOwnProperty("event"))switch(e.event){default:return"event: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:}if(null!=e.callId&&e.hasOwnProperty("callId")&&!d.isString(e.callId))return"callId: string expected";if(null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!d.isString(e.sessionId))return"sessionId: string expected";if(null!=e.mediaFlow&&e.hasOwnProperty("mediaFlow"))switch(e.mediaFlow){default:return"mediaFlow: enum value expected";case 0:case 1:}if(null!=e.from&&e.hasOwnProperty("from")&&!d.isString(e.from))return"from: string expected";if(null!=e.to&&e.hasOwnProperty("to")&&!d.isString(e.to))return"to: string expected";if(null!=e.calls&&e.hasOwnProperty("calls")){if(!Array.isArray(e.calls))return"calls: array expected";for(var t=0;t<e.calls.length;++t)if(r=p.bin_proto.Call.verify(e.calls[t]))return"calls."+r}if(null!=e.participants&&e.hasOwnProperty("participants")){if(!Array.isArray(e.participants))return"participants: array expected";for(t=0;t<e.participants.length;++t)if(r=p.bin_proto.Participant.verify(e.participants[t]))return"participants."+r}if(null!=e.sdp&&e.hasOwnProperty("sdp")&&!d.isString(e.sdp))return"sdp: string expected";if(null!=e.ice&&e.hasOwnProperty("ice")&&(r=p.bin_proto.Ice.verify(e.ice)))return"ice."+r;if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!d.isObject(e.metadata))return"metadata: object expected";var n=Object.keys(e.metadata);for(t=0;t<n.length;++t)if(!d.isString(e.metadata[n[t]]))return"metadata: string{k:string} expected"}if(null!=e.turnServers&&e.hasOwnProperty("turnServers")){if(!Array.isArray(e.turnServers))return"turnServers: array expected";for(t=0;t<e.turnServers.length;++t){var r;if(r=p.bin_proto.TurnServer.verify(e.turnServers[t]))return"turnServers."+r}}return null!=e.error&&e.hasOwnProperty("error")&&(r=p.bin_proto.SignalError.verify(e.error))?"error."+r:null},e.fromObject=function(e){if(e instanceof p.bin_proto.Signal)return e;var t=new p.bin_proto.Signal;switch(null!=e.requestId&&(t.requestId=String(e.requestId)),e.event){case"SignalEventJoin":case 0:t.event=0;break;case"SignalEventLeave":case 1:t.event=1;break;case"SignalEventOffer":case 2:t.event=2;break;case"SignalEventAnswer":case 3:t.event=3;break;case"SignalEventConnect":case 4:t.event=4;break;case"SignalEventError":case 5:t.event=5;break;case"SignalEventKick":case 6:t.event=6;break;case"SignalEventSuccess":case 7:t.event=7;break;case"SignalEventInvite":case 8:t.event=8;break;case"SignalEventDecline":case 9:t.event=9;break;case"SignalEventRinging":case 10:t.event=10;break;case"SignalEventInfo":case 11:t.event=11;break;case"SignalEventUpdate":case 12:t.event=12;break;case"SignalEventClose":case 13:t.event=13;break;case"SignalEventIce":case 14:t.event=14;break;case"SignalEventGetCall":case 15:t.event=15;break;case"SignalEventSwitchMediaFlow":case 16:t.event=16;break;case"SignalEventNoAnswer":case 17:t.event=17;break;case"SignalEventMediaConnected":case 18:t.event=18;break;case"SignalEventMute":case 19:t.event=19;break;case"SignalEventUnMute":case 20:t.event=20;break;case"SignalEventHold":case 21:t.event=21;break;case"SignalEventUnHold":case 22:t.event=22;break;case"SignalEventVideoOn":case 23:t.event=23;break;case"SignalEventVideoOff":case 24:t.event=24;break;case"SignalEventScreenShareOn":case 25:t.event=25;break;case"SignalEventScreenShareOff":case 26:t.event=26}switch(null!=e.callId&&(t.callId=String(e.callId)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),e.mediaFlow){case"MediaFlowP2P":case 0:t.mediaFlow=0;break;case"MediaFlowSFU":case 1:t.mediaFlow=1}if(null!=e.from&&(t.from=String(e.from)),null!=e.to&&(t.to=String(e.to)),e.calls){if(!Array.isArray(e.calls))throw TypeError(".bin_proto.Signal.calls: array expected");t.calls=[];for(var n=0;n<e.calls.length;++n){if("object"!=typeof e.calls[n])throw TypeError(".bin_proto.Signal.calls: object expected");t.calls[n]=p.bin_proto.Call.fromObject(e.calls[n])}}if(e.participants){if(!Array.isArray(e.participants))throw TypeError(".bin_proto.Signal.participants: array expected");for(t.participants=[],n=0;n<e.participants.length;++n){if("object"!=typeof e.participants[n])throw TypeError(".bin_proto.Signal.participants: object expected");t.participants[n]=p.bin_proto.Participant.fromObject(e.participants[n])}}if(null!=e.sdp&&(t.sdp=String(e.sdp)),null!=e.ice){if("object"!=typeof e.ice)throw TypeError(".bin_proto.Signal.ice: object expected");t.ice=p.bin_proto.Ice.fromObject(e.ice)}if(e.metadata){if("object"!=typeof e.metadata)throw TypeError(".bin_proto.Signal.metadata: object expected");t.metadata={};var r=Object.keys(e.metadata);for(n=0;n<r.length;++n)t.metadata[r[n]]=String(e.metadata[r[n]])}if(e.turnServers){if(!Array.isArray(e.turnServers))throw TypeError(".bin_proto.Signal.turnServers: array expected");for(t.turnServers=[],n=0;n<e.turnServers.length;++n){if("object"!=typeof e.turnServers[n])throw TypeError(".bin_proto.Signal.turnServers: object expected");t.turnServers[n]=p.bin_proto.TurnServer.fromObject(e.turnServers[n])}}if(null!=e.error){if("object"!=typeof e.error)throw TypeError(".bin_proto.Signal.error: object expected");t.error=p.bin_proto.SignalError.fromObject(e.error)}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.calls=[],r.participants=[],r.turnServers=[]),(t.objects||t.defaults)&&(r.metadata={}),t.defaults&&(r.requestId="",r.event=t.enums===String?"SignalEventJoin":0,r.callId="",r.sessionId="",r.mediaFlow=t.enums===String?"MediaFlowP2P":0,r.from="",r.to="",r.sdp="",r.ice=null,r.error=null),null!=e.requestId&&e.hasOwnProperty("requestId")&&(r.requestId=e.requestId),null!=e.event&&e.hasOwnProperty("event")&&(r.event=t.enums===String?p.bin_proto.SignalEvent[e.event]:e.event),null!=e.callId&&e.hasOwnProperty("callId")&&(r.callId=e.callId),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(r.sessionId=e.sessionId),null!=e.mediaFlow&&e.hasOwnProperty("mediaFlow")&&(r.mediaFlow=t.enums===String?p.bin_proto.MediaFlow[e.mediaFlow]:e.mediaFlow),null!=e.from&&e.hasOwnProperty("from")&&(r.from=e.from),null!=e.to&&e.hasOwnProperty("to")&&(r.to=e.to),e.calls&&e.calls.length){r.calls=[];for(var o=0;o<e.calls.length;++o)r.calls[o]=p.bin_proto.Call.toObject(e.calls[o],t)}if(e.participants&&e.participants.length)for(r.participants=[],o=0;o<e.participants.length;++o)r.participants[o]=p.bin_proto.Participant.toObject(e.participants[o],t);if(null!=e.sdp&&e.hasOwnProperty("sdp")&&(r.sdp=e.sdp),null!=e.ice&&e.hasOwnProperty("ice")&&(r.ice=p.bin_proto.Ice.toObject(e.ice,t)),e.metadata&&(n=Object.keys(e.metadata)).length)for(r.metadata={},o=0;o<n.length;++o)r.metadata[n[o]]=e.metadata[n[o]];if(e.turnServers&&e.turnServers.length)for(r.turnServers=[],o=0;o<e.turnServers.length;++o)r.turnServers[o]=p.bin_proto.TurnServer.toObject(e.turnServers[o],t);return null!=e.error&&e.hasOwnProperty("error")&&(r.error=p.bin_proto.SignalError.toObject(e.error,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.SignalEvent=function(){var e={},t=Object.create(e);return t[e[0]="SignalEventJoin"]=0,t[e[1]="SignalEventLeave"]=1,t[e[2]="SignalEventOffer"]=2,t[e[3]="SignalEventAnswer"]=3,t[e[4]="SignalEventConnect"]=4,t[e[5]="SignalEventError"]=5,t[e[6]="SignalEventKick"]=6,t[e[7]="SignalEventSuccess"]=7,t[e[8]="SignalEventInvite"]=8,t[e[9]="SignalEventDecline"]=9,t[e[10]="SignalEventRinging"]=10,t[e[11]="SignalEventInfo"]=11,t[e[12]="SignalEventUpdate"]=12,t[e[13]="SignalEventClose"]=13,t[e[14]="SignalEventIce"]=14,t[e[15]="SignalEventGetCall"]=15,t[e[16]="SignalEventSwitchMediaFlow"]=16,t[e[17]="SignalEventNoAnswer"]=17,t[e[18]="SignalEventMediaConnected"]=18,t[e[19]="SignalEventMute"]=19,t[e[20]="SignalEventUnMute"]=20,t[e[21]="SignalEventHold"]=21,t[e[22]="SignalEventUnHold"]=22,t[e[23]="SignalEventVideoOn"]=23,t[e[24]="SignalEventVideoOff"]=24,t[e[25]="SignalEventScreenShareOn"]=25,t[e[26]="SignalEventScreenShareOff"]=26,t}(),i.Call=function(){function e(e){if(this.metadata={},this.participants=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.sessionId="",e.prototype.mediaFlow=0,e.prototype.createdBy="",e.prototype.metadata=d.emptyObject,e.prototype.participants=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(18).string(e.sessionId),null!=e.mediaFlow&&Object.hasOwnProperty.call(e,"mediaFlow")&&t.uint32(24).int32(e.mediaFlow),null!=e.createdBy&&Object.hasOwnProperty.call(e,"createdBy")&&t.uint32(34).string(e.createdBy),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata"))for(var n=Object.keys(e.metadata),r=0;r<n.length;++r)t.uint32(42).fork().uint32(10).string(n[r]).uint32(18).string(e.metadata[n[r]]).ldelim();if(null!=e.participants&&e.participants.length)for(r=0;r<e.participants.length;++r)p.bin_proto.Participant.encode(e.participants[r],t.uint32(50).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n,r,o=void 0===t?e.len:e.pos+t,i=new p.bin_proto.Call;e.pos<o;){var s=e.uint32();switch(s>>>3){case 1:i.id=e.string();break;case 2:i.sessionId=e.string();break;case 3:i.mediaFlow=e.int32();break;case 4:i.createdBy=e.string();break;case 5:i.metadata===d.emptyObject&&(i.metadata={});var a=e.uint32()+e.pos;for(n="",r="";e.pos<a;){var l=e.uint32();switch(l>>>3){case 1:n=e.string();break;case 2:r=e.string();break;default:e.skipType(7&l)}}i.metadata[n]=r;break;case 6:i.participants&&i.participants.length||(i.participants=[]),i.participants.push(p.bin_proto.Participant.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!d.isString(e.sessionId))return"sessionId: string expected";if(null!=e.mediaFlow&&e.hasOwnProperty("mediaFlow"))switch(e.mediaFlow){default:return"mediaFlow: enum value expected";case 0:case 1:}if(null!=e.createdBy&&e.hasOwnProperty("createdBy")&&!d.isString(e.createdBy))return"createdBy: string expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!d.isObject(e.metadata))return"metadata: object expected";for(var t=Object.keys(e.metadata),n=0;n<t.length;++n)if(!d.isString(e.metadata[t[n]]))return"metadata: string{k:string} expected"}if(null!=e.participants&&e.hasOwnProperty("participants")){if(!Array.isArray(e.participants))return"participants: array expected";for(n=0;n<e.participants.length;++n){var r=p.bin_proto.Participant.verify(e.participants[n]);if(r)return"participants."+r}}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Call)return e;var t=new p.bin_proto.Call;switch(null!=e.id&&(t.id=String(e.id)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),e.mediaFlow){case"MediaFlowP2P":case 0:t.mediaFlow=0;break;case"MediaFlowSFU":case 1:t.mediaFlow=1}if(null!=e.createdBy&&(t.createdBy=String(e.createdBy)),e.metadata){if("object"!=typeof e.metadata)throw TypeError(".bin_proto.Call.metadata: object expected");t.metadata={};for(var n=Object.keys(e.metadata),r=0;r<n.length;++r)t.metadata[n[r]]=String(e.metadata[n[r]])}if(e.participants){if(!Array.isArray(e.participants))throw TypeError(".bin_proto.Call.participants: array expected");for(t.participants=[],r=0;r<e.participants.length;++r){if("object"!=typeof e.participants[r])throw TypeError(".bin_proto.Call.participants: object expected");t.participants[r]=p.bin_proto.Participant.fromObject(e.participants[r])}}return t},e.toObject=function(e,t){t||(t={});var n,r={};if((t.arrays||t.defaults)&&(r.participants=[]),(t.objects||t.defaults)&&(r.metadata={}),t.defaults&&(r.id="",r.sessionId="",r.mediaFlow=t.enums===String?"MediaFlowP2P":0,r.createdBy=""),null!=e.id&&e.hasOwnProperty("id")&&(r.id=e.id),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(r.sessionId=e.sessionId),null!=e.mediaFlow&&e.hasOwnProperty("mediaFlow")&&(r.mediaFlow=t.enums===String?p.bin_proto.MediaFlow[e.mediaFlow]:e.mediaFlow),null!=e.createdBy&&e.hasOwnProperty("createdBy")&&(r.createdBy=e.createdBy),e.metadata&&(n=Object.keys(e.metadata)).length){r.metadata={};for(var o=0;o<n.length;++o)r.metadata[n[o]]=e.metadata[n[o]]}if(e.participants&&e.participants.length)for(r.participants=[],o=0;o<e.participants.length;++o)r.participants[o]=p.bin_proto.Participant.toObject(e.participants[o],t);return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.Participant=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.clientId="",e.prototype.presenter=!1,e.prototype.videoEnabled=!1,e.prototype.muted=!1,e.prototype.onHold=!1,e.prototype.screenSharing=!1,e.prototype.state=0,e.prototype.connectionState=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.clientId&&Object.hasOwnProperty.call(e,"clientId")&&t.uint32(18).string(e.clientId),null!=e.presenter&&Object.hasOwnProperty.call(e,"presenter")&&t.uint32(24).bool(e.presenter),null!=e.videoEnabled&&Object.hasOwnProperty.call(e,"videoEnabled")&&t.uint32(32).bool(e.videoEnabled),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(40).bool(e.muted),null!=e.onHold&&Object.hasOwnProperty.call(e,"onHold")&&t.uint32(48).bool(e.onHold),null!=e.screenSharing&&Object.hasOwnProperty.call(e,"screenSharing")&&t.uint32(56).bool(e.screenSharing),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(64).int32(e.state),null!=e.connectionState&&Object.hasOwnProperty.call(e,"connectionState")&&t.uint32(72).int32(e.connectionState),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Participant;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.clientId=e.string();break;case 3:r.presenter=e.bool();break;case 4:r.videoEnabled=e.bool();break;case 5:r.muted=e.bool();break;case 6:r.onHold=e.bool();break;case 7:r.screenSharing=e.bool();break;case 8:r.state=e.int32();break;case 9:r.connectionState=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!d.isString(e.id))return"id: string expected";if(null!=e.clientId&&e.hasOwnProperty("clientId")&&!d.isString(e.clientId))return"clientId: string expected";if(null!=e.presenter&&e.hasOwnProperty("presenter")&&"boolean"!=typeof e.presenter)return"presenter: boolean expected";if(null!=e.videoEnabled&&e.hasOwnProperty("videoEnabled")&&"boolean"!=typeof e.videoEnabled)return"videoEnabled: boolean expected";if(null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted)return"muted: boolean expected";if(null!=e.onHold&&e.hasOwnProperty("onHold")&&"boolean"!=typeof e.onHold)return"onHold: boolean expected";if(null!=e.screenSharing&&e.hasOwnProperty("screenSharing")&&"boolean"!=typeof e.screenSharing)return"screenSharing: boolean expected";if(null!=e.state&&e.hasOwnProperty("state"))switch(e.state){default:return"state: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}if(null!=e.connectionState&&e.hasOwnProperty("connectionState"))switch(e.connectionState){default:return"connectionState: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null},e.fromObject=function(e){if(e instanceof p.bin_proto.Participant)return e;var t=new p.bin_proto.Participant;switch(null!=e.id&&(t.id=String(e.id)),null!=e.clientId&&(t.clientId=String(e.clientId)),null!=e.presenter&&(t.presenter=Boolean(e.presenter)),null!=e.videoEnabled&&(t.videoEnabled=Boolean(e.videoEnabled)),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.onHold&&(t.onHold=Boolean(e.onHold)),null!=e.screenSharing&&(t.screenSharing=Boolean(e.screenSharing)),e.state){case"ParticipantStateIdle":case 0:t.state=0;break;case"ParticipantStateRinging":case 1:t.state=1;break;case"ParticipantStateJoined":case 2:t.state=2;break;case"ParticipantStateLeft":case 3:t.state=3;break;case"ParticipantStateDeclined":case 4:t.state=4;break;case"ParticipantStateKicked":case 5:t.state=5;break;case"ParticipantStateNoAnswer":case 6:t.state=6}switch(e.connectionState){case"MediaConnectionStateIdle":case 0:t.connectionState=0;break;case"MediaConnectionStateConnecting":case 1:t.connectionState=1;break;case"MediaConnectionStateConnected":case 2:t.connectionState=2;break;case"MediaConnectionStateReconnecting":case 3:t.connectionState=3;break;case"MediaConnectionStateDisconnected":case 4:t.connectionState=4}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.clientId="",n.presenter=!1,n.videoEnabled=!1,n.muted=!1,n.onHold=!1,n.screenSharing=!1,n.state=t.enums===String?"ParticipantStateIdle":0,n.connectionState=t.enums===String?"MediaConnectionStateIdle":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.clientId&&e.hasOwnProperty("clientId")&&(n.clientId=e.clientId),null!=e.presenter&&e.hasOwnProperty("presenter")&&(n.presenter=e.presenter),null!=e.videoEnabled&&e.hasOwnProperty("videoEnabled")&&(n.videoEnabled=e.videoEnabled),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.onHold&&e.hasOwnProperty("onHold")&&(n.onHold=e.onHold),null!=e.screenSharing&&e.hasOwnProperty("screenSharing")&&(n.screenSharing=e.screenSharing),null!=e.state&&e.hasOwnProperty("state")&&(n.state=t.enums===String?p.bin_proto.ParticipantState[e.state]:e.state),null!=e.connectionState&&e.hasOwnProperty("connectionState")&&(n.connectionState=t.enums===String?p.bin_proto.MediaConnectionState[e.connectionState]:e.connectionState),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ParticipantState=function(){var e={},t=Object.create(e);return t[e[0]="ParticipantStateIdle"]=0,t[e[1]="ParticipantStateRinging"]=1,t[e[2]="ParticipantStateJoined"]=2,t[e[3]="ParticipantStateLeft"]=3,t[e[4]="ParticipantStateDeclined"]=4,t[e[5]="ParticipantStateKicked"]=5,t[e[6]="ParticipantStateNoAnswer"]=6,t}(),i.MediaConnectionState=function(){var e={},t=Object.create(e);return t[e[0]="MediaConnectionStateIdle"]=0,t[e[1]="MediaConnectionStateConnecting"]=1,t[e[2]="MediaConnectionStateConnected"]=2,t[e[3]="MediaConnectionStateReconnecting"]=3,t[e[4]="MediaConnectionStateDisconnected"]=4,t}(),i.MediaFlow=function(){var e={},t=Object.create(e);return t[e[0]="MediaFlowP2P"]=0,t[e[1]="MediaFlowSFU"]=1,t}(),i.Ice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.candidate="",e.prototype.sdpMid="",e.prototype.sdpMLineIndex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.candidate&&Object.hasOwnProperty.call(e,"candidate")&&t.uint32(10).string(e.candidate),null!=e.sdpMid&&Object.hasOwnProperty.call(e,"sdpMid")&&t.uint32(18).string(e.sdpMid),null!=e.sdpMLineIndex&&Object.hasOwnProperty.call(e,"sdpMLineIndex")&&t.uint32(24).int32(e.sdpMLineIndex),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.Ice;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.candidate=e.string();break;case 2:r.sdpMid=e.string();break;case 3:r.sdpMLineIndex=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.candidate&&e.hasOwnProperty("candidate")&&!d.isString(e.candidate)?"candidate: string expected":null!=e.sdpMid&&e.hasOwnProperty("sdpMid")&&!d.isString(e.sdpMid)?"sdpMid: string expected":null!=e.sdpMLineIndex&&e.hasOwnProperty("sdpMLineIndex")&&!d.isInteger(e.sdpMLineIndex)?"sdpMLineIndex: integer expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.Ice)return e;var t=new p.bin_proto.Ice;return null!=e.candidate&&(t.candidate=String(e.candidate)),null!=e.sdpMid&&(t.sdpMid=String(e.sdpMid)),null!=e.sdpMLineIndex&&(t.sdpMLineIndex=0|e.sdpMLineIndex),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.candidate="",n.sdpMid="",n.sdpMLineIndex=0),null!=e.candidate&&e.hasOwnProperty("candidate")&&(n.candidate=e.candidate),null!=e.sdpMid&&e.hasOwnProperty("sdpMid")&&(n.sdpMid=e.sdpMid),null!=e.sdpMLineIndex&&e.hasOwnProperty("sdpMLineIndex")&&(n.sdpMLineIndex=e.sdpMLineIndex),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.TurnServer=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.url="",e.prototype.username="",e.prototype.password="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(10).string(e.url),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(18).string(e.username),null!=e.password&&Object.hasOwnProperty.call(e,"password")&&t.uint32(26).string(e.password),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.TurnServer;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.url=e.string();break;case 2:r.username=e.string();break;case 3:r.password=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.url&&e.hasOwnProperty("url")&&!d.isString(e.url)?"url: string expected":null!=e.username&&e.hasOwnProperty("username")&&!d.isString(e.username)?"username: string expected":null!=e.password&&e.hasOwnProperty("password")&&!d.isString(e.password)?"password: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.TurnServer)return e;var t=new p.bin_proto.TurnServer;return null!=e.url&&(t.url=String(e.url)),null!=e.username&&(t.username=String(e.username)),null!=e.password&&(t.password=String(e.password)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.url="",n.username="",n.password=""),null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.password&&e.hasOwnProperty("password")&&(n.password=e.password),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.SignalError=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.SignalError;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!d.isInteger(e.code)?"code: integer expected":null!=e.message&&e.hasOwnProperty("message")&&!d.isString(e.message)?"message: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.SignalError)return e;var t=new p.bin_proto.SignalError;return null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0,n.message=""),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.ApiManager=function(){function e(e,t,n){l.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(l.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(e.prototype.checkCallPrivacy=function e(t,n){return this.rpcCall(e,p.bin_proto.PrivacyRequest,p.bin_proto.CallPrivacyResponse,t,n)},"name",{value:"CheckCallPrivacy"}),e}(),i.PrivacyRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.from="",e.prototype.to="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(10).string(e.from),null!=e.to&&Object.hasOwnProperty.call(e,"to")&&t.uint32(18).string(e.to),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.PrivacyRequest;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.from=e.string();break;case 2:r.to=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.from&&e.hasOwnProperty("from")&&!d.isString(e.from)?"from: string expected":null!=e.to&&e.hasOwnProperty("to")&&!d.isString(e.to)?"to: string expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.PrivacyRequest)return e;var t=new p.bin_proto.PrivacyRequest;return null!=e.from&&(t.from=String(e.from)),null!=e.to&&(t.to=String(e.to)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.from="",n.to=""),null!=e.from&&e.hasOwnProperty("from")&&(n.from=e.from),null!=e.to&&e.hasOwnProperty("to")&&(n.to=e.to),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i.CallPrivacyResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.isCallAllowed=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.isCallAllowed&&Object.hasOwnProperty.call(e,"isCallAllowed")&&t.uint32(8).bool(e.isCallAllowed),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.bin_proto.CallPrivacyResponse;e.pos<n;){var o=e.uint32();o>>>3==1?r.isCallAllowed=e.bool():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.isCallAllowed&&e.hasOwnProperty("isCallAllowed")&&"boolean"!=typeof e.isCallAllowed?"isCallAllowed: boolean expected":null},e.fromObject=function(e){if(e instanceof p.bin_proto.CallPrivacyResponse)return e;var t=new p.bin_proto.CallPrivacyResponse;return null!=e.isCallAllowed&&(t.isCallAllowed=Boolean(e.isCallAllowed)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.isCallAllowed=!1),null!=e.isCallAllowed&&e.hasOwnProperty("isCallAllowed")&&(n.isCallAllowed=e.isCallAllowed),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),i),p.google=((a={}).protobuf=((s={}).DoubleValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(9).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.DoubleValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.double():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.DoubleValue)return e;var t=new p.google.protobuf.DoubleValue;return null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s.FloatValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(13).float(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.FloatValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.float():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.FloatValue)return e;var t=new p.google.protobuf.FloatValue;return null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s.Int64Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).int64(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.Int64Value;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.int64():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!(d.isInteger(e.value)||e.value&&d.isInteger(e.value.low)&&d.isInteger(e.value.high))?"value: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.Int64Value)return e;var t=new p.google.protobuf.Int64Value;return null!=e.value&&(d.Long?(t.value=d.Long.fromValue(e.value)).unsigned=!1:"string"==typeof e.value?t.value=parseInt(e.value,10):"number"==typeof e.value?t.value=e.value:"object"==typeof e.value&&(t.value=new d.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(d.Long){var r=new d.Long(0,0,!1);n.value=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.value=t.longs===String?"0":0;return null!=e.value&&e.hasOwnProperty("value")&&("number"==typeof e.value?n.value=t.longs===String?String(e.value):e.value:n.value=t.longs===String?d.Long.prototype.toString.call(e.value):t.longs===Number?new d.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber():e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s.UInt64Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=d.Long?d.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).uint64(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.UInt64Value;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.uint64():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!(d.isInteger(e.value)||e.value&&d.isInteger(e.value.low)&&d.isInteger(e.value.high))?"value: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.UInt64Value)return e;var t=new p.google.protobuf.UInt64Value;return null!=e.value&&(d.Long?(t.value=d.Long.fromValue(e.value)).unsigned=!0:"string"==typeof e.value?t.value=parseInt(e.value,10):"number"==typeof e.value?t.value=e.value:"object"==typeof e.value&&(t.value=new d.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(d.Long){var r=new d.Long(0,0,!0);n.value=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.value=t.longs===String?"0":0;return null!=e.value&&e.hasOwnProperty("value")&&("number"==typeof e.value?n.value=t.longs===String?String(e.value):e.value:n.value=t.longs===String?d.Long.prototype.toString.call(e.value):t.longs===Number?new d.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber(!0):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s.Int32Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).int32(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.Int32Value;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.int32():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!d.isInteger(e.value)?"value: integer expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.Int32Value)return e;var t=new p.google.protobuf.Int32Value;return null!=e.value&&(t.value=0|e.value),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s.UInt32Value=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).uint32(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.UInt32Value;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.uint32():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!d.isInteger(e.value)?"value: integer expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.UInt32Value)return e;var t=new p.google.protobuf.UInt32Value;return null!=e.value&&(t.value=e.value>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s.BoolValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).bool(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.BoolValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.bool():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&"boolean"!=typeof e.value?"value: boolean expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.BoolValue)return e;var t=new p.google.protobuf.BoolValue;return null!=e.value&&(t.value=Boolean(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=!1),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s.StringValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(10).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.StringValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.string():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!d.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.StringValue)return e;var t=new p.google.protobuf.StringValue;return null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=""),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s.BytesValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=d.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(10).bytes(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.google.protobuf.BytesValue;e.pos<n;){var o=e.uint32();o>>>3==1?r.value=e.bytes():e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||d.isString(e.value))?"value: buffer expected":null},e.fromObject=function(e){if(e instanceof p.google.protobuf.BytesValue)return e;var t=new p.google.protobuf.BytesValue;return null!=e.value&&("string"==typeof e.value?d.base64.decode(e.value,t.value=d.newBuffer(d.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=d.newBuffer(n.value)))),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?d.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),s),a),e.exports=p},3864:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3930:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MentionsQuery=void 0;var a=n(4799),l=function(e){function t(t){var n=e.call(this)||this;return n.setChannelId=function(e){return n.channelId=e,n},n.limit=function(e){return n.count=e,n},n.setDirection=function(e){return n.direction="next"===e?a.MessageQueryDirection.Next:"prev"===e?a.MessageQueryDirection.Previous:"near"===e?a.MessageQueryDirection.Near:a.MessageQueryDirection.Next,n},n.loadNext=function(e){return i(n,void 0,void 0,(function(){var t,n,r,o;return s(this,(function(i){switch(i.label){case 0:return this.hasNext?[4,(e||a.InternalChannelHandler.getInstance()).getUnreadMentionedMessages(this)]:[3,2];case 1:return t=i.sent(),n=t.messageIds,r=t.nextToken,o=t.hasNext,this.hasNext=o||!1,this.nextToken=r,[2,{mentions:n.list.map((function(e){return e.toString()})),hasNext:o}];case 2:return[2,{mentions:[],hasNext:!1}]}}))}))},n.channelId=t.channelId,n.count=t.count,n.direction=t.direction||a.MessageQueryDirection.Previous,n}return o(t,e),t}(n(5948).Query);t.MentionsQuery=l},3948:(e,t,n)=>{"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentBuilder=void 0;var r=n(2273);t.AttachmentBuilder=function(e,t){var n=this;this.id="",this.setName=function(e){return n.name=e,n},this.setMetadata=function(e){return n.metadata=e,n},this.setUpload=function(e){return n.upload=e,n},this.setFileSize=function(e){return n.fileSize=e,n},this.create=function(){return new r.Attachment(n)},this.url=e,this.type=t,this.upload=!1}},4153:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},4198:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},4202:(e,t,n)=>{"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4358:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},4376:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionListQueryBuilder=void 0;var a=n(4799),l=function(e){function t(t){var n=e.call(this)||this;return n.limit=function(e){return n.count=e,n},n.setKey=function(e){return n.key=e,n},n.build=function(){return i(n,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.ReactionQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},n.msgId=t,n}return o(t,e),t}(n(1050).QueryBuilder);t.ReactionListQueryBuilder=l},4383:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionTotal=void 0;t.ReactionTotal=function(e){this.key=e.key,this.score=e.score,this.count=e.count}},4394:(e,t,n)=>{"use strict";var r=t;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(3449),r.BufferWriter=n(818),r.Reader=n(6237),r.BufferReader=n(3158),r.util=n(3610),r.rpc=n(5047),r.roots=n(4529),r.configure=o,o()},4490:(e,t,n)=>{"use strict";var r=n(9516),o=n(2881),i=n(3864),s=n(6987);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},4522:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PB=void 0;var i=n(4799),s=function(){function e(){}return e.create=function(e,t){var n=i.BMP[e],r=i.bin_proto[n],o=r.create(t),s=r.encode(o).finish();return(0,i.concatTypedArrays)(new Uint8Array([129]),new Uint8Array([e]),s)},e.decode=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,a;return o(this,(function(o){if(2===(t=new Uint8Array(e)).length)return[2,{bmpType:t[1],decodedMessage:null}];if(n=t[1],r=t.slice(2),s=i.BMP[n],n===i.BMP.Auth&&(s=i.BMP[i.BMP.Error]),!(a=i.bin_proto[s]?i.bin_proto[s].decode(r):null))throw Error("Decoded message of type ".concat(n," is empty"));return[2,{bmpType:n,decodedMessage:a}]}))}))},e.decodeContacts=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,i.bin_proto.ContactsResponse.decode(e)]}))}))},e.decodeDiscoveries=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,i.bin_proto.ContactsDiscoveryResponse.decode(e)]}))}))},e.encodeDiscoveries=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){return t=i.bin_proto.ContactsDiscoveryRequest.create({discoveries:e}),[2,i.bin_proto.ContactsDiscoveryRequest.encode(t).finish()]}))}))},e.contactCreateBMP=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){return t=i.bin_proto.ContactsResponse,n=t.create(e),[2,t.encode(n).finish()]}))}))},e}();t.PB=s},4529:e=>{"use strict";e.exports={}},4655:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserListQueryBuilder=void 0;var a=n(4799),l=function(e){function t(){var t=e.call(this)||this;return t.limit=function(e){return t.count=e,t},t.query=function(e){return t.searchQuery=e,t},t.offset=function(e){return t.index=e,t},t.orderByFirstname=function(){return t.order=a.UserSearchOrder[a.UserSearchOrder.FIRST_NAME],t},t.orderByLastname=function(){return t.order=a.UserSearchOrder[a.UserSearchOrder.LAST_NAME],t},t.orderByUsername=function(){return t.order=a.UserSearchOrder[a.UserSearchOrder.USERNAME],t},t.filterByAll=function(){return t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_ALL],t},t.filterByFirstname=function(){return t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_FIRST_NAME],t},t.filterByLastname=function(){return t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_LAST_NAME],t},t.filterByUsername=function(){return t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_USERNAME],t},t.build=function(){return i(t,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.UsersQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},t.filter=a.UserSearchFilter[a.UserSearchFilter.BY_ALL],t.order=a.UserSearchOrder[a.UserSearchOrder.FIRST_NAME],t.searchQuery="",t.index=0,t.hasNext=!0,t}return o(t,e),t}(a.QueryBuilder);t.UserListQueryBuilder=l},4680:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4799:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9730),t),o(n(7525),t),o(n(9965),t),o(n(6450),t),o(n(3862),t),o(n(5711),t),o(n(1853),t),o(n(7007),t),o(n(3582),t),o(n(1509),t),o(n(9155),t),o(n(6818),t),o(n(2814),t),o(n(5067),t),o(n(8420),t),o(n(1252),t),o(n(1559),t),o(n(7668),t),o(n(7573),t),o(n(9651),t),o(n(2934),t),o(n(5872),t),o(n(9353),t),o(n(8666),t),o(n(1050),t),o(n(5948),t),o(n(4522),t),o(n(2576),t),o(n(8077),t),o(n(1675),t),o(n(291),t),o(n(2969),t),o(n(463),t),o(n(2685),t),o(n(842),t),o(n(4655),t),o(n(5485),t),o(n(1e3),t),o(n(6690),t),o(n(987),t),o(n(9245),t),o(n(4818),t),o(n(2273),t),o(n(4091),t),o(n(2656),t),o(n(3664),t),o(n(1727),t),o(n(3478),t),o(n(8576),t),o(n(4376),t),o(n(2274),t),o(n(526),t),o(n(984),t),o(n(2948),t),o(n(8699),t),o(n(6920),t),o(n(3240),t),o(n(6254),t),o(n(2712),t),o(n(1376),t),o(n(1446),t),o(n(4383),t),o(n(431),t),o(n(7257),t),o(n(9286),t),o(n(5780),t)},4818:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.SceytChatError=void 0;var o=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.type=r,i.code=n,i.traceId=o,i.name="SceytChatError",i}return r(t,e),t}(Error);t.SceytChatError=o},4841:(e,t,n)=>{"use strict";var r=n(4198),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={},s=r.version.split(".");function a(e,t){for(var n=t?t.split("."):s,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}o.transitional=function(e,t,n){var o=t&&a(t);function s(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(s(r," has been removed in "+t));return o&&!i[r]&&(i[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],s=t[i];if(s){var a=e[i],l=void 0===a||s(a,i,e);if(!0!==l)throw new TypeError("option "+i+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},4863:(e,t,n)=>{"use strict";e.exports=E,E.filename=null,E.defaults={keepCase:!1};var r=n(527),o=n(5330),i=n(7882),s=n(1344),a=n(8252),l=n(1457),c=n(5643),u=n(9687),d=n(8811),p=n(361),h=n(3262),f=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,m=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,v=/^-?0[0-7]+$/,O=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,S=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,_=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function E(e,t,n){t instanceof o||(n=t,t=new o),n||(n=E.defaults);var I,P,k,T,j,A=n.preferTrailingComment||!1,C=r(e,n.alternateCommentMode||!1),N=C.next,x=C.push,M=C.peek,L=C.skip,D=C.cmnt,R=!0,U=!1,B=t,Q=n.keepCase?function(e){return e}:h.camelCase;function H(e,t,n){var r=E.filename;return n||(E.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+C.line+")")}function F(){var e,t=[];do{if('"'!==(e=N())&&"'"!==e)throw H(e);t.push(N()),L(e),e=M()}while('"'===e||"'"===e);return t.join("")}function V(e){var t=N();switch(t){case"'":case'"':return x(t),F();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e){var t=1;switch("-"===e.charAt(0)&&(t=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return t*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return t*parseInt(e,10);if(y.test(e))return t*parseInt(e,16);if(b.test(e))return t*parseInt(e,8);if(O.test(e))return t*parseFloat(e);throw H(e,"number",!0)}(t)}catch(n){if(e&&S.test(t))return t;throw H(t,"value")}}function G(e,t){var n,r;do{!t||'"'!==(n=M())&&"'"!==n?e.push([r=J(N()),L("to",!0)?J(N()):r]):e.push(F())}while(L(",",!0));L(";")}function J(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw H(e,"id");if(g.test(e))return parseInt(e,10);if(m.test(e))return parseInt(e,16);if(v.test(e))return parseInt(e,8);throw H(e,"id")}function q(){if(void 0!==I)throw H("package");if(I=N(),!S.test(I))throw H(I,"name");B=B.define(I),L(";")}function K(){var e,t=M();switch(t){case"weak":e=k||(k=[]),N();break;case"public":N();default:e=P||(P=[])}t=F(),L(";"),e.push(t)}function z(){if(L("="),T=F(),!(U="proto3"===T)&&"proto2"!==T)throw H(T,"syntax");L(";")}function Y(e,t){switch(t){case"option":return Z(e,t),L(";"),!0;case"message":return function(e,t){if(!w.test(t=N()))throw H(t,"type name");var n=new i(t);W(n,(function(e){if(!Y(n,e))switch(e){case"map":!function(e){L("<");var t=N();if(void 0===p.mapKey[t])throw H(t,"type");L(",");var n=N();if(!S.test(n))throw H(n,"type");L(">");var r=N();if(!w.test(r))throw H(r,"name");L("=");var o=new a(Q(r),J(N()),t,n);W(o,(function(e){if("option"!==e)throw H(e);Z(o,e),L(";")}),(function(){te(o)})),e.add(o)}(n);break;case"required":case"repeated":$(n,e);break;case"optional":$(n,U?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!w.test(t=N()))throw H(t,"name");var n=new l(Q(t));W(n,(function(e){"option"===e?(Z(n,e),L(";")):(x(e),$(n,"optional"))})),e.add(n)}(n,e);break;case"extensions":G(n.extensions||(n.extensions=[]));break;case"reserved":G(n.reserved||(n.reserved=[]),!0);break;default:if(!U||!S.test(e))throw H(e);x(e),$(n,"optional")}})),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!w.test(t=N()))throw H(t,"name");var n=new c(t);W(n,(function(e){switch(e){case"option":Z(n,e),L(";");break;case"reserved":G(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!w.test(t))throw H(t,"name");L("=");var n=J(N(),!0),r={};W(r,(function(e){if("option"!==e)throw H(e);Z(r,e),L(";")}),(function(){te(r)})),e.add(t,n,r.comment)}(n,e)}})),e.add(n)}(e,t),!0;case"service":return function(e,t){if(!w.test(t=N()))throw H(t,"service name");var n=new u(t);W(n,(function(e){if(!Y(n,e)){if("rpc"!==e)throw H(e);!function(e,t){var n=D(),r=t;if(!w.test(t=N()))throw H(t,"name");var o,i,s,a,l=t;if(L("("),L("stream",!0)&&(i=!0),!S.test(t=N()))throw H(t);if(o=t,L(")"),L("returns"),L("("),L("stream",!0)&&(a=!0),!S.test(t=N()))throw H(t);s=t,L(")");var c=new d(l,r,o,s,i,a);c.comment=n,W(c,(function(e){if("option"!==e)throw H(e);Z(c,e),L(";")})),e.add(c)}(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!S.test(t=N()))throw H(t,"reference");var n=t;W(null,(function(t){switch(t){case"required":case"repeated":$(e,t,n);break;case"optional":$(e,U?"proto3_optional":"optional",n);break;default:if(!U||!S.test(t))throw H(t);x(t),$(e,"optional",n)}}))}(e,t),!0}return!1}function W(e,t,n){var r=C.line;if(e&&("string"!=typeof e.comment&&(e.comment=D()),e.filename=E.filename),L("{",!0)){for(var o;"}"!==(o=N());)t(o);L(";",!0)}else n&&n(),L(";"),e&&("string"!=typeof e.comment||A)&&(e.comment=D(r)||e.comment)}function $(e,t,n){var r=N();if("group"!==r){if(!S.test(r))throw H(r,"type");var o=N();if(!w.test(o))throw H(o,"name");o=Q(o),L("=");var a=new s(o,J(N()),r,t,n);if(W(a,(function(e){if("option"!==e)throw H(e);Z(a,e),L(";")}),(function(){te(a)})),"proto3_optional"===t){var c=new l("_"+o);a.setOption("proto3_optional",!0),c.add(a),e.add(c)}else e.add(a);U||!a.repeated||void 0===p.packed[r]&&void 0!==p.basic[r]||a.setOption("packed",!1,!0)}else!function(e,t){var n=N();if(!w.test(n))throw H(n,"name");var r=h.lcFirst(n);n===r&&(n=h.ucFirst(n)),L("=");var o=J(N()),a=new i(n);a.group=!0;var l=new s(r,o,n,t);l.filename=E.filename,W(a,(function(e){switch(e){case"option":Z(a,e),L(";");break;case"required":case"repeated":$(a,e);break;case"optional":$(a,U?"proto3_optional":"optional");break;default:throw H(e)}})),e.add(a).add(l)}(e,t)}function Z(e,t){var n=L("(",!0);if(!S.test(t=N()))throw H(t,"name");var r,o=t,i=o;n&&(L(")"),i=o="("+o+")",t=M(),_.test(t)&&(r=t.substr(1),o+=t,N())),L("="),function(e,t,n,r){e.setParsedOption&&e.setParsedOption(t,n,r)}(e,i,X(e,o),r)}function X(e,t){if(L("{",!0)){for(var n={};!L("}",!0);){if(!w.test(j=N()))throw H(j,"name");var r,o=j;"{"===M()?r=X(e,t+"."+j):(L(":"),"{"===M()?r=X(e,t+"."+j):(r=V(!0),ee(e,t+"."+j,r)));var i=n[o];i&&(r=[].concat(i).concat(r)),n[o]=r,L(",",!0)}return n}var s=V(!0);return ee(e,t,s),s}function ee(e,t,n){e.setOption&&e.setOption(t,n)}function te(e){if(L("[",!0)){do{Z(e,"option")}while(L(",",!0));L("]")}return e}for(;null!==(j=N());)switch(j){case"package":if(!R)throw H(j);q();break;case"import":if(!R)throw H(j);K();break;case"syntax":if(!R)throw H(j);z();break;case"option":Z(B,j),L(";");break;default:if(Y(B,j)){R=!1;continue}throw H(j)}return E.filename=null,{package:I,imports:P,weakImports:k,syntax:T,root:t}}},5017:(e,t)=>{var n,r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}function o(e){var t=Math.clz32(e&-e);return e?31-t:t}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},s={};function a(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=c(e,0,!0),o&&(s[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function l(e,t){if(isNaN(e))return t?b:m;if(t){if(e<0)return b;if(e>=f)return _}else{if(e<=-g)return E;if(e+1>=g)return S}return e<0?l(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=l,n.fromBits=c;var u=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("number"==typeof t?(n=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?b:m;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var o=l(u(n,8)),i=m,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),n);if(a<8){var p=l(u(n,a));i=i.mul(p).add(l(c))}else i=(i=i.mul(o)).add(l(c))}return i.unsigned=t,i}function p(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=d,n.fromValue=p;var h=4294967296,f=h*h,g=f/2,y=a(1<<24),m=a(0);n.ZERO=m;var b=a(0,!0);n.UZERO=b;var v=a(1);n.ONE=v;var O=a(1,!0);n.UONE=O;var w=a(-1);n.NEG_ONE=w;var S=c(-1,2147483647,!1);n.MAX_VALUE=S;var _=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=_;var E=c(0,-2147483648,!1);n.MIN_VALUE=E;var I=n.prototype;return I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var t=l(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=l(u(e,6),this.unsigned),i=this,s="";;){var a=i.div(o),c=(i.sub(a.mul(o)).toInt()>>>0).toString(e);if((i=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return!(1&~this.low)},I.isEven=function(){return!(1&this.low)},I.equals=function(e){return r(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(r(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(v)},I.neg=I.negate,I.add=function(e){r(e)||(e=p(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,s=e.high>>>16,a=65535&e.high,l=e.low>>>16,u=0,d=0,h=0,f=0;return h+=(f+=i+(65535&e.low))>>>16,d+=(h+=o+l)>>>16,u+=(d+=n+a)>>>16,u+=t+s,c((h&=65535)<<16|(f&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},I.subtract=function(e){return r(e)||(e=p(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return this;if(r(e)||(e=p(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?b:m;if(this.eq(E))return e.isOdd()?E:m;if(e.eq(E))return this.isOdd()?E:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return l(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,s=65535&this.low,a=e.high>>>16,u=65535&e.high,d=e.low>>>16,h=65535&e.low,f=0,g=0,v=0,O=0;return v+=(O+=s*h)>>>16,g+=(v+=i*h)>>>16,v&=65535,g+=(v+=s*d)>>>16,f+=(g+=o*h)>>>16,g&=65535,f+=(g+=i*d)>>>16,g&=65535,f+=(g+=s*u)>>>16,f+=n*h+o*d+i*u+s*a,c((v&=65535)<<16|(O&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(r(e)||(e=p(e)),e.isZero())throw Error("division by zero");var n,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return O;i=b}else{if(this.eq(E))return e.eq(v)||e.eq(w)?E:e.eq(E)?v:(n=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?v:w:(o=this.sub(e.mul(n)),i=n.add(o.div(e)));if(e.eq(E))return this.unsigned?b:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=m}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),a=s<=48?1:u(2,s-48),d=l(n),h=d.mul(e);h.isNegative()||h.gt(o);)h=(d=l(n-=a,this.unsigned)).mul(e);d.isZero()&&(d=v),i=i.add(d),o=o.sub(h)}return i},I.div=I.divide,I.modulo=function(e){return r(e)||(e=p(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return c(~this.low,~this.high,this.unsigned)},I.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},I.clz=I.countLeadingZeros,I.countTrailingZeros=function(){return this.low?o(this.low):o(this.high)+32},I.ctz=I.countTrailingZeros,I.and=function(e){return r(e)||(e=p(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return r(e)||(e=p(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return r(e)||(e=p(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.rotateLeft=function(e){var t;return r(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},I.rotl=I.rotateLeft,I.rotateRight=function(e){var t;return r(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},I.rotr=I.rotateRight,I.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(n.fromBigInt=function(e,t){return c(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},n.fromValue=function(e,t){return"bigint"==typeof e?fromBigInt(e,t):p(e,t)},I.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=n,"default"in e?e.default:e}({});void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)},5019:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},5047:(e,t,n)=>{"use strict";t.Service=n(7595)},5067:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthHandler=void 0;var a=n(4799),l=s(n(3065)),c=function(){function e(e,t,n,s,c){void 0===s&&(s=1e4);var u=this;this.onAuthSuccess=new a.LiteEvent,this.onAuthFailed=new a.LiteEvent,this.onTokenExpired=new a.LiteEvent,this.appId="",this._host="",this._clientId="",this._jwt="",this.authState=a.AuthState.NOT_AUTHENTICATED,this.setUserCredentials=function(e){u.userCredentials=e},this.setAuthState=function(e){u.authState=e},this.authViaHttp=function(e,t,n){return o(u,void 0,void 0,(function(){var o,s,l,c,u,d,p,h;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.httpClient.connect(e,n)];case 1:return o=i.sent(),s=o.message,l=o.code,c=o.credentials,200===o.statusCode?(this.setUserCredentials(r(r({},c),{jwt:e,clientId:t})),[2,{httpError:!1}]):(this.onAuthFailed.trigger(new a.SceytChatError(s,l)),[2,{httpError:!0}]);case 2:return u=i.sent(),d=(u.response||u).connectionTimeout,p=u.response?!u.response.data.code||u.response.data.code<200?a.clientErrors.NETWORK_CONNECTION_ERROR.message:u.response.data.message:a.clientErrors.NETWORK_CONNECTION_ERROR.message,h=u.response?!u.response.data.code||u.response.data.code<200?a.clientErrors.NETWORK_CONNECTION_ERROR.code:u.response.data.code:a.clientErrors.NETWORK_CONNECTION_ERROR.code,this.onAuthFailed.trigger(new a.SceytChatError(p,h)),[2,{httpError:!0,connectionTimeout:!!d}];case 3:return[2]}}))}))},this.createAuthMessage=function(){return a.PB.create(a.BMP.Auth,{username:u.id,jwt:u.userCredentials.jwt,resource:u.userCredentials.clientId,presence:0})},this.createAuthMessage2=function(){return a.PB.create(a.BMP.Auth,{username:u.appId,jwt:u._jwt,resource:u._clientId,presence:0})},this.refreshToken=function(e){u._jwt=e,u.authState===a.AuthState.AUTHENTICATED?u.authViaSocket():u.onAuthFailed.trigger(new a.SceytChatError(a.clientErrors.NETWORK_CONNECTION_ERROR.code,a.clientErrors.NETWORK_CONNECTION_ERROR.message))},this.authViaSocket=function(){u.setAuthState(a.AuthState.AUTHENTICATING),l.default.info("Authenticating"),u._authTimeout=setTimeout((function(){l.default.info("Auth timeout"),u.setAuthState(a.AuthState.AUTH_FAILED),u.onAuthFailed.trigger(new a.SceytChatError(a.clientErrors.REQUEST_TIMEOUT.message,a.clientErrors.REQUEST_TIMEOUT.code))}),u._connectionTimeOut);var e=u.createAuthMessage2();u.socketClient.sendMessage(e)},this.handleAuthOk=function(e){u.setAuthState(a.AuthState.AUTHENTICATED),clearTimeout(u._authTimeout),l.default.info("Authenticated");var t=e.serverTime-Date.now(),n=1e3*e.expireTime-t;u.onAuthSuccess.trigger({user:e.user,settings:e.settings}),u.socketClient.keepAlive(n)},this.handleAuthError=function(e){clearTimeout(u._authTimeout),e.code!==a.serverErrors.UNAUTHORIZED&&e.code!==a.serverErrors.DUPLICATE_CLIENT_ID||u.socketClient.close("UNAUTHORIZED"),e.code===a.serverErrors.EXPIRED_TOKEN?(u.setAuthState(a.AuthState.NOT_AUTHENTICATED),u.onAuthFailed.trigger(new a.SceytChatError(e.message,e.code,e.type,e.traceId)),u.onTokenExpired.trigger()):(u.setAuthState(a.AuthState.AUTH_FAILED),u.onAuthFailed.trigger(new a.SceytChatError(e.message,e.code,e.type,e.traceId))),l.default.info("Authentication failed",e.code)},l.default.info("Init AuthHandler");var d=e.split("://"),p=("https"===d[0]?"wss://":"ws://")+d[1].replace("api","ws")+"/bmp";this.httpClient=new a.HttpClient(e,t),this.appId=t,this._host=p,this._clientId=n,this._connectionTimeOut=s,this.socketClient=c}return Object.defineProperty(e.prototype,"a",{get:function(){return this.userCredentials.a},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vh",{get:function(){return this.userCredentials.vh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mvh",{get:function(){return this.userCredentials.mvh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u",{get:function(){return this.userCredentials&&this.userCredentials.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.u},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authSuccess",{get:function(){return this.onAuthSuccess.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenExpired",{get:function(){return this.onTokenExpired.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authFailed",{get:function(){return this.onAuthFailed.expose()},enumerable:!1,configurable:!0}),e.prototype.clearAuthListeners=function(){clearTimeout(this._authTimeout)},Object.defineProperty(e.prototype,"getAuthState",{get:function(){return this.authState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getConnectingUserId",{get:function(){return this.connectingUserId},enumerable:!1,configurable:!0}),e.prototype.setAuthStateIsDisconnected=function(){this.authState=a.AuthState.NOT_AUTHENTICATED},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostOld",{get:function(){return this.userCredentials.h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prefix",{get:function(){return"".concat(this.a,"-")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suffix",{get:function(){return"@".concat(this.vh)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"jwt",{get:function(){return this._jwt},set:function(e){this._jwt=e},enumerable:!1,configurable:!0}),e}();t.AuthHandler=c},5095:e=>{"use strict";e.exports=r;var t,n=/\/|\./;function r(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:t}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},5155:(e,t,n)=>{"use strict";var r=n(9516),o=n(9106),i=n(3471),s=n(4490),a=n(5343),l=n(4841),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var u=[s,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(i),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var d=e;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(e){h(e);break}}try{o=s(d)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},5212:(e,t,n)=>{"use strict";e.exports=i;var r=n(8045),o=n(4153)("fs");function i(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&o&&o.readFile?o.readFile(e,(function(r,o){return r&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,n):r?n(r):n(null,t.binary?o:o.toString("utf8"))})):i.xhr(e,t,n):r(i,this,e,t)}i.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var o=0;o<r.responseText.length;++o)e.push(255&r.responseText.charCodeAt(o))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},5325:(e,t,n)=>{"use strict";var r=e.exports=n(4394);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(1080),r.decoder=n(7728),r.verifier=n(420),r.converter=n(744),r.ReflectionObject=n(7209),r.Namespace=n(8923),r.Root=n(5330),r.Enum=n(5643),r.Type=n(7882),r.Field=n(1344),r.OneOf=n(1457),r.MapField=n(8252),r.Service=n(9687),r.Method=n(8811),r.Message=n(2551),r.wrappers=n(6434),r.types=n(361),r.util=n(3262),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},5330:(e,t,n)=>{"use strict";e.exports=d;var r=n(8923);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var o,i,s,a=n(1344),l=n(5643),c=n(1457),u=n(3262);function d(e){r.call(this,"",e),this.deferred=[],this.files=[]}function p(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.fetch=u.fetch,d.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var o=this;if(!r)return u.asPromise(e,o,t,n);var a=r===p;function l(e,t){if(r){var n=r;if(r=null,a)throw e;n(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in s)return n}return null}function d(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){i.filename=e;var r,s=i(t,o,n),d=0;if(s.imports)for(;d<s.imports.length;++d)(r=c(s.imports[d])||o.resolvePath(e,s.imports[d]))&&h(r);if(s.weakImports)for(d=0;d<s.weakImports.length;++d)(r=c(s.weakImports[d])||o.resolvePath(e,s.weakImports[d]))&&h(r,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){l(e)}a||f||l(null,o)}function h(e,t){if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in s)a?d(e,s[e]):(++f,setTimeout((function(){--f,d(e,s[e])})));else if(a){var n;try{n=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||l(e))}d(e,n)}else++f,o.fetch(e,(function(n,i){--f,r&&(n?t?f||l(null,o):l(n):d(e,i))}))}var f=0;u.isString(t)&&(t=[t]);for(var g,y=0;y<t.length;++y)(g=o.resolvePath("",t[y]))&&h(g);if(a)return o;f||l(null,o)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,p)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function f(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof l)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof o)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);h.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof l)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);h.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,n){o=e,i=t,s=n}},5343:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=l(void 0,e[o])):n[o]=l(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),r.forEach(i,c),r.forEach(s,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=l(void 0,e[o])):n[o]=l(void 0,t[o])})),r.forEach(a,(function(r){r in t?n[r]=l(e[r],t[r]):r in e&&(n[r]=l(void 0,e[r]))}));var u=o.concat(i).concat(s).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(d,c),n}},5449:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},5485:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNextPage=function(e){return r(t,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasNext?(t=e||i.InternalUserHandler.getInstance(),this.loading=!0,n={count:this.count,query:this.query,order:this.order,filter:this.filter,index:this.index},[4,t.usersQuery(n)]):[3,2];case 1:return r=o.sent(),this.loading=!1,this.index+=r.length,this.hasNext=this.count>=r.length,[2,{users:r,hasNext:this.hasNext}];case 2:return[2,{users:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.filter=e.filter,this.order=e.order,this.query=e.searchQuery,this.index=e.index,this.count=e.count,this.hasNext=e.hasNext}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),e}();t.UsersQuery=s},5592:(e,t,n)=>{"use strict";var r=n(9516),o=n(7522),i=n(3948),s=n(9106),a=n(9615),l=n(2012),c=n(4202),u=n(7763);e.exports=function(e){return new Promise((function(t,n){var d=e.data,p=e.headers,h=e.responseType;r.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(g+":"+y)}var m=a(e.baseURL,e.url);function b(){if(f){var r="getAllResponseHeaders"in f?l(f.getAllResponseHeaders()):null,i={data:h&&"text"!==h&&"json"!==h?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};o(t,n,i),f=null}}if(f.open(e.method.toUpperCase(),s(m,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=b:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(b)},f.onabort=function(){f&&(n(u("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||c(m))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;v&&(p[e.xsrfHeaderName]=v)}"setRequestHeader"in f&&r.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),h&&"json"!==h&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),n(e),f=null)})),d||(d=null),f.send(d)}))}},5643:(e,t,n)=>{"use strict";e.exports=s;var r=n(7209);((s.prototype=Object.create(r.prototype)).constructor=s).className="Enum";var o=n(8923),i=n(3262);function s(e,t,n,o,i){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=void 0,t)for(var s=Object.keys(t),a=0;a<s.length;++a)"number"==typeof t[s[a]]&&(this.valuesById[this.values[s[a]]=t[s[a]]]=s[a])}s.fromJSON=function(e,t){var n=new s(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(e,t,n){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},s.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},s.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},5711:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var o=n(4799),i=r(n(5017));t.User=function(e){var t,n,r,s,a,l;if(void 0===e&&(e={id:"",profile:{firstName:"",lastName:"",avatar:"",metadataMap:{}},status:0,presence:{state:0,status:"",lastActiveAt:void 0},blocked:!1}),this.id=e.id,this.firstName=(null===(t=e.profile)||void 0===t?void 0:t.firstName)?e.profile.firstName:"",this.lastName=(null===(n=e.profile)||void 0===n?void 0:n.lastName)?e.profile.lastName:"",this.avatarUrl=(null===(r=e.profile)||void 0===r?void 0:r.avatar)?e.profile.avatar:"",this.metadata=(null===(s=e.profile)||void 0===s?void 0:s.metadataMap)?e.profile.metadataMap:{},this.username=e.username||"",this.state=o.UserStatus[e.status],this.presence={state:o.PresenceStatus[(null===(a=e.presence)||void 0===a?void 0:a.state)||0],status:(null===(l=e.presence)||void 0===l?void 0:l.status)||""},e.presence&&e.presence.lastActiveAt){var c=e.presence.lastActiveAt instanceof i.default?e.presence.lastActiveAt.toNumber():e.presence.lastActiveAt;this.presence.lastActiveAt=c?new Date(c):null}this.blocked=e.blocked}},5712:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MentionsListQueryBuilder=void 0;var a=n(4799),l=n(3930),c=function(e){function t(t){var n=e.call(this)||this;return n.setChannelId=function(e){return n.channelId=e,n},n.limit=function(e){return n.count=e,n},n.setDirection=function(e){return console.log("setDirection",e),n.direction="next"===e?a.MessageQueryDirection.Next:"prev"===e?a.MessageQueryDirection.Previous:"near"===e?a.MessageQueryDirection.Near:a.MessageQueryDirection.Next,n},n.build=function(){return i(n,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new l.MentionsQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},n.channelId=t,n.count=10,n.direction=a.MessageQueryDirection.Previous,n}return o(t,e),t}(n(1050).QueryBuilder);t.MentionsListQueryBuilder=c},5780:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageLinkOGQueryBuilder=void 0;var a=n(9286),l=n(1050),c=n(4818),u=function(e){function t(t){var n=e.call(this)||this;return n.build=function(){return i(n,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.MessageLinkOGQuery(this)]}catch(e){throw new c.SceytChatError(e.message,e.code)}return[2]}))}))},n.url=t,n}return o(t,e),t.prototype.setUrl=function(e){return this.url=e,this},t}(l.QueryBuilder);t.MessageLinkOGQueryBuilder=u},5872:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelListQueryBuilder=void 0;var i=n(4799),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctype="",t.queryStr="",t.fields=[],t.sort=i.ChannelSearchQuerySortOptions[i.ChannelSearchQuerySortOptions.Last_message],t.fieldsMap={},t.index=0,t.channelMembersCount=10,t.query=function(e){t.queryStr=e},t.limit=function(e){return t.count=e,t},t.offset=function(e){return t.index=e,t},t.memberCount=function(e){return t.channelMembersCount=e,t},t.types=function(e){t.ctype=e.join()},t.order=function(e){return"lastMessage"===e?t.sort=i.ChannelSearchQuerySortOptions[i.ChannelSearchQuerySortOptions.Last_message]:"createdAt"===e&&(t.sort=i.ChannelSearchQuerySortOptions[i.ChannelSearchQuerySortOptions.Created_at]),t},t.filterKey=function(e){return e&&e.length>0&&e.forEach((function(e){if("subject"===e){var n=i.ChannelSearchQueryKey.SUBJECT;t.fieldsMap[n]={key:n,value:{word:t.queryStr,op:i.SearchQueryType.NONE}}}else"uri"===e?(n=i.ChannelSearchQueryKey.URI,t.fieldsMap[n]={key:n,value:{word:t.queryStr,op:i.SearchQueryType.NONE}}):"state"===e?(n=i.ChannelSearchQueryKey.STATE,t.fieldsMap[n]={key:n,value:{word:t.queryStr,op:i.SearchQueryType.NONE}}):"cratedAt"===e&&(n=i.ChannelSearchQueryKey.CREATED_AT,t.fieldsMap[n]={key:n,value:{word:t.queryStr,op:i.SearchQueryType.NONE}})})),t},t.searchOperator=function(e){return"contains"===e?Object.keys(t.fieldsMap).forEach((function(e){t.fieldsMap[e]={key:e,value:{word:t.queryStr,op:i.SearchQueryType.CONTAINS}}})):"beginsWith"===e?Object.keys(t.fieldsMap).forEach((function(e){t.fieldsMap[e]={key:e,value:{word:t.queryStr,op:i.SearchQueryType.BEGINS_WITH}}})):"equal"===e?Object.keys(t.fieldsMap).forEach((function(e){t.fieldsMap[e]={key:e,value:{word:t.queryStr,op:i.SearchQueryType.EQUAL}}})):"lowerThan"===e?Object.keys(t.fieldsMap).forEach((function(e){t.fieldsMap[e]={key:e,value:{word:t.queryStr,op:i.SearchQueryType.LT}}})):"lowerThanOrEqual"===e?Object.keys(t.fieldsMap).forEach((function(e){t.fieldsMap[e]={key:e,value:{word:t.queryStr,op:i.SearchQueryType.LTE}}})):"greaterThan"===e?Object.keys(t.fieldsMap).forEach((function(e){t.fieldsMap[e]={key:e,value:{word:t.queryStr,op:i.SearchQueryType.GT}}})):"greaterThanOrEqual"===e?Object.keys(t.fieldsMap).forEach((function(e){t.fieldsMap[e]={key:e,value:{word:t.queryStr,op:i.SearchQueryType.GTE}}})):"between"===e&&Object.keys(t.fieldsMap).forEach((function(e){t.fieldsMap[e]={key:e,value:{word:t.queryStr,op:i.SearchQueryType.BETWEEN}}})),t},t.build=function(){t.fields=Object.values(t.fieldsMap);try{return new i.ChannelListQuery(t)}catch(e){throw new i.SceytChatError(e.message,e.code)}},t}return o(t,e),t}(n(1050).QueryBuilder);t.ChannelListQueryBuilder=s},5948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;t.Query=function(){this.count=10,this.hasNext=!0,this.loading=!1}},6237:(e,t,n)=>{"use strict";e.exports=l;var r,o=n(3610),i=o.LongBits,s=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return o.Buffer?function(e){return(l.create=function(e){return o.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function p(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},l.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){r=e,l.create=d(),r._configure();var t=o.Long?"toLong":"toNumber";o.merge(l.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},6254:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentListQueryBuilder=void 0;var i=n(4799),s=function(e){function t(t,n){var r=e.call(this)||this;return r.searchThread=!1,r.reversed=!1,r.limit=function(e){return r.count=e,r},r.reverse=function(e){return r.reversed=e,r},r.searchInThread=function(){return r.searchThread=!0,r},r.build=function(){try{return new i.AttachmentListQuery(r)}catch(e){throw new i.SceytChatError(e.message,e.code)}},r.attachmentTypes=n,r.channelId=t,r}return o(t,e),t}(n(1050).QueryBuilder);t.AttachmentListQueryBuilder=s},6434:(e,t,n)=>{"use strict";var r=t,o=n(2551);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(r);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var s=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),s["@type"]=r,s}return this.toObject(e,t)}}},6450:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE_MARKER_NAME=t.CONNECTION_STATE=t.REACTION_EVENT_TYPE=t.BIT22=t.EPOCH=t.REQUEST_TIMEOUT=t.RECONNECTION_TIMEOUT=t.PING_MESSAGE=t.CONNECTION_EVENT_TYPES=t.clientErrors=t.serverErrors=t.api=void 0,t.api={connect:"connect",attachments:"attachments",files:"files",settings:"settings",reports:"reports",contact:"contact"},t.serverErrors={BAD_REQUEST:4e4,TOO_LARGE_MESSAGE:1203,TOO_MANY_ATTEMPTS:40002,BAD_PARAM:40003,BAD_CHANNEL_TYPE:40004,BAD_USERNAME_IN_TOKEN:40005,CHANNEL_ALREADY_EXISTS:40006,MEMBER_EXISTS:40007,MEMBER_NOT_EXISTS:40008,MEMBERS_LIMIT_EXCEEDED:40009,BAD_MESSAGE_TYPE:40010,BAD_ATTACHMENT_TYPE:40011,UNDEFINED_ROLE:40012,TOO_LARGE_METADATA:40013,BLOCKED_CHANNEL:40014,USER_NOT_EXISTS:40015,INVALID_TOKEN:1021,EXPIRED_TOKEN:1020,TOKEN_NOT_ACTIVE:40103,UNAUTHORIZED:1302,NOT_ALLOWED:40105,ACCOUNT_SUSPENDED:40106,INVALID_CLIENT_ID:40107,DUPLICATE_CLIENT_ID:1305,INACTIVE_USER:40301,ITEM_NOT_FOUND:40400,CHANNEL_NOT_EXISTS:40401,TOO_MANY_REQUESTS:42900,INTERNAL_ERROR:50001,SERVICE_UNAVAILABLE:503,SESSION_NOT_FOUND:50004,TOO_MANY_FORWARDED:42901},t.clientErrors={UNKNOWN_ERROR:{code:9900,message:"Unknown error"},INVALID_INITIALIZATION:{code:9901,message:"Application is not configured. Try to setup ChatClient"},REQUEST_TIMEOUT:{code:9902,message:"Request timeout"},CONNECTION_REQUIRED:{code:9903,message:"Not connected, please connect first"},NETWORK_CONNECTION_ERROR:{code:9904,message:"Network connection error"},SERVICE_UNAVAILABLE:{code:503,message:"SERVICE UNAVAILABLE"},QUERY_IN_PROGRESS:{code:9908,message:"QUERY_IN_PROGRESS"},TOO_LARGE_MESSAGE:{code:1203,message:"The file size is too big"}},t.CONNECTION_EVENT_TYPES={onTokenWillExpire:"onTokenWillExpire",onTokenExpired:"onTokenExpired",onConnectionStateChanged:"onConnectionStateChanged"},t.PING_MESSAGE=126,t.RECONNECTION_TIMEOUT=5e3,t.REQUEST_TIMEOUT=1e4,t.EPOCH=1584611944111,t.BIT22=4194304,t.REACTION_EVENT_TYPE={ADD:"add",DELETE:"delete"},t.CONNECTION_STATE={CONNECTING:"Connecting",CONNECTED:"Connected",DISCONNECTED:"Disconnected",FAILED:"Failed",RECONNECTING:"Reconnecting"},t.MESSAGE_MARKER_NAME={RECEIVED:"received",DISPLAYED:"displayed"}},6690:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MemberListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNextPage=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasNext?(t=e||i.InternalChannelHandler.getInstance(),this.loading=!0,[4,t.getMembers(this)]):[3,2];case 1:return n=o.sent(),this.loading=!1,r=n.members,s=r.hasNext,a=r.list,l=n.nextToken,this.index+=a.length,this.hasNext=s,this.nextToken=l,[2,{members:t.createMembersList(a),hasNext:this.hasNext}];case 2:return[2,{members:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.channelId=e.channelId,this.order=e.order,this.type=e.type,this.key=e.key,this.index=e.i,this.count=e.count}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orderKey",{get:function(){return this.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orderType",{get:function(){return this.order},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queryType",{get:function(){return this.type},enumerable:!1,configurable:!0}),e}();t.MemberListQuery=s},6818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelListener=void 0;t.ChannelListener=function(){this.onMessageEdited=function(){},this.onMessageDeleted=function(){},this.onReactionAdded=function(){},this.onReactionDeleted=function(){},this.onMessage=function(){},this.onSignal=function(){},this.onMemberLeft=function(){},this.onBlocked=function(){},this.onUnblocked=function(){},this.onMemberJoined=function(){},this.onCreated=function(){},this.onUpdated=function(){},this.onDeleted=function(){},this.onMembersAdded=function(){},this.onMembersKicked=function(){},this.onMembersBlocked=function(){},this.onMembersUnblocked=function(){},this.onReceivedMessageListMarker=function(){},this.onTotalUnreadCountUpdated=function(){},this.onHidden=function(){},this.onShown=function(){},this.onMarkedAsUnread=function(){},this.onMarkedAsRead=function(){},this.onHistoryCleared=function(){},this.onDeletedAllMessages=function(){},this.onMembersRoleChanged=function(){},this.onOwnerChanged=function(){},this.onMuted=function(){},this.onUnmuted=function(){},this.onPined=function(){},this.onUnpined=function(){},this.onReceivedChannelEvent=function(){},this.onChannelFrozen=function(){},this.onChannelUnfrozen=function(){}}},6920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contact=void 0;var r=n(4799);t.Contact=function(e){this.id=e.user.id,this.firstName=e.firstName,this.lastName=e.lastName,this.metadata=e.metadata,this.keys=e.keys,this.user=new r.User(e.user)}},6925:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3065)),i=r(n(251)),s=o.default.noConflict(),a=i.default;a.reg(s),a.apply(s),i.default.apply(o.default,{timestampFormatter:function(e){return"".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds(),":").concat(e.getMilliseconds())}}),t.default=s},6946:(e,t,n)=>{"use strict";e.exports=n(4394)},6987:(e,t,n)=>{"use strict";var r=n(9516),o=n(7018),i=n(5449),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(5592)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c},7007:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacySettingsQueryBuilder=void 0;var a=n(1853),l=n(1050),c=n(4818),u=function(e){function t(){var t=e.call(this)||this;return t.count=20,t.privacyField="",t.type=0,t.limit=function(e){return t.count=e>50?50:e,t},t.privacyParameter=function(e){return t.privacyField=e,t},t.exceptionType=function(e){return t.type=e,t},t.build=function(){return i(t,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.PrivacyListQuery(this)]}catch(e){throw new c.SceytChatError(e.message,e.code)}return[2]}))}))},t}return o(t,e),t}(l.QueryBuilder);t.PrivacySettingsQueryBuilder=u},7018:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},7209:(e,t,n)=>{"use strict";e.exports=i,i.className="ReflectionObject";var r,o=n(3262);function i(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var i=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var s=i[e];o.setProperty(s,n,t)}else(i={})[e]=o.setProperty({},n,t),r.push(i)}else{var a={};a[e]=t,r.push(a)}return this},i.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){r=e}},7257:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListSearchQueryBuilder=void 0;var a=n(431),l=n(1050),c=n(4818),u=function(e){function t(t){var n=e.call(this)||this;return n.build=function(){return i(n,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.MessageListSearchQuery(this)]}catch(e){throw new c.SceytChatError(e.message,e.code)}return[2]}))}))},n.channelId=t,n.fields=[],n.count=20,n}return o(t,e),t.prototype.setChannelId=function(e){return this.channelId=e,this},t.prototype.addField=function(e){return this.fields.push(e),this},t.prototype.setCount=function(e){return this.count=e>50?50:e,this},t}(l.QueryBuilder);t.MessageListSearchQueryBuilder=u},7522:(e,t,n)=>{"use strict";var r=n(7763);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},7525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7573:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListByTypeQueryBuilder=void 0;var a=n(4799),l=function(e){function t(t,n){var r=e.call(this)||this;return r.limit=function(e){return r.count=e,r},r.reverse=function(e){r.reverseData=e},r.build=function(){return i(r,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.MessageListByTypeQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},r.channelId=t,r.msgType=n,r.reverseData=!1,r}return o(t,e),t}(n(1050).QueryBuilder);t.MessageListByTypeQueryBuilder=l},7595:(e,t,n)=>{"use strict";e.exports=o;var r=n(3610);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,n,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(e,a,t,n,o,i);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return a.emit("error",e,t),s(e);if(null!==n){if(!(n instanceof o))try{n=o[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",n,t),s(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7668:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListQueryBuilder=void 0;var a=n(4799),l=function(e){function t(t){var n=e.call(this)||this;return n.searchThread=!1,n.reversed=!1,n.limit=function(e){return n.count=e,n},n.reverse=function(e){return n.reversed=e,n},n.searchInThread=function(){return n.searchThread=!0,n},n.build=function(){return i(n,void 0,void 0,(function(){return s(this,(function(e){try{return[2,new a.MessageListQuery(this)]}catch(e){throw new a.SceytChatError(e.message,e.code)}return[2]}))}))},n.channelId=t,n}return o(t,e),t}(n(1050).QueryBuilder);t.MessageListQueryBuilder=l},7728:(e,t,n)=>{"use strict";e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var a=e._fieldsArray[n].resolve(),l=a.resolvedType instanceof r?"int32":a.type,c="m"+i.safeProp(a.name);t("case %i:",a.id),a.map?(t("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[a.keyType]?t("k=%j",o.defaults[a.keyType]):t("k=null"),void 0!==o.defaults[l]?t("value=%j",o.defaults[l]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===o.basic[l]?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",l),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[a.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',c):t("%s[k]=value",c)):a.repeated?(t("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==o.packed[l]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,l)("}else"),void 0===o.basic[l]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,n):t("%s.push(r.%s())",c,l)):void 0===o.basic[l]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,n):t("%s=r.%s()",c,l),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",s(u))}return t("return m")};var r=n(5643),o=n(361),i=n(3262);function s(e){return"missing required '"+e.name+"'"}},7763:(e,t,n)=>{"use strict";var r=n(5449);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},7882:(e,t,n)=>{"use strict";e.exports=b;var r=n(8923);((b.prototype=Object.create(r.prototype)).constructor=b).className="Type";var o=n(5643),i=n(1457),s=n(1344),a=n(8252),l=n(9687),c=n(2551),u=n(6237),d=n(3449),p=n(3262),h=n(1080),f=n(7728),g=n(420),y=n(744),m=n(6434);function b(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function v(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(b.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=b.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,c,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:p.oneOfGetter(this._oneofsArray[n].oneof),set:p.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),b.generateConstructor=function(e){for(var t,n=p.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",p.safeProp(t.name)):t.repeated&&n("this%s=[]",p.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},b.fromJSON=function(e,t){var n=new b(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var c=Object.keys(t.fields),u=0;u<c.length;++u)n.add((void 0!==t.fields[c[u]].keyType?a.fromJSON:s.fromJSON)(c[u],t.fields[c[u]]));if(t.oneofs)for(c=Object.keys(t.oneofs),u=0;u<c.length;++u)n.add(i.fromJSON(c[u],t.oneofs[c[u]]));if(t.nested)for(c=Object.keys(t.nested),u=0;u<c.length;++u){var d=t.nested[c[u]];n.add((void 0!==d.id?s.fromJSON:void 0!==d.fields?b.fromJSON:void 0!==d.values?o.fromJSON:void 0!==d.methods?l.fromJSON:r.fromJSON)(c[u],d))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},b.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},b.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},b.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},b.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),v(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),v(this)):r.prototype.add.call(this,e)},b.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),v(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),v(this)}return r.prototype.remove.call(this,e)},b.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},b.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},b.prototype.create=function(e){return new this.ctor(e)},b.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=h(this)({Writer:d,types:t,util:p}),this.decode=f(this)({Reader:u,types:t,util:p}),this.verify=g(this)({types:t,util:p}),this.fromObject=y.fromObject(this)({types:t,util:p}),this.toObject=y.toObject(this)({types:t,util:p});var r=m[e];if(r){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(o),o.toObject=this.toObject,this.toObject=r.toObject.bind(o)}return this},b.prototype.encode=function(e,t){return this.setup().encode(e,t)},b.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},b.prototype.decode=function(e,t){return this.setup().decode(e,t)},b.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},b.prototype.verify=function(e){return this.setup().verify(e)},b.prototype.fromObject=function(e){return this.setup().fromObject(e)},b.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},b.d=function(e){return function(t){p.decorateType(t,e)}}},7980:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8015:(e,t,n)=>{"use strict";var r=n(9516),o=n(9012),i=n(5155),s=n(5343);function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var l=a(n(6987));l.Axios=i,l.create=function(e){return a(s(l.defaults,e))},l.Cancel=n(1928),l.CancelToken=n(3191),l.isCancel=n(3864),l.all=function(e){return Promise.all(e)},l.spread=n(7980),l.isAxiosError=n(5019),e.exports=l,e.exports.default=l},8045:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,s){n[r]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,s(e))}}))}},8077:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBuilder=void 0;var o=n(4799);t.MessageBuilder=function(e,t){var n=this;this.requestedMentionUserIds=[],this.transient=!1,this.silent=!1,this.assignedReadCount=1,this.setBody=function(e){return n.text=e,n},this.setMetadata=function(e){return n.metadata=e,n},this.setBodyAttributes=function(e){return n.bodyAttributes=e,n},this.setTransient=function(e){return n.transient=e,n},this.setSilent=function(e){return n.silent=e,n},this.setType=function(e){return n.type=e,n},this.setParentMessageId=function(e){return n.parentMessageId=e,n},this.setForwardingMessageId=function(e){return n.forwardingMessageId=e,n},this.setReplyInThread=function(){return n.replyInThread=!0,n},this.setDisplayCount=function(e){return n.assignedReadCount=e,n},this.setMentionUserIds=function(e){return n.requestedMentionUserIds=e,n},this.setAttachments=function(e){return e&&e.length&&(n.attachments=e),n},this.create=function(){return new o.Message({message:r({from:n.from,to:n.to,text:n.text,type:n.type,metadata:n.metadata,attachments:n.attachments,tid:n.tid,requestedMentionUserIds:n.requestedMentionUserIds,parentMessageId:n.parentMessageId,bodyAttributes:n.bodyAttributes,silent:n.silent,assignedReadCount:n.assignedReadCount,transient:n.transient},n.forwardingMessageId&&{forwardingDetails:{messageId:n.forwardingMessageId}}),replyInThread:n.replyInThread})},this.from=e,this.to=t,this.text="",this.type="",this.metadata="",this.tid=(0,o.createTid)(),this.attachments=[],this.replyInThread=!1,this.bodyAttributes=[]}},8156:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5017)),i=r(n(6946));i.default.util.Long=o.default,i.default.configure();var s=n(4799);t.default=s.SceytChat},8252:(e,t,n)=>{"use strict";e.exports=s;var r=n(1344);((s.prototype=Object.create(r.prototype)).constructor=s).className="MapField";var o=n(361),i=n(3262);function s(e,t,n,o,s,a){if(r.call(this,e,t,o,void 0,void 0,s,a),!i.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},s.d=function(e,t,n){return"function"==typeof n?n=i.decorateType(n).name:n&&"object"==typeof n&&(n=i.decorateEnum(n).name),function(r,o){i.decorateType(r.constructor).add(new s(o,e,t,n))}}},8420:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var a=n(4799),l=s(n(2505)),c=s(n(2549)),u=function(){function e(e,t){var n=this;this.createHeaders=function(e,t){return r({"app-id":n.appId,Authorization:"Bearer ".concat(e)},t)},this.connect=function(e,t){return o(n,void 0,void 0,(function(){var n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n={headers:this.createHeaders(e,{"Content-Type":"application/json"}),timeout:t},[4,l.default.post("".concat(this.endpoint,"/").concat(a.api.connect),{},n)];case 1:return r=i.sent(),o=r.status,[2,{message:(s=r.data).message,code:s.code,credentials:s,statusCode:o,response:r}];case 2:throw i.sent();case 3:return[2]}}))}))},this.uploadFile=function(e,t,r){var o={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);r&&r(t)},headers:n.createHeaders(t)};return l.default.post("".concat(n.endpoint,"/").concat(a.api.files),e,o)},this.channelReport=function(e,t){return o(n,void 0,void 0,(function(){var n;return i(this,(function(r){return n={headers:this.createHeaders(t)},[2,l.default.post("".concat(this.endpoint,"/").concat(a.api.reports,"/channels"),e,n)]}))}))},this.messageReport=function(e,t){return o(n,void 0,void 0,(function(){var n;return i(this,(function(r){return n={headers:this.createHeaders(t)},[2,l.default.post("".concat(this.endpoint,"/").concat(a.api.reports,"/messages"),e,n)]}))}))},this.userReport=function(e,t){return o(n,void 0,void 0,(function(){var n;return i(this,(function(r){return n={headers:this.createHeaders(t)},[2,l.default.post("".concat(this.endpoint,"/").concat(a.api.reports,"/users"),e,n)]}))}))},this.getContacts=function(e){return o(n,void 0,void 0,(function(){var t;return i(this,(function(n){return t={headers:this.createHeaders(e)},[2,l.default.get("".concat(this.contactsEndpoint,"/all"),{headers:t.headers,responseType:"arraybuffer"})]}))}))},this.addContactDiscoveries=function(e,t){return o(n,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return n={headers:this.createHeaders(t,{"Content-Type":"application/x-protobuf"})},[4,a.PB.encodeDiscoveries(e)];case 1:return r=i.sent(),o=c.default.util.newBuffer(r),[2,l.default.post("".concat(this.contactsDiscoveriesEndpoint),o,{headers:n.headers,responseType:"arraybuffer"})]}}))}))},this.deleteAllContactDiscoveries=function(e){return o(n,void 0,void 0,(function(){var t;return i(this,(function(n){return t={headers:this.createHeaders(e)},[2,l.default.delete("".concat(this.contactsDiscoveriesEndpoint,"all"),{headers:t.headers})]}))}))},this.mute=function(e,t){var r={headers:n.createHeaders(t)};return l.default.put("".concat(n.endpoint,"/").concat(a.api.settings),e,r)},this.setSettings=function(e,t){var r={headers:n.createHeaders(t)};return l.default.put("".concat(n.endpoint,"/").concat(a.api.settings),e,r)},this.getSettings=function(e){var t={headers:n.createHeaders(e)};return l.default.get("".concat(n.endpoint,"/").concat(a.api.settings),t)},this.endpoint=e+"/user/api/v1",this.contactsEndpoint=e+"/contact/user/v1",this.contactsDiscoveriesEndpoint=e+"/contact/user/v1/discovery/",this.appId=t}var t;return t=e,e.getToken=function(e,n){return o(void 0,void 0,void 0,(function(){return i(t,(function(t){return[2,l.default.get("https://hynxpd4k0f.execute-api.eu-central-1.amazonaws.com/dev/user/genToken?user=".concat(e).concat(n?"&"+n:"","&app=staging"))]}))}))},e.createChannelType=function(e){return o(void 0,void 0,void 0,(function(){return i(t,(function(t){return[2,l.default.post("".concat("https://us-ohio-api.sceyt.com/v1/97rk7nqx4l/channel-types"),e,{headers:{"Content-Type":"application/json","Platform-Api-Key":process.env.SCEYT_APP_API_KEY}})]}))}))},e.deleteChannelType=function(e){return o(void 0,void 0,void 0,(function(){return i(t,(function(t){return[2,l.default.delete("".concat("https://us-ohio-api.sceyt.com/v1/97rk7nqx4l/channel-types","/").concat(e),{headers:{"Platform-Api-Key":process.env.SCEYT_APP_API_KEY}})]}))}))},e}();t.HttpClient=u},8561:e=>{"use strict";function t(e,n){"string"==typeof e&&(n=e,e=void 0);var r=[];function o(e){if("string"!=typeof e){var n=i();if(t.verbose&&console.log("codegen: "+n),n="return "+n,e){for(var s=Object.keys(e),a=new Array(s.length+1),l=new Array(s.length),c=0;c<s.length;)a[c]=s[c],l[c]=e[s[c++]];return a[c]=n,Function.apply(null,a).apply(null,l)}return Function(n)()}for(var u=new Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=u[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),d!==u.length)throw Error("parameter count mismatch");return r.push(e),o}function i(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return o.toString=i,o}e.exports=t,t.verbose=!1},8576:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedUserListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNextPage=function(){return r(t,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return this.loading?[3,4]:this.hasNext?(e=i.InternalUserHandler.getInstance(),this.loading=!0,t={count:this.count,index:this.index},[4,e.blockedUsersQuery(t)]):[3,2];case 1:return n=r.sent(),this.loading=!1,this.index+=n.length,this.hasNext=this.count>=n.length,[2,{users:n,hasNext:this.hasNext}];case 2:return[2,{users:[],hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.index=e.i,this.count=e.count,this.hasNext=e.hasNext}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),e}();t.BlockedUserListQuery=s},8666:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelListQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.fields=[],this.sort=i.ChannelSearchQuerySortOptions[i.ChannelSearchQuerySortOptions.Last_message],this.index=0,this.unreadChannelCount=0,this.unreadMessageCount=0,this.channelMembersCount=10,this.totalChannels=0,this.loadNextPage=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l,c,u,d;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasNext?(t=e||i.InternalChannelHandler.getInstance(),this.loading=!0,[4,t.getChannels(this)]):[3,2];case 1:return n=o.sent(),this.loading=!1,r=n.channels,s=r.list,a=r.HasNext,l=n.count,c=n.totalUnread,u=n.unreadChannels,d=n.nextToken,this.index+=s.length,this.hasNext=a,this.unreadMessageCount=c||0,this.unreadChannelCount=u||0,this.totalChannels=l,this.nextToken=d,[2,{channels:t.createChannels(s),totalUnreadChannelCount:u||0,totalUnreadMessageCount:c||0,hasNext:this.hasNext}];case 2:return[2,{channels:[],totalUnreadChannelCount:0,totalUnreadMessageCount:0,hasNext:this.hasNext}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.ctype=e.ctype,this.fields=e.fields,this.sort=e.sort,this.index=e.index,this.count=e.count,this.channelMembersCount=e.channelMembersCount}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"memberCount",{get:function(){return this.channelMembersCount},set:function(e){this.channelMembersCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.ctype},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalChannelCount",{get:function(){return this.totalChannels},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalUnreadChannelCount",{get:function(){return this.unreadChannelCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalUnreadMessageCount",{get:function(){return this.unreadMessageCount},enumerable:!1,configurable:!0}),e}();t.ChannelListQuery=s},8699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListMarker=void 0;var r=n(4799);t.MessageListMarker=function(e){this.messageIds=e.ids.map((function(e){return e.toString()})),this.user=new r.User(e.from),this.name=e.marker,this.createAt=new Date(e.time)}},8811:(e,t,n)=>{"use strict";e.exports=i;var r=n(7209);((i.prototype=Object.create(r.prototype)).constructor=i).className="Method";var o=n(3262);function i(e,t,n,i,s,a,l,c,u){if(o.isObject(s)?(l=s,s=a=void 0):o.isObject(a)&&(l=a,a=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(n))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");r.call(this,e,l),this.type=t||"rpc",this.requestType=n,this.requestStream=!!s||void 0,this.responseType=i,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=u}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},8839:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,n){for(var o,i=null,s=[],a=0,l=0;t<n;){var c=e[t++];switch(l){case 0:s[a++]=r[c>>2],o=(3&c)<<4,l=1;break;case 1:s[a++]=r[o|c>>4],o=(15&c)<<2,l=2;break;case 2:s[a++]=r[o|c>>6],s[a++]=r[63&c],l=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return l&&(s[a++]=r[o],s[a++]=61,1===l&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";n.decode=function(e,t,n){for(var r,i=n,a=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&a>1)break;if(void 0===(c=o[c]))throw Error(s);switch(a){case 0:r=c,a=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error(s);return n-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},8923:(e,t,n)=>{"use strict";e.exports=d;var r=n(7209);((d.prototype=Object.create(r.prototype)).constructor=d).className="Namespace";var o,i,s,a=n(1344),l=n(1457),c=n(3262);function u(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function d(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function p(e){return e._nestedArray=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=u,d.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},d.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),d.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},d.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?o.fromJSON:void 0!==t.values?s.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?a.fromJSON:d.fromJSON)(n[r],t));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof o||e instanceof s||e instanceof i||e instanceof d||e instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof d&&e instanceof d)||t instanceof o||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),p(this)},d.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),p(this)},d.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof d))throw Error("path conflicts with non-namespace objects")}else n.add(n=new d(r))}return t&&n.addJSON(t),n},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof d&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof d&&(r=this._nestedArray[o].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,n){o=e,i=t,s=n}},9012:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9100:(e,t,n)=>{"use strict";var r=e.exports=n(5325);r.build="full",r.tokenize=n(527),r.parse=n(4863),r.common=n(5095),r.Root._configure(r.Type,r.parse,r.common)},9106:(e,t,n)=>{"use strict";var r=n(9516);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},9137:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9155:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SocketClient=void 0;var o=r(n(169)),i=r(n(3065)),s=n(4799),a=r(n(6925)),l=function(){function e(){var e=this;this.onTokenWillExpire=new s.LiteEvent,this.onTokenExpired=new s.LiteEvent,this.onClientDisconnected=new s.LiteEvent,this.disconnectTimeoutMs=1e4,this.pingTimeoutMs=15e3,this.willBeNotified=!0,this.close=function(t){var n=e.socket;i.default.info("WebSocket close: ws: ",n),e.onClientDisconnected.trigger(t),n&&(n.close&&n.readyState===n.OPEN&&"noPong"!==t||"DISCONNECT"===t)?(n.close(4004,"Manually closed connection by calling chatClient.disconnect()"),i.default.info("WebSocket destroy:"),e.removeHandlers()):n&&n.close(),clearTimeout(e.pingTimeout),clearTimeout(e.disconnectTimeout)},this.ping=function(){var t=e.connectionState,n=e.expDate-Date.now();n<=0?(e.onTokenExpired.trigger(),i.default.info("Token expired, close socket"),e.close()):(e.willBeNotified&&n<=3e5&&(e.willBeNotified=!1,e.onTokenWillExpire.trigger(n)),t===s.CLIENT_STATE.CONNECTED?(e.pingTimestamp=Date.now(),a.default.info("ping"),e.socket.send((0,s.concatTypedArrays)(new Uint8Array([129]),new Uint8Array([s.PING_MESSAGE]))),e.startDisconnectTimeout()):(i.default.info("[ping]: Socket is not connected, close socket"),e.close()))},i.default.info("Init SocketClient")}return Object.defineProperty(e.prototype,"tokenWillExpire",{get:function(){return this.onTokenWillExpire.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenExpired",{get:function(){return this.onTokenExpired.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disconnectClient",{get:function(){return this.onClientDisconnected.expose()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){return this.socket?this.socket.readyState:s.SOCKET_STATE.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e},enumerable:!1,configurable:!0}),e.prototype.initSocket=function(){i.default.info("WebSocket init:"),this.socket=new o.default(this.host),this.socket.binaryType="arraybuffer"},e.prototype.attachHandlers=function(){this.socket.addEventListener("open",this.handlers.open),this.socket.addEventListener("close",this.handlers.close),this.socket.addEventListener("message",this.handlers.message),this.socket.addEventListener("error",this.handlers.error)},e.prototype.removeHandlers=function(){this.socket.removeEventListener("open",this.handlers.open),this.socket.removeEventListener("close",this.handlers.close),this.socket.removeEventListener("message",this.handlers.message),this.socket.removeEventListener("error",this.handlers.error)},e.prototype.sendMessage=function(e){this.socket.send(e)},e.prototype.connect=function(e){this.initSocket(),this.handlers=e,this.attachHandlers()},e.prototype.reconnect=function(){this.initSocket(),this.attachHandlers()},e.prototype.keepAlive=function(e){e&&(this.expDate=e,this.willBeNotified=!0),this.pingTimeout=setTimeout(this.ping,this.pingTimeoutMs)},e.prototype.startDisconnectTimeout=function(){this.disconnectTimeout=setTimeout(this.close.bind(this,"noPong"),this.disconnectTimeoutMs)},e.prototype.stopDisconnectTimeout=function(e){clearTimeout(this.disconnectTimeout),clearTimeout(this.pingTimeout),e||this.keepAlive()},e.prototype.handlePong=function(){this.stopDisconnectTimeout(),a.default.info("pong")},e.prototype.socketInitialized=function(){return!!this.socket},e}();t.SocketClient=l},9207:(e,t)=>{"use strict";var n=t,r=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),o="";n&&(o=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):n?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return o+t.join("/")};n.resolve=function(e,t,n){return n||(t=o(t)),r(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},9245:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BlockedMemberListQueryBuilder=void 0;var i=n(4799),s=function(e){function t(t){var n=e.call(this)||this;return n.limit=function(e){return n.count=e,n},n.build=function(){try{return new i.BlockedMemberListQuery(n)}catch(e){throw new i.SceytChatError(e.message,e.code)}},n.channelId=t,n.hasNext=!0,n}return o(t,e),t}(i.QueryBuilder);t.BlockedMemberListQueryBuilder=s},9286:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageLinkOGQuery=void 0;var i=n(2814),s=function(){function e(e){this.loading=!1,this.url=e.url,this.loading=!1}return e.prototype.loadOGData=function(){return r(this,void 0,void 0,(function(){var e,t;return o(this,(function(n){return this.loading?[2]:(this.loading=!0,e=i.InternalChannelHandler.getInstance(),t=e.loadOGData(this.url),this.loading=!1,[2,t])}))}))},e}();t.MessageLinkOGQuery=s},9353:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionListener=void 0;t.ConnectionListener=function(){this.onTokenWillExpire=function(){},this.onTokenExpired=function(){},this.onConnectionStateChanged=function(){}}},9390:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,s=r;return function(n){if(n<1||n>o)return e(n);s+n>r&&(i=e(r),s=0);var a=t.call(i,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},9410:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?s:a,e.readFloatBE=r?a:s}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function s(e,t,n){var r=e(t,n),o=2*(r>>31)+1,i=r>>>23&255,s=8388607&r;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=s.bind(null,o),e.readFloatBE=s.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?s:a,e.readDoubleBE=r?a:s}():function(){function t(e,t,n,r,o,i){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,o,i+t),e(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(r>17976931348623157e292)e(0,o,i+t),e((s<<31|2146435072)>>>0,o,i+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,o,i+t),e((s<<31|a/4294967296)>>>0,o,i+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(a=r*Math.pow(2,-l))>>>0,o,i+t),e((s<<31|l+1023<<20|1048576*a&1048575)>>>0,o,i+n)}}}function s(e,t,n,r,o){var i=e(r,o+t),s=e(r,o+n),a=2*(s>>31)+1,l=s>>>20&2047,c=4294967296*(1048575&s)+i;return 2047===l?c?NaN:a*(1/0):0===l?5e-324*a*c:a*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=s.bind(null,o,0,4),e.readDoubleBE=s.bind(null,i,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},9516:(e,t,n)=>{"use strict";var r=n(9012),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9615:(e,t,n)=>{"use strict";var r=n(9137),o=n(4680);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},9651:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListByTypeQuery=void 0;var i=n(4799),s=function(){function e(e){var t=this;this.count=10,this.hasNext=!0,this.loading=!1,this.loadNext=function(){return r(t,void 0,void 0,(function(){var e,t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return this.loading?[3,4]:this.hasNext?(e=i.InternalChannelHandler.getInstance(),t={channelId:this.channelId,count:this.count,timestamp:this.msgId?void 0:Date.now(),msgId:this.msgId,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType},this.loading=!0,[4,e.loadMessages(t)]):[3,2];case 1:return n=o.sent(),r=n.messages,s=n.search,this.loading=!1,a=e.formatReceivedMessages(r.list,this.reverseData),s&&(this.hasNext=!s.complete),a.length&&(this.msgId=a[a.length-1].id),[2,{messages:a,complete:null==s?void 0:s.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextMessageId=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:if(!e)throw new i.SceytChatError("Need to specify message id");return this.loading?[3,4]:this.hasNext?(t=i.InternalChannelHandler.getInstance(),n={channelId:this.channelId,count:this.count,msgId:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType},this.loading=!0,[4,t.loadMessages(n)]):[3,2];case 1:return r=o.sent(),s=r.messages,a=r.search,this.loading=!1,l=t.formatReceivedMessages(s.list,this.reverseData),a&&(this.hasNext=!a.complete),l.length&&(this.msgId=l[0].id),[2,{messages:l,complete:null==a?void 0:a.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.loadNextTimestamp=function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:if(!e)throw new i.SceytChatError("Need to specify timeStamp");return this.loading?[3,4]:this.hasNext?(t=i.InternalChannelHandler.getInstance(),n={channelId:this.channelId,count:this.count,timestamp:e,direction:i.MessageQueryDirection[i.MessageQueryDirection.Previous],messageType:this.msgType},this.loading=!0,[4,t.loadMessages(n)]):[3,2];case 1:return r=o.sent(),s=r.messages,a=r.search,this.loading=!1,l=t.formatReceivedMessages(s.list,this.reverseData),a&&(this.hasNext=!a.complete),l.length&&(this.msgId=l[0].id),[2,{messages:l,complete:null==a?void 0:a.complete}];case 2:return[2,{messages:[],complete:!0}];case 3:return[3,5];case 4:throw new i.SceytChatError(i.clientErrors.QUERY_IN_PROGRESS.message,i.clientErrors.QUERY_IN_PROGRESS.code);case 5:return[2]}}))}))},this.msgType=e.msgType,this.count=e.count,this.channelId=e.channelId,this.reverseData=e.reverseData}return Object.defineProperty(e.prototype,"limit",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.msgType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this.reverseData},set:function(e){this.reverseData=e},enumerable:!1,configurable:!0}),e}();t.MessageListByTypeQuery=s},9687:(e,t,n)=>{"use strict";e.exports=a;var r=n(8923);((a.prototype=Object.create(r.prototype)).constructor=a).className="Service";var o=n(8811),i=n(3262),s=n(5047);function a(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function l(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var n=new a(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),i=0;i<r.length;++i)n.add(o.fromJSON(r[i],t.methods[r[i]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},a.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof o?(this.methods[e.name]=e,e.parent=this,l(this)):r.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof o){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,l(this)}return r.prototype.remove.call(this,e)},a.prototype.create=function(e,t,n){for(var r,o=new s.Service(e,t,n),a=0;a<this.methodsArray.length;++a){var l=i.lcFirst((r=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");o[l]=i.codegen(["r","c"],i.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return o}},9730:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createTid=t.timeout=t.sleep=t.createUUID=t.concatTypedArrays=void 0,t.concatTypedArrays=function(e,t,n){var r=new e.constructor(e.length+t.length+(n?n.length:0));return r.set(e,0),r.set(t,e.length),n&&r.set(n,e.length+t.length),r},t.createUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.timeout=function(e,t){return new Promise((function(r,o){setTimeout((function(){o(n(n({},new Error("timeout")),{connectionTimeout:!0}))}),e),t.then(r,o)}))},t.createTid=function(){return String(Math.floor(8223372036854777*Math.random())+1e15)}},9965:(e,t)=>{"use strict";var n,r,o,i,s,a,l,c,u,d,p,h,f,g,y,m,b,v,O,w,S,_,E,I;Object.defineProperty(t,"__esModule",{value:!0}),t.MembersOrderKey=t.MembersOrder=t.MembersType=t.ExceptionType=t.UserSearchFilter=t.UserSearchOrder=t.UserAction=t.KeyType=t.MessageEventType=t.MessageQueryDirection=t.MessageDeliveryStatus=t.MessageUpdateStatus=t.UserStatus=t.PresenceStatus=t.SearchQueryType=t.ChannelSearchQueryKey=t.MarkChannel=t.ChannelOrder=t.ChannelSearchQuerySortOptions=t.ChannelQueryType=t.AuthState=t.BMP=t.SOCKET_STATE=t.CLIENT_STATE=void 0,(I=t.CLIENT_STATE||(t.CLIENT_STATE={}))[I.CONNECTING=0]="CONNECTING",I[I.CONNECTED=1]="CONNECTED",I[I.DISCONNECTED=2]="DISCONNECTED",I[I.FAILED=3]="FAILED",I[I.RECONNECTING=4]="RECONNECTING",(E=t.SOCKET_STATE||(t.SOCKET_STATE={}))[E.CONNECTING=0]="CONNECTING",E[E.OPEN=1]="OPEN",E[E.CLOSING=2]="CLOSING",E[E.CLOSED=3]="CLOSED",(_=t.BMP||(t.BMP={}))[_.Error=0]="Error",_[_.Auth=1]="Auth",_[_.AuthResult=2]="AuthResult",_[_.Message=3]="Message",_[_.MessageMarkerStatus=4]="MessageMarkerStatus",_[_.PresenceMessage=5]="PresenceMessage",_[_.ChannelQueryV1=6]="ChannelQueryV1",_[_.ChannelActionV1=7]="ChannelActionV1",_[_.TokenQuery=8]="TokenQuery",_[_.MessageQuery=9]="MessageQuery",_[_.ChannelSearchQueryV1=10]="ChannelSearchQueryV1",_[_.UserQuery=11]="UserQuery",_[_.MessageAction=12]="MessageAction",_[_.SystemMessage=13]="SystemMessage",_[_.ReactionSearchQuery=14]="ReactionSearchQuery",_[_.MessageMarkerQuery=15]="MessageMarkerQuery",_[_.MessageMarkerResult=16]="MessageMarkerResult",_[_.TeamMessage=17]="TeamMessage",_[_.ForwardMessage=18]="ForwardMessage",_[_.ChannelEvent=19]="ChannelEvent",_[_.ProtoMessageReactionsQuery=20]="ProtoMessageReactionsQuery",_[_.MessageLinkOGQuery=22]="MessageLinkOGQuery",_[_.ChannelQuery=30]="ChannelQuery",_[_.ChannelSearchQuery=31]="ChannelSearchQuery",_[_.ChannelAction=32]="ChannelAction",_[_.Signal=100]="Signal",_[_.Pong=127]="Pong",(S=t.AuthState||(t.AuthState={}))[S.NOT_AUTHENTICATED=0]="NOT_AUTHENTICATED",S[S.AUTH_FAILED=1]="AUTH_FAILED",S[S.AUTHENTICATING=2]="AUTHENTICATING",S[S.AUTHENTICATED=3]="AUTHENTICATED",S[S.CONNECTION_TIMEOUT=4]="CONNECTION_TIMEOUT",(w=t.ChannelQueryType||(t.ChannelQueryType={}))[w.NONE=0]="NONE",w[w.CREATE=1]="CREATE",w[w.DELETE=2]="DELETE",w[w.LEAVE=3]="LEAVE",w[w.JOIN=4]="JOIN",w[w.UPDATE=5]="UPDATE",w[w.GET=6]="GET",w[w.GET_LIST=7]="GET_LIST",w[w.ADD_MEMBER=8]="ADD_MEMBER",w[w.KICK_MEMBER=9]="KICK_MEMBER",w[w.MEMBERS=10]="MEMBERS",w[w.BLOCK=11]="BLOCK",w[w.UNBLOCK=12]="UNBLOCK",w[w.GET_BLOCK_LIST=13]="GET_BLOCK_LIST",w[w.BLOCK_MEMBER=14]="BLOCK_MEMBER",w[w.UNBLOCK_MEMBER=15]="UNBLOCK_MEMBER",w[w.GET_BLOCKED_MEMBER_LIST=16]="GET_BLOCKED_MEMBER_LIST",w[w.CHANGE_OWNER=17]="CHANGE_OWNER",w[w.CHANGE_ROLE=18]="CHANGE_ROLE",w[w.GET_ROLES=19]="GET_ROLES",w[w.DELETE_MESSAGES_FOR_ME=20]="DELETE_MESSAGES_FOR_ME",w[w.HIDE_CHANNELS=21]="HIDE_CHANNELS",w[w.UNHIDE_CHANNELS=22]="UNHIDE_CHANNELS",w[w.ARCHIVE_CHANNELS=23]="ARCHIVE_CHANNELS",w[w.UNARCHIVE_CHANNELS=24]="UNARCHIVE_CHANNELS",w[w.GET_ARCHIVED_CHANNELS=25]="GET_ARCHIVED_CHANNELS",w[w.GET_HIDDEN_CHANNELS=26]="GET_HIDDEN_CHANNELS",w[w.MARK_AS_UNREAD=27]="MARK_AS_UNREAD",w[w.GET_UNREADS=28]="GET_UNREADS",w[w.MUTE_CHANNELS=29]="MUTE_CHANNELS",w[w.UNMUTE_CHANNELS=30]="UNMUTE_CHANNELS",w[w.GET_MUTED_CHANNELS=31]="GET_MUTED_CHANNELS",w[w.MARK_AS_READ=32]="MARK_AS_READ",w[w.ATTACHMENTS=33]="ATTACHMENTS",w[w.PIN_CHANNELS=34]="PIN_CHANNELS",w[w.UNPIN_CHANNELS=35]="UNPIN_CHANNELS",w[w.CREATE_THREAD=36]="CREATE_THREAD",w[w.GET_THREADS=37]="GET_THREADS",w[w.DELETE_MESSAGES_FOR_EVERYONE=38]="DELETE_MESSAGES_FOR_EVERYONE",w[w.MESSAGE_AUTO_DELETE_PERIOD=39]="MESSAGE_AUTO_DELETE_PERIOD",w[w.FREEZE_CHANNEL=40]="FREEZE_CHANNEL",w[w.UNFREEZE_CHANNEL=41]="UNFREEZE_CHANNEL",(O=t.ChannelSearchQuerySortOptions||(t.ChannelSearchQuerySortOptions={}))[O.Last_message=0]="Last_message",O[O.Created_at=1]="Created_at",(v=t.ChannelOrder||(t.ChannelOrder={}))[v.LAST_MESSAGE=0]="LAST_MESSAGE",v[v.CREATED_AT=1]="CREATED_AT",(b=t.MarkChannel||(t.MarkChannel={}))[b.AS_READ=0]="AS_READ",b[b.AS_UNREAD=1]="AS_UNREAD",(m=t.ChannelSearchQueryKey||(t.ChannelSearchQueryKey={}))[m.SUBJECT=0]="SUBJECT",m[m.URI=1]="URI",m[m.LABEL=2]="LABEL",m[m.USER=3]="USER",m[m.STATE=4]="STATE",m[m.TYPE=5]="TYPE",m[m.CREATED_AT=6]="CREATED_AT",(y=t.SearchQueryType||(t.SearchQueryType={}))[y.NONE=0]="NONE",y[y.CONTAINS=1]="CONTAINS",y[y.BEGINS_WITH=2]="BEGINS_WITH",y[y.EQUAL=3]="EQUAL",y[y.LT=4]="LT",y[y.LTE=5]="LTE",y[y.GT=6]="GT",y[y.GTE=7]="GTE",y[y.IN=8]="IN",y[y.BETWEEN=9]="BETWEEN",(g=t.PresenceStatus||(t.PresenceStatus={}))[g.offline=0]="offline",g[g.online=1]="online",g[g.invisible=2]="invisible",g[g.away=3]="away",g[g.dnd=4]="dnd",(f=t.UserStatus||(t.UserStatus={}))[f.active=0]="active",f[f.inactive=1]="inactive",f[f.deleted=2]="deleted",(h=t.MessageUpdateStatus||(t.MessageUpdateStatus={}))[h.unmodified=0]="unmodified",h[h.edited=1]="edited",h[h.deleted=2]="deleted",h[h.composing=3]="composing",h[h.paused=4]="paused",h[h.deleteForMe=5]="deleteForMe",h[h.deleteHard=6]="deleteHard",h[h.moderated=7]="moderated",(p=t.MessageDeliveryStatus||(t.MessageDeliveryStatus={}))[p.pending=0]="pending",p[p.sent=1]="sent",p[p.received=2]="received",p[p.displayed=3]="displayed",(d=t.MessageQueryDirection||(t.MessageQueryDirection={}))[d.None=0]="None",d[d.Next=1]="Next",d[d.Previous=2]="Previous",d[d.Near=3]="Near",(u=t.MessageEventType||(t.MessageEventType={}))[u.Search=0]="Search",u[u.Update=1]="Update",u[u.Add_reaction=2]="Add_reaction",u[u.Delete_reaction=3]="Delete_reaction",u[u.Update_reaction=4]="Update_reaction",u[u.Attachments=5]="Attachments",u[u.Reactions=6]="Reactions",u[u.Threads=7]="Threads",u[u.Search_in_thread=8]="Search_in_thread",u[u.Save=9]="Save",u[u.Un_save=10]="Un_save",u[u.markers=11]="markers",u[u.Get_messages_by_ids=12]="Get_messages_by_ids",u[u.Unread_mentions=13]="Unread_mentions",u[u.Unread_reactions=14]="Unread_reactions",(c=t.KeyType||(t.KeyType={}))[c.BODY=0]="BODY",c[c.TYPE=1]="TYPE",c[c.ATTACHMENT_TYPE=2]="ATTACHMENT_TYPE",(l=t.UserAction||(t.UserAction={}))[l.BLOCK=0]="BLOCK",l[l.UNBLOCK=1]="UNBLOCK",l[l.GET_BLOCK_LIST=2]="GET_BLOCK_LIST",(a=t.UserSearchOrder||(t.UserSearchOrder={}))[a.FIRST_NAME=0]="FIRST_NAME",a[a.LAST_NAME=1]="LAST_NAME",a[a.USERNAME=2]="USERNAME",(s=t.UserSearchFilter||(t.UserSearchFilter={}))[s.BY_ALL=0]="BY_ALL",s[s.BY_FIRST_NAME=1]="BY_FIRST_NAME",s[s.BY_LAST_NAME=2]="BY_LAST_NAME",s[s.BY_USERNAME=3]="BY_USERNAME",(i=t.ExceptionType||(t.ExceptionType={}))[i.INCLUSION=0]="INCLUSION",i[i.EXCLUSION=1]="EXCLUSION",(o=t.MembersType||(t.MembersType={}))[o.ALL=0]="ALL",o[o.PRIVILEGED=1]="PRIVILEGED",(r=t.MembersOrder||(t.MembersOrder={}))[r.AFFILATION=0]="AFFILATION",r[r.ASC=1]="ASC",r[r.DESC=2]="DESC",(n=t.MembersOrderKey||(t.MembersOrderKey={}))[n.USERNAME=0]="USERNAME",n[n.FIRSTNAME=1]="FIRSTNAME",n[n.LASTNAME=2]="LASTNAME"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(8156);return __webpack_exports__})()));